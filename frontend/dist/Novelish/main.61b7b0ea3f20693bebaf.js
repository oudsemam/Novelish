(self.webpackChunknovelish=self.webpackChunknovelish||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},5366:(t,e,n)=>{"use strict";n.d(e,{deG:()=>Sn,tb:()=>hd,AFp:()=>sd,ip1:()=>id,CZH:()=>od,hGG:()=>ip,z2F:()=>Jd,sBO:()=>Sh,Sil:()=>xd,_Vd:()=>Jl,EJc:()=>pd,Xek:()=>ed,SBq:()=>Ql,qLn:()=>yi,vpe:()=>Cf,gxx:()=>xs,tBr:()=>tr,XFs:()=>A,GSi:()=>Aa,OlP:()=>Cn,zs3:()=>Fs,IIB:()=>nd,ZZ4:()=>yh,aQg:()=>bh,soG:()=>dd,YKP:()=>Dh,v3s:()=>Yd,h0i:()=>Nh,PXZ:()=>Bd,R0b:()=>Td,FiY:()=>er,Lbi:()=>ld,g9A:()=>cd,Qsj:()=>eh,FYo:()=>th,JOm:()=>Ti,Tiy:()=>rh,q3G:()=>ni,tp0:()=>rr,EAV:()=>Xd,Rgc:()=>Ih,dDg:()=>Rd,DyG:()=>En,q4F:()=>oh,GfV:()=>ih,s_b:()=>Lh,ifc:()=>L,eFA:()=>zd,G48:()=>qd,Gpc:()=>d,X6Q:()=>Vd,_c5:()=>np,VLi:()=>Md,c2e:()=>fd,zSh:()=>Ss,wAp:()=>Pc,vHH:()=>m,EiD:()=>ti,mCW:()=>Lr,qzn:()=>Sr,JVY:()=>Er,pB0:()=>Ar,eBb:()=>Or,L6k:()=>kr,LAX:()=>Ir,cg1:()=>Oc,Tjo:()=>ep,kL8:()=>Ic,yhl:()=>Tr,dqk:()=>q,sIi:()=>Ks,CqO:()=>Ha,QGY:()=>Ba,F4k:()=>za,RDi:()=>It,AaK:()=>l,z3N:()=>Cr,qOj:()=>Vs,TTD:()=>wt,_Bn:()=>Hl,xp6:()=>xo,uIk:()=>oa,Tol:()=>Eu,DjV:()=>Xu,ekj:()=>Cu,Suo:()=>Ff,Xpm:()=>Q,lG2:()=>st,Yz7:()=>w,cJS:()=>x,oAB:()=>rt,Yjl:()=>at,Y36:()=>Ra,_UZ:()=>Ua,BQk:()=>Va,ynx:()=>ja,qZA:()=>Fa,TgZ:()=>La,EpF:()=>Za,n5z:()=>fn,Ikx:()=>Cc,SDv:()=>Nl,QtT:()=>Ll,pQV:()=>Ml,LFG:()=>Yn,$8M:()=>pn,NdJ:()=>Ga,CRH:()=>Uf,oxw:()=>Ka,ALo:()=>pf,lcZ:()=>gf,Hsn:()=>tu,F$t:()=>Xa,Q6J:()=>Da,s9C:()=>eu,MGl:()=>nu,VKq:()=>Qh,WLB:()=>Xh,kEZ:()=>tf,iGM:()=>Mf,MAs:()=>Ta,Jf7:()=>wi,CHM:()=>Yt,oJD:()=>ri,LSH:()=>oi,kYT:()=>it,Udp:()=>xu,YNc:()=>Sa,W1O:()=>Zf,_uU:()=>ju,Oqu:()=>Vu,hij:()=>qu,AsE:()=>Zu,Gf:()=>Lf});var r=n(5959),i=n(7570),o=n(8318),s=n(1906),a=n(1055);function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function v(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function b(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${v(t)} found${n}`)}function _(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function x(t){return{providers:t.providers||[],imports:t.imports||[]}}function C(t){return S(t,E)||S(t,O)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(I))?t[k]:null}const E=u({"\u0275prov":u}),k=u({"\u0275inj":u}),O=u({ngInjectableDef:u}),I=u({ngInjectorDef:u});var A=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function R(t){const e=P;return P=t,e}function N(t,e,n){const r=C(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&A.Optional?null:void 0!==e?e:void b(l(t),"Injector")}function D(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,j="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,q=F||V||U||j,Z={},B=[],z=u({"\u0275cmp":u}),H=u({"\u0275dir":u}),G=u({"\u0275pipe":u}),$=u({"\u0275mod":u}),J=u({"\u0275loc":u}),W=u({"\u0275fac":u}),Y=u({__NG_ELEMENT_ID__:u});let K=0;function Q(t){return D(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||B,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||B,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=K++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(et):null,n})}function X(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(tt),r.pipeDefs=()=>n.map(et)}function tt(t){return ut(t)||ct(t)}function et(t){return function(t){return t[G]||null}(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||B,declarations:t.declarations||B,imports:t.imports||B,exports:t.exports||B,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&D(()=>{nt[t.id]=t.type}),e}function it(t,e){return D(()=>{const n=lt(t,!0);n.declarations=e.declarations||B,n.imports=e.imports||B,n.exports=e.exports||B})}function ot(t,e){if(null==t)return Z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const st=Q;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[z]||null}function ct(t){return t[H]||null}function lt(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(W)?t[W]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return xt}function xt(t){return t.type.prototype.ngOnChanges&&(t.setInput=St),Ct}function Ct(){const t=Tt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function St(t,e,n,r){const i=Tt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Z,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new _t(u&&u.currentValue,e,s===Z),t[r]=e}function Tt(t){return t.__ngSimpleChanges__||null}wt.ngInherit=!0;const Et="http://www.w3.org/2000/svg",kt="http://www.w3.org/1998/MathML/";let Ot;function It(t){Ot=t}function At(){return void 0!==Ot?Ot:"undefined"!=typeof document?document:void 0}function Pt(t){return!!t.listen}const Rt={createRenderer:(t,e)=>At()};function Nt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return Nt(e[t])}function Mt(t,e){return Nt(e[t.index])}function Lt(t,e){return t.data[e]}function Ft(t,e){return t[e]}function Ut(t,e){const n=e[t];return dt(n)?n:n[0]}function jt(t){return 4==(4&t[2])}function Vt(t){return 128==(128&t[2])}function qt(t,e){return null==e?null:t[e]}function Zt(t){t[18]=0}function Bt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const zt={lFrame:_e(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return zt.bindingsEnabled}function Gt(){zt.bindingsEnabled=!0}function $t(){zt.bindingsEnabled=!1}function Jt(){return zt.lFrame.lView}function Wt(){return zt.lFrame.tView}function Yt(t){return zt.lFrame.contextLView=t,t[8]}function Kt(){let t=Qt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qt(){return zt.lFrame.currentTNode}function Xt(){const t=zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function te(t,e){const n=zt.lFrame;n.currentTNode=t,n.isParent=e}function ee(){return zt.lFrame.isParent}function ne(){zt.lFrame.isParent=!1}function re(){return zt.isInCheckNoChangesMode}function ie(t){zt.isInCheckNoChangesMode=t}function oe(){const t=zt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function se(){return zt.lFrame.bindingIndex}function ae(t){return zt.lFrame.bindingIndex=t}function ue(){return zt.lFrame.bindingIndex++}function ce(t){const e=zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function le(t){zt.lFrame.inI18n=t}function he(t,e){const n=zt.lFrame;n.bindingIndex=n.bindingRootIndex=t,fe(e)}function fe(t){zt.lFrame.currentDirectiveIndex=t}function de(t){const e=zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function pe(){return zt.lFrame.currentQueryIndex}function ge(t){zt.lFrame.currentQueryIndex=t}function me(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ye(t,e,n){if(n&A.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&A.Host||(r=me(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=zt.lFrame=be();return r.currentTNode=e,r.lView=t,!0}function ve(t){const e=be(),n=t[1];zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function be(){const t=zt.lFrame,e=null===t?null:t.child;return null===e?_e(t):e}function _e(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function we(){const t=zt.lFrame;return zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const xe=we;function Ce(){const t=we();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Se(){return zt.lFrame.selectedIndex}function Te(t){zt.lFrame.selectedIndex=t}function Ee(){const t=zt.lFrame;return Lt(t.tView,t.selectedIndex)}function ke(){zt.lFrame.currentNamespace=Et}function Oe(){zt.lFrame.currentNamespace=kt}function Ie(){zt.lFrame.currentNamespace=null}function Ae(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Pe(t,e,n){De(t,e,3,n)}function Re(t,e,n,r){(3&t[2])===n&&De(t,e,n,r)}function Ne(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function De(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Me(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Me(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const Le=-1;class Fe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ue(t,e,n){const r=Pt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ve(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function je(t){return 3===t||4===t||6===t}function Ve(t){return 64===t.charCodeAt(0)}function qe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ze(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ze(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Be(t){return t!==Le}function ze(t){return 32767&t}function He(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ge=!0;function $e(t){const e=Ge;return Ge=t,e}let Je=0;function We(t,e){const n=Ke(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ye(r.data,t),Ye(e,null),Ye(r.blueprint,null));const i=Qe(t,e),o=t.injectorIndex;if(Be(i)){const t=ze(i),n=He(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Ye(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ke(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Le;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Le}function Xe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Je++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function tn(t,e,n){if(n&A.Optional)return t;b(e,"NodeInjector")}function en(t,e,n,r){if(n&A.Optional&&void 0===r&&(r=null),0==(n&(A.Self|A.Host))){const i=t[9],o=R(void 0);try{return i?i.get(e,r,n&A.Optional):N(e,r,n&A.Optional)}finally{R(o)}}return tn(r,e,n)}function nn(t,e,n,r=A.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:on:e}(n);if("function"==typeof o){if(!ye(e,t,r))return r&A.Host?tn(i,n,r):en(e,n,r,i);try{const t=o(r);if(null!=t||r&A.Optional)return t;b(n)}finally{xe()}}else if("number"==typeof o){let i=null,s=Ke(t,e),a=Le,u=r&A.Host?e[16][6]:null;for((-1===s||r&A.SkipSelf)&&(a=-1===s?Qe(t,e):e[s+8],a!==Le&&ln(r,!1)?(i=e[1],s=ze(a),e=He(a,e)):s=-1);-1!==s;){const t=e[1];if(cn(o,s,t.data)){const t=sn(s,e,n,i,r,u);if(t!==rn)return t}a=e[s+8],a!==Le&&ln(r,e[1].data[s+8]===u)&&cn(o,s,e)?(i=t,s=ze(a),e=He(a,e)):s=-1}}}return en(e,n,r,i)}const rn={};function on(){return new hn(Kt(),Jt())}function sn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=an(a,s,n,null==r?mt(a)&&Ge:r!=s&&0!=(3&a.type),i&A.Host&&o===a);return null!==u?un(e,s,u,a):rn}function an(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&vt(t)&&t.type===n)return u}return null}function un(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Fe){const s=i;s.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(v(o[n]));const a=$e(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?R(s.injectImpl):null;ye(t,r,A.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=xt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&R(u),$e(a),s.resolving=!1,xe()}}return i}function cn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function ln(t,e){return!(t&A.Self||t&A.Host&&e)}class hn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return nn(this._tNode,this._lView,t,void 0,e)}}function fn(t){return D(()=>{const e=t.prototype.constructor,n=e[W]||dn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[W]||dn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function dn(t){return g(t)?()=>{const e=dn(p(t));return e&&e()}:bt(t)}function pn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(je(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const gn="__annotations__",mn="__parameters__",yn="__prop__metadata__";function vn(t,e,n,r,i){return D(()=>{const o=bn(e);function s(...t){if(this instanceof s)return o.call(this,...t),this;const e=new s(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(gn)?n[gn]:Object.defineProperty(n,gn,{value:[]})[gn]).push(e),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}function bn(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function _n(t,e,n){return D(()=>{const r=bn(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(mn)?t[mn]:Object.defineProperty(t,mn,{value:[]})[mn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function wn(t,e,n,r){return D(()=>{const i=bn(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(yn)?o[yn]:Object.defineProperty(o,yn,{value:{}})[yn];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(e),r&&r(n,i,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const xn=function(){return _n("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>pn(t)}))}();class Cn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Sn=new Cn("AnalyzeForEntryComponents");function Tn(){const t=q.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const En=Function;function kn(t){return"function"==typeof t}function On(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),On(r,e)):e!==t&&e.push(r)}return e}function In(t,e){t.forEach(t=>Array.isArray(t)?In(t,e):e(t))}function An(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Pn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Rn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Nn(t,e,n){let r=Mn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Dn(t,e){const n=Mn(t,e);if(n>=0)return t[1|n]}function Mn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Ln=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,Fn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Un=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,jn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Vn{constructor(t){this._reflect=t||q.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=Rn(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),Ln.test(n)||jn.test(n)||Fn.test(n)&&!Un.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&qn(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(mn)&&t[mn],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return o||i?this._zipTypesAndAnnotations(o,i):Rn(t.length)}parameters(t){if(!kn(t))return[];const e=Zn(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?qn(t.decorators):t.hasOwnProperty(gn)?t[gn]:null}annotations(t){if(!kn(t))return[];const e=Zn(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=qn(e[t])}),n}return t.hasOwnProperty(yn)?t[yn]:null}propMetadata(t){if(!kn(t))return{};const e=Zn(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return kn(t)&&this._ownPropMetadata(t,Zn(t))||{}}hasLifecycleHook(t,e){return t instanceof En&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${l(t)}`}resourceUri(t){return`./${l(t)}`}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function qn(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Zn(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const Bn={},zn=/\n/gm,Hn="__source",Gn=u({provide:String,useValue:u});let $n;function Jn(t){const e=$n;return $n=t,e}function Wn(t,e=A.Default){if(void 0===$n)throw new Error("inject() must be called from an injection context");return null===$n?N(t,void 0,e):$n.get(t,e&A.Optional?null:void 0,e)}function Yn(t,e=A.Default){return(P||Wn)(p(t),e)}function Kn(t){throw new Error("invalid")}function Qn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=A.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(Yn(t,n))}else e.push(Yn(r))}return e}function Xn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const tr=Xn(_n("Inject",t=>({token:t})),-1),er=Xn(_n("Optional"),8),nr=Xn(_n("Self"),2),rr=Xn(_n("SkipSelf"),4),ir=Xn(_n("Host"),1);let or,sr,ar=null;function ur(){return ar=ar||new Vn}function cr(t){return lr(ur().parameters(t))}function lr(t){return t.map(t=>function(t){const e={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let n=0;n<t.length;n++){const r=t[n];if(void 0===r)continue;const i=Object.getPrototypeOf(r);if(r instanceof er||"Optional"===i.ngMetadataName)e.optional=!0;else if(r instanceof rr||"SkipSelf"===i.ngMetadataName)e.skipSelf=!0;else if(r instanceof nr||"Self"===i.ngMetadataName)e.self=!0;else if(r instanceof ir||"Host"===i.ngMetadataName)e.host=!0;else if(r instanceof tr)e.token=r.token;else if(r instanceof xn){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");e.attribute=r.attributeName}else e.token=r}else e.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return e}(t))}function hr(){if(void 0===or&&(or=null,q.trustedTypes))try{or=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return or}function fr(t){var e;return(null===(e=hr())||void 0===e?void 0:e.createHTML(t))||t}function dr(){if(void 0===sr&&(sr=null,q.trustedTypes))try{sr=q.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return sr}function pr(t){var e;return(null===(e=dr())||void 0===e?void 0:e.createHTML(t))||t}function gr(t){var e;return(null===(e=dr())||void 0===e?void 0:e.createScript(t))||t}function mr(t){var e;return(null===(e=dr())||void 0===e?void 0:e.createScriptURL(t))||t}class yr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class vr extends yr{getTypeName(){return"HTML"}}class br extends yr{getTypeName(){return"Style"}}class _r extends yr{getTypeName(){return"Script"}}class wr extends yr{getTypeName(){return"URL"}}class xr extends yr{getTypeName(){return"ResourceURL"}}function Cr(t){return t instanceof yr?t.changingThisBreaksApplicationSecurity:t}function Sr(t,e){const n=Tr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Tr(t){return t instanceof yr&&t.getTypeName()||null}function Er(t){return new vr(t)}function kr(t){return new br(t)}function Or(t){return new _r(t)}function Ir(t){return new wr(t)}function Ar(t){return new xr(t)}function Pr(t){const e=new Nr(t);return function(){try{return!!(new window.DOMParser).parseFromString(fr(""),"text/html")}catch(t){return!1}}()?new Rr(e):e}class Rr{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(fr(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Nr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=fr(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=fr(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Dr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Mr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Lr(t){return(t=String(t)).match(Dr)||t.match(Mr)?t:"unsafe:"+t}function Fr(t){return(t=String(t)).split(",").map(t=>Lr(t.trim())).join(", ")}function Ur(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function jr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Vr=Ur("area,br,col,hr,img,wbr"),qr=Ur("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zr=Ur("rp,rt"),Br=jr(Zr,qr),zr=jr(Vr,jr(qr,Ur("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jr(Zr,Ur("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Br),Hr=Ur("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gr=Ur("srcset"),$r=jr(Hr,Gr,Ur("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ur("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jr=Ur("script,style,template");class Wr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!zr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Jr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!$r.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;Hr[i]&&(o=Lr(o)),Gr[i]&&(o=Fr(o)),this.buf.push(" ",e,'="',Qr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();zr.hasOwnProperty(e)&&!Vr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Qr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Yr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kr=/([^\#-~ |!])/g;function Qr(t){return t.replace(/&/g,"&amp;").replace(Yr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Kr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xr;function ti(t,e){let n=null;try{Xr=Xr||Pr(t);let r=e?String(e):"";n=Xr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Xr.getInertBodyElement(r)}while(r!==o);return fr((new Wr).sanitizeChildren(ei(n)||n))}finally{if(n){const t=ei(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ei(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ni=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function ri(t){const e=hi();return e?pr(e.sanitize(ni.HTML,t)||""):Sr(t,"HTML")?pr(Cr(t)):ti(At(),y(t))}function ii(t){const e=hi();return e?e.sanitize(ni.STYLE,t)||"":Sr(t,"Style")?Cr(t):y(t)}function oi(t){const e=hi();return e?e.sanitize(ni.URL,t)||"":Sr(t,"URL")?Cr(t):Lr(y(t))}function si(t){const e=hi();if(e)return mr(e.sanitize(ni.RESOURCE_URL,t)||"");if(Sr(t,"ResourceURL"))return mr(Cr(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function ai(t){const e=hi();if(e)return gr(e.sanitize(ni.SCRIPT,t)||"");if(Sr(t,"Script"))return gr(Cr(t));throw new Error("unsafe value used in a script context")}function ui(t){return fr(t[0])}function ci(t){return function(t){var e;return(null===(e=hr())||void 0===e?void 0:e.createScriptURL(t))||t}(t[0])}function li(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?si:oi}(e,n)(t)}function hi(){const t=Jt();return t&&t[12]}function fi(t,e){t.__ngContext__=e}function di(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function pi(t){return t.ngDebugContext}function gi(t){return t.ngOriginalError}function mi(t,...e){t.error(...e)}class yi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||mi}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?pi(t)?pi(t):this._findContext(gi(t)):null}_findOriginalError(t){let e=gi(t);for(;e&&gi(e);)e=gi(e);return e}}const vi=/^>|^->|<!--|-->|--!>|<!-$/g,bi=/(<|>)/,_i=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function wi(t){return t.ownerDocument.defaultView}function xi(t){return t.ownerDocument}function Ci(t){return t.ownerDocument.body}function Si(t){return t instanceof Function?t():t}var Ti=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Ei;function ki(t,e){return Ei(t,e)}function Oi(t){const e=t[3];return pt(e)?e[3]:e}function Ii(t){return Pi(t[13])}function Ai(t){return Pi(t[4])}function Pi(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Ri(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=Nt(r);0===t&&null!==n?null==i?zi(e,n,a):Bi(e,n,a,i||null,!0):1===t&&null!==n?Bi(e,n,a,i||null,!0):2===t?no(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Nt(n)&&Ri(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];io(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ni(t,e){return Pt(t)?t.createText(e):t.createTextNode(e)}function Di(t,e,n){Pt(t)?t.setValue(e,n):e.textContent=n}function Mi(t,e){return t.createComment(function(t){return t.replace(vi,t=>t.replace(bi,"\u200b$1\u200b"))}(e))}function Li(t,e,n){return Pt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Fi(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Bt(i,-1)),n.splice(r,1)}function Ui(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Fi(o,r),e>0&&(t[n-1][4]=r[4]);const s=Pn(t,ft+e);io(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function ji(t,e){if(!(256&e[2])){const n=e[11];Pt(n)&&n.destroyNode&&io(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Vi(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Vi(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Vi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Vi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Fe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Nt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Pt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Fi(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function qi(t,e,n){return Zi(t,e.parent,n)}function Zi(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Mt(r,n)}function Bi(t,e,n,r,i){Pt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function zi(t,e,n){Pt(t)?t.appendChild(e,n):e.appendChild(n)}function Hi(t,e,n,r,i){null!==r?Bi(t,e,n,r,i):zi(t,e,n)}function Gi(t,e){return Pt(t)?t.parentNode(e):e.parentNode}function $i(t,e,n){return Yi(t,e,n)}function Ji(t,e,n){return 40&t.type?Mt(t,n):null}let Wi,Yi=Ji;function Ki(t,e){Yi=t,Wi=e}function Qi(t,e,n,r){const i=qi(t,r,e),o=e[11],s=$i(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Hi(o,i,n[a],s,!1);else Hi(o,i,n,s,!1);void 0!==Wi&&Wi(o,r,e,n,i)}function Xi(t,e){if(null!==e){const n=e.type;if(3&n)return Mt(e,t);if(4&n)return eo(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Xi(t,n);{const n=t[e.index];return pt(n)?eo(-1,n):Nt(n)}}if(32&n)return ki(e,t)()||Nt(t[e.index]);{const n=to(t,e);return null!==n?Array.isArray(n)?n[0]:Xi(Oi(t[16]),n):Xi(t,e.next)}}return null}function to(t,e){return null!==e?t[16][6].projection[e.projection]:null}function eo(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Xi(t,r)}return e[7]}function no(t,e,n){const r=Gi(t,e);r&&function(t,e,n,r){Pt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function ro(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&fi(Nt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ro(t,e,n.child,r,i,o,!1),Ri(e,t,i,a,o);else if(32&u){const s=ki(n,r);let u;for(;u=s();)Ri(e,t,i,u,o);Ri(e,t,i,a,o)}else 16&u?oo(t,e,r,n,i,o):Ri(e,t,i,a,o);n=s?n.projectionNext:n.next}}function io(t,e,n,r,i,o){ro(n,r,t.firstChild,e,i,o,!1)}function oo(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ri(e,t,i,a[u],o);else ro(t,e,a,s[3],i,o,!0)}function so(t,e,n){Pt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ao(t,e,n){Pt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function uo(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const co="ng-template";function lo(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==uo(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ho(t){return 4===t.type&&t.value!==co}function fo(t,e,n){return e===(4!==t.type||n?t.value:co)}function po(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(je(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!fo(t,u,n)||""===u&&1===e.length){if(go(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!lo(t.attrs,c,n)){if(go(r))return!1;s=!0}continue}const l=mo(8&r?"class":u,i,ho(t),n);if(-1===l){if(go(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==uo(e,c,0)||2&r&&c!==t){if(go(r))return!1;s=!0}}}}else{if(!s&&!go(r)&&!go(u))return!1;if(s&&go(u))continue;s=!1,r=u|1&r}}return go(r)||s}function go(t){return 0==(1&t)}function mo(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function yo(t,e,n=!1){for(let r=0;r<e.length;r++)if(po(t,e[r],n))return!0;return!1}function vo(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function bo(t,e){return t?":not("+e.trim()+")":e}function _o(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||go(s)||(e+=bo(o,i),i=""),r=s,o=o||!go(r);n++}return""!==i&&(e+=bo(o,i)),e}const wo={};function xo(t){Co(Wt(),Jt(),Se()+t,re())}function Co(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Pe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Re(e,r,0,n)}Te(n)}function So(t,e){return t<<17|e<<2}function To(t){return t>>17&32767}function Eo(t){return 2|t}function ko(t){return(131068&t)>>2}function Oo(t,e){return-131069&t|e<<2}function Io(t){return 1|t}function Ao(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ge(i),n.contentQueries(2,e[o],o)}}}function Po(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Zt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ro(t,e,n,r,i){let o=t.data[e];if(null===o)o=No(t,e,n,r,i),zt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=Xt();o.injectorIndex=null===t?-1:t.injectorIndex}return te(o,!0),o}function No(t,e,n,r,i){const o=Qt(),s=ee(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function Do(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Mo(t,e,n){ve(e);try{const r=t.viewQuery;null!==r&&ds(1,r,n);const i=t.template;null!==i&&Uo(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ao(t,e),t.staticViewQueries&&ds(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)us(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ce()}}function Lo(t,e,n,r){const i=e[2];if(256==(256&i))return;ve(e);const o=re();try{Zt(e),ae(t.bindingStartIndex),null!==n&&Uo(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Pe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Re(e,n,0,null),Ne(e,0)}if(function(t){for(let e=Ii(t);null!==e;e=Ai(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Bt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ii(t);null!==e;e=Ai(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Vt(n)&&Lo(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ao(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Pe(e,n)}else{const n=t.contentHooks;null!==n&&Re(e,n,1),Ne(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Te(~r);else{const i=r,o=n[++t],s=n[++t];he(o,i),s(2,e[i])}}}finally{Te(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ss(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ds(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Pe(e,n)}else{const n=t.viewHooks;null!==n&&Re(e,n,2),Ne(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bt(e[3],-1))}finally{Ce()}}function Fo(t,e,n,r){const i=e[10],o=!re(),s=jt(e);try{o&&!s&&i.begin&&i.begin(),s&&Mo(t,e,r),Lo(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Uo(t,e,n,r,i){const o=Se(),s=2&r;try{Te(-1),s&&e.length>ht&&Co(t,e,ht,re()),n(r,i)}finally{Te(o)}}function jo(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Vo(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||We(n,e),fi(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=vt(r);o&&ts(e,n,r);const u=un(e,t,a,n);fi(u,e),null!==s&&rs(0,a-i,u,r,0,s),o&&(Ut(n.index,e)[8]=u)}}(t,e,n,Mt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=zt.lFrame.currentDirectiveIndex;try{Te(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];fe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Wo(r,i)}}finally{Te(-1),fe(s)}}(t,e,n))}function qo(t,e,n=Mt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Zo(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Bo(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Bo(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:wo);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function zo(t,e,n,r){const i=gs(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ms(t).push(r,i.length-1))}function Ho(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Go(t,e,n,r,i,o,s,a){const u=Mt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(bs(t,n,c,r,i),mt(e)&&function(t,e){const n=Ut(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Pt(o)?o.setProperty(u,r,i):Ve(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function $o(t,e,n,r){let i=!1;if(Ht()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];yo(n,s.selectors,!1)&&(i||(i=[]),Xe(We(n,e),t,s.type),vt(s)?(Yo(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Qo(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Do(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=qe(n.mergedAttrs,c.hostAttrs),Xo(t,n,e,u,c),Ko(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ho(e)?null:is(n,i);o.push(c),s=Ho(n,u,s),a=Ho(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=qe(n.mergedAttrs,n.attrs),i}function Jo(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Wo(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Yo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ko(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Qo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Xo(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Fe(o,vt(i),null);t.blueprint[r]=s,n[r]=s,Jo(t,e,0,r,Do(t,n,i.hostVars,wo),i)}function ts(t,e,n){const r=Mt(e,t),i=Zo(n),o=t[10],s=cs(t,Po(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function es(t,e,n,r,i,o){const s=Mt(t,e);ns(e[11],s,o,t.value,n,r,i)}function ns(t,e,n,r,i,o,s){if(null==o)Pt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?y(o):s(o,r||"",i);Pt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function rs(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function is(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function os(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ss(t,e){const n=Ut(e,t);if(Vt(n)){const t=n[1];80&n[2]?Lo(t,n,t.template,n[8]):n[5]>0&&as(n)}}function as(t){for(let n=Ii(t);null!==n;n=Ai(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Lo(t,e,t.template,e[8])}else e[5]>0&&as(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Ut(e[n],t);Vt(r)&&r[5]>0&&as(r)}}function us(t,e){const n=Ut(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Mo(r,n,n[8])}function cs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ls(t){for(;t;){t[2]|=64;const e=Oi(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function hs(t,e,n){const r=e[10];r.begin&&r.begin();try{Lo(t,e,t.template,n)}catch(i){throw vs(e,i),i}finally{r.end&&r.end()}}function fs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=di(n),i=r[1];Fo(i,r,i.template,n)}}(t[8])}function ds(t,e,n){ge(0),e(t,n)}const ps=(()=>Promise.resolve(null))();function gs(t){return t[7]||(t[7]=[])}function ms(t){return t.cleanup||(t.cleanup=[])}function ys(t,e,n){return(null===t||vt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function vs(t,e){const n=t[9],r=n?n.get(yi,null):null;r&&r.handleError(e)}function bs(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function _s(t,e,n){const r=Dt(e,t);Di(t[11],r,n)}function ws(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const xs=new Cn("INJECTOR",-1);class Cs{get(t,e=Bn){if(e===Bn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ss=new Cn("Set Injector scope."),Ts={},Es={};let ks;function Os(){return void 0===ks&&(ks=new Cs),ks}function Is(t,e=null,n=null,r){return new As(t,n,e||Os(),r)}class As{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&In(e,n=>this.processProvider(n,t,e)),In([t],t=>this.processInjectorType(t,[],i)),this.records.set(xs,Ns(void 0,this));const o=this.records.get(Ss);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Bn,n=A.Default){this.assertNotDestroyed();const r=Jn(this);try{if(!(n&A.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Cn)&&C(t);e=n&&this.injectableDefInScope(n)?Ns(Ps(t),Ts):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&A.Self?Os():this.parent).get(t,e=n&A.Optional&&e===Bn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Hn]&&i.unshift(e[Hn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Jn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{In(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];In(r,t=>this.processProvider(t,n,r||B))}}this.injectorDefTypes.add(o);const a=bt(o)||(()=>new o);this.records.set(o,Ns(a,Ts));const u=r.providers;if(null!=u&&!s){const e=t;In(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ms(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Ds(t)?Ns(void 0,t.useValue):Ns(Rs(t),Ts)}(t);if(Ms(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Ns(void 0,Ts,!0),e.factory=()=>Qn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Ts&&(e.value=Es,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=p(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Ps(t){const e=C(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof Cn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Rn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[E]||t[O]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Rs(t,e,n){let r;if(Ms(t)){const e=p(t);return bt(e)||Ps(e)}if(Ds(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Qn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Yn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||Ps(e);r=()=>new e(...Qn(t.deps))}var i;return r}function Ns(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ds(t){return null!==t&&"object"==typeof t&&Gn in t}function Ms(t){return"function"==typeof t}const Ls=function(t,e,n){return function(t,e=null,n=null,r){const i=Is(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Fs=(()=>{class t{static create(t,e){return Array.isArray(t)?Ls(t,e,""):Ls(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Bn,t.NULL=new Cs,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>Yn(xs)}),t.__NG_ELEMENT_ID__=-1,t})();function Us(t,e){Ae(di(t)[1],Kt())}function js(t){return Object.getPrototypeOf(t.prototype).constructor}function Vs(t){let e=js(t.type),n=!0;const r=[t];for(;e;){let i;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=qs(t.inputs),e.declaredInputs=qs(t.declaredInputs),e.outputs=qs(t.outputs);const n=i.hostBindings;n&&zs(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Zs(t,o),s&&Bs(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Vs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qe(i.hostAttrs,n=qe(n,i.hostAttrs))}}(r)}function qs(t){return t===Z?{}:t===B?[]:t}function Zs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Bs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function zs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}const Hs=["providersResolver"],Gs=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function $s(t){let e,n=js(t.type);e=vt(t)?n.\u0275cmp:n.\u0275dir;const r=t;for(const i of Hs)r[i]=e[i];if(vt(e))for(const i of Gs)r[i]=e[i]}let Js=null;function Ws(){if(!Js){const t=q.Symbol;if(t&&t.iterator)Js=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Js=n)}}}return Js}class Ys{constructor(t){this.wrapped=t}static wrap(t){return new Ys(t)}static unwrap(t){return Ys.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ys}}function Ks(t){return!!Qs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ws()in t)}function Qs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Xs(t,e,n){return t[e]=n}function ta(t,e){return t[e]}function ea(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function na(t,e,n,r){const i=ea(t,e,n);return ea(t,e+1,r)||i}function ra(t,e,n,r,i){const o=na(t,e,n,r);return ea(t,e+2,i)||o}function ia(t,e,n,r,i,o){const s=na(t,e,n,r);return na(t,e+2,i,o)||s}function oa(t,e,n,r){const i=Jt();return ea(i,ue(),e)&&(Wt(),es(Ee(),i,t,e,n,r)),oa}function sa(t,e){let n=!1,r=se();for(let o=1;o<e.length;o+=2)n=ea(t,r++,e[o])||n;if(ae(r),!n)return wo;let i=e[0];for(let o=1;o<e.length;o+=2)i+=y(e[o])+e[o+1];return i}function aa(t,e,n,r){return ea(t,ue(),n)?e+y(n)+r:wo}function ua(t,e,n,r,i,o){const s=na(t,se(),n,i);return ce(2),s?e+y(n)+r+y(i)+o:wo}function ca(t,e,n,r,i,o,s,a){const u=ra(t,se(),n,i,s);return ce(3),u?e+y(n)+r+y(i)+o+y(s)+a:wo}function la(t,e,n,r,i,o,s,a,u,c){const l=ia(t,se(),n,i,s,u);return ce(4),l?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c:wo}function ha(t,e,n,r,i,o,s,a,u,c,l,h){const f=se();let d=ia(t,f,n,i,s,u);return d=ea(t,f+4,l)||d,ce(5),d?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c+y(l)+h:wo}function fa(t,e,n,r,i,o,s,a,u,c,l,h,f,d){const p=se();let g=ia(t,p,n,i,s,u);return g=na(t,p+4,l,f)||g,ce(6),g?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c+y(l)+h+y(f)+d:wo}function da(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g){const m=se();let v=ia(t,m,n,i,s,u);return v=ra(t,m+4,l,f,p)||v,ce(7),v?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c+y(l)+h+y(f)+d+y(p)+g:wo}function pa(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,v){const b=se();let _=ia(t,b,n,i,s,u);return _=ia(t,b+4,l,f,p,m)||_,ce(8),_?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c+y(l)+h+y(f)+d+y(p)+g+y(m)+v:wo}function ga(t,e,n,r,i,o){const s=Jt(),a=aa(s,e,n,r);return a!==wo&&es(Ee(),s,t,a,i,o),ga}function ma(t,e,n,r,i,o,s,a){const u=Jt(),c=ua(u,e,n,r,i,o);return c!==wo&&es(Ee(),u,t,c,s,a),ma}function ya(t,e,n,r,i,o,s,a,u,c){const l=Jt(),h=ca(l,e,n,r,i,o,s,a);return h!==wo&&es(Ee(),l,t,h,u,c),ya}function va(t,e,n,r,i,o,s,a,u,c,l,h){const f=Jt(),d=la(f,e,n,r,i,o,s,a,u,c);return d!==wo&&es(Ee(),f,t,d,l,h),va}function ba(t,e,n,r,i,o,s,a,u,c,l,h,f,d){const p=Jt(),g=ha(p,e,n,r,i,o,s,a,u,c,l,h);return g!==wo&&es(Ee(),p,t,g,f,d),ba}function _a(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g){const m=Jt(),y=fa(m,e,n,r,i,o,s,a,u,c,l,h,f,d);return y!==wo&&es(Ee(),m,t,y,p,g),_a}function wa(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y){const v=Jt(),b=da(v,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g);return b!==wo&&es(Ee(),v,t,b,m,y),wa}function xa(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y,v,b){const _=Jt(),w=pa(_,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y);return w!==wo&&es(Ee(),_,t,w,v,b),xa}function Ca(t,e,n,r){const i=Jt(),o=sa(i,e);return o!==wo&&es(Ee(),i,t,o,n,r),Ca}function Sa(t,e,n,r,i,o,s,a){const u=Jt(),c=Wt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Ro(e,t,4,s||null,qt(c,a));$o(e,n,l,qt(c,u)),Ae(e,l);const h=l.tViews=Bo(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];te(h,!1);const f=u[11].createComment("");Qi(c,u,f,h),fi(f,u),cs(u,u[l]=os(f,u,f,h)),yt(h)&&Vo(c,u,h),null!=s&&qo(u,h,a)}function Ta(t){return Ft(zt.lFrame.contextLView,ht+t)}const Ea={"\u0275\u0275defineInjectable":w,"\u0275\u0275defineInjector":x,"\u0275\u0275inject":Yn,"\u0275\u0275invalidFactoryDep":Kn,resolveForwardRef:p},ka=u({provide:String,useValue:u});function Oa(t){return void 0!==t.useClass}function Ia(t){return void 0!==t.useFactory}const Aa=vn("Injectable",void 0,void 0,void 0,(t,e)=>Pa(t,e)),Pa=function(t,e){let n=null,r=null;t.hasOwnProperty(E)||Object.defineProperty(t,E,{get:()=>(null===n&&(n=Tn().compileInjectable(Ea,`ng:///${t.name}/\u0275prov.js`,function(t,e){const n=e||{providedIn:null},r={name:t.name,type:t,typeArgumentCount:0,providedIn:n.providedIn};return(Oa(n)||Ia(n))&&void 0!==n.deps&&(r.deps=lr(n.deps)),Oa(n)?r.useClass=n.useClass:function(t){return ka in t}(n)?r.useValue=n.useValue:Ia(n)?r.useFactory=n.useFactory:function(t){return void 0!==t.useExisting}(n)&&(r.useExisting=n.useExisting),r}(t,e))),n)}),t.hasOwnProperty(W)||Object.defineProperty(t,W,{get:()=>{if(null===r){const e=Tn();r=e.compileFactory(Ea,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:cr(t),target:e.FactoryTarget.Injectable})}return r},configurable:!0})};function Ra(t,e=A.Default){const n=Jt();return null===n?Yn(t,e):nn(Kt(),n,p(t),e)}function Na(){throw new Error("invalid")}function Da(t,e,n){const r=Jt();return ea(r,ue(),e)&&Go(Wt(),Ee(),r,t,e,r[11],n,!1),Da}function Ma(t,e,n,r,i){const o=i?"class":"style";bs(t,n,e.inputs[o],o,r)}function La(t,e,n,r){const i=Jt(),o=Wt(),s=ht+t,a=i[11],u=i[s]=Li(a,e,zt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Ro(e,t,2,i,qt(a,o));return $o(e,n,u,qt(a,s)),null!==u.attrs&&ws(u,u.attrs,!1),null!==u.mergedAttrs&&ws(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];te(c,!0);const l=c.mergedAttrs;null!==l&&Ue(a,u,l);const h=c.classes;null!==h&&ao(a,u,h);const f=c.styles;null!==f&&so(a,u,f),64!=(64&c.flags)&&Qi(o,i,u,c),0===zt.lFrame.elementDepthCount&&fi(u,i),zt.lFrame.elementDepthCount++,yt(c)&&(Vo(o,i,c),jo(o,c,i)),null!==r&&qo(i,c)}function Fa(){let t=Kt();ee()?ne():(t=t.parent,te(t,!1));const e=t;zt.lFrame.elementDepthCount--;const n=Wt();n.firstCreatePass&&(Ae(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ma(n,e,Jt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ma(n,e,Jt(),e.stylesWithoutHost,!1)}function Ua(t,e,n,r){La(t,e,n,r),Fa()}function ja(t,e,n){const r=Jt(),i=Wt(),o=t+ht,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=qt(o,r),a=Ro(e,t,8,"ng-container",s);return null!==s&&ws(a,s,!0),$o(e,n,a,qt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];te(s,!0);const a=r[o]=r[11].createComment("");Qi(i,r,a,s),fi(a,r),yt(s)&&(Vo(i,r,s),jo(i,s,r)),null!=n&&qo(r,s)}function Va(){let t=Kt();const e=Wt();ee()?ne():(t=t.parent,te(t,!1)),e.firstCreatePass&&(Ae(e,t),gt(t)&&e.queries.elementEnd(t))}function qa(t,e,n){ja(t,e,n),Va()}function Za(){return Jt()}function Ba(t){return!!t&&"function"==typeof t.then}function za(t){return!!t&&"function"==typeof t.subscribe}const Ha=za;function Ga(t,e,n,r){const i=Jt(),o=Wt(),s=Kt();return Ja(o,i,i[11],s,t,e,!!n,r),Ga}function $a(t,e){const n=Kt(),r=Jt(),i=Wt();return Ja(i,r,ys(de(i.data),n,r),n,t,e,!1),$a}function Ja(t,e,n,r,i,o,s,a){const u=yt(r),c=t.firstCreatePass&&ms(t),l=gs(e);let h=!0;if(3&r.type||a){const f=Mt(r,e),d=a?a(f):f,p=l.length,g=a?t=>a(Nt(t[r.index])):r.index;if(Pt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Ya(r,e,0,o,!1);const t=n.listen(d,i,o);l.push(o,t),c&&c.push(i,g,p,p+1)}}else o=Ya(r,e,0,o,!0),d.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,p,s)}else o=Ya(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}function Wa(t,e,n,r){try{return!1!==n(r)}catch(i){return vs(t,i),!1}}function Ya(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Ut(t.index,e):e;0==(32&e[2])&&ls(s);let a=Wa(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Wa(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ka(t=1){return function(t){return(zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,zt.lFrame.contextLView))[8]}(t)}function Qa(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?yo(t,o,!0):vo(r,o))return i}else n=i}return n}function Xa(t){const e=Jt()[16][6];if(!e.projection){const n=e.projection=Rn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Qa(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function tu(t,e=0,n){const r=Jt(),i=Wt(),o=Ro(i,ht+t,16,null,n||null);null===o.projection&&(o.projection=e),ne(),64!=(64&o.flags)&&function(t,e,n){oo(e[11],0,e,n,qi(t,n,e),$i(n.parent||e[6],n,e))}(i,r,o)}function eu(t,e,n){return nu(t,"",e,"",n),eu}function nu(t,e,n,r,i){const o=Jt(),s=aa(o,e,n,r);return s!==wo&&Go(Wt(),Ee(),o,t,s,o[11],i,!1),nu}function ru(t,e,n,r,i,o,s){const a=Jt(),u=ua(a,e,n,r,i,o);return u!==wo&&Go(Wt(),Ee(),a,t,u,a[11],s,!1),ru}function iu(t,e,n,r,i,o,s,a,u){const c=Jt(),l=ca(c,e,n,r,i,o,s,a);return l!==wo&&Go(Wt(),Ee(),c,t,l,c[11],u,!1),iu}function ou(t,e,n,r,i,o,s,a,u,c,l){const h=Jt(),f=la(h,e,n,r,i,o,s,a,u,c);return f!==wo&&Go(Wt(),Ee(),h,t,f,h[11],l,!1),ou}function su(t,e,n,r,i,o,s,a,u,c,l,h,f){const d=Jt(),p=ha(d,e,n,r,i,o,s,a,u,c,l,h);return p!==wo&&Go(Wt(),Ee(),d,t,p,d[11],f,!1),su}function au(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){const g=Jt(),m=fa(g,e,n,r,i,o,s,a,u,c,l,h,f,d);return m!==wo&&Go(Wt(),Ee(),g,t,m,g[11],p,!1),au}function uu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){const y=Jt(),v=da(y,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g);return v!==wo&&Go(Wt(),Ee(),y,t,v,y[11],m,!1),uu}function cu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y,v){const b=Jt(),_=pa(b,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y);return _!==wo&&Go(Wt(),Ee(),b,t,_,b[11],v,!1),cu}function lu(t,e,n){const r=Jt(),i=sa(r,e);return i!==wo&&Go(Wt(),Ee(),r,t,i,r[11],n,!1),lu}function hu(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?To(o):ko(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];fu(t[a],e)&&(u=!0,t[a+1]=r?Io(n):Eo(n)),a=r?To(n):ko(n)}u&&(t[n+1]=r?Eo(o):Io(o))}function fu(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Mn(t,e)>=0}const du={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pu(t){return t.substring(du.key,du.keyEnd)}function gu(t){return t.substring(du.value,du.valueEnd)}function mu(t,e){const n=du.textEnd;return n===e?-1:(e=du.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,du.key=e,n),bu(t,e,n))}function yu(t,e){const n=du.textEnd;let r=du.key=bu(t,e,n);return n===r?-1:(r=du.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=_u(t,r,n),r=du.value=bu(t,r,n),r=du.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=wu(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=wu(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),_u(t,r,n))}function vu(t){du.key=0,du.keyEnd=0,du.value=0,du.valueEnd=0,du.textEnd=t.length}function bu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function _u(t,e,n,r){return(e=bu(t,e,n))<n&&e++,e}function wu(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function xu(t,e,n){return Ou(t,e,n,!1),xu}function Cu(t,e){return Ou(t,e,null,!0),Cu}function Su(t){Iu(Du,Tu,t,!1)}function Tu(t,e){for(let n=function(t){return vu(t),yu(t,bu(t,0,du.textEnd))}(e);n>=0;n=yu(e,n))Du(t,pu(e),gu(e))}function Eu(t){Iu(Nn,ku,t,!0)}function ku(t,e){for(let n=function(t){return vu(t),mu(t,bu(t,0,du.textEnd))}(e);n>=0;n=mu(e,n))Nn(t,pu(e),!0)}function Ou(t,e,n,r){const i=Jt(),o=Wt(),s=ce(2);o.firstUpdatePass&&Pu(o,t,s,r),e!==wo&&ea(i,s,e)&&Mu(o,o.data[Se()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Cr(t)))),t}(e,n),r,s)}function Iu(t,e,n,r){const i=Wt(),o=ce(2);i.firstUpdatePass&&Pu(i,null,o,r);const s=Jt();if(n!==wo&&ea(s,o,n)){const a=i.data[Se()];if(Uu(a,r)&&!Au(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),Ma(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===wo&&(i=B);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&Mu(t,e,n,r,g,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return B;const r=[],i=Cr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Au(t,e){return e>=t.expandoStartIndex}function Pu(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Se()],s=Au(t,n);Uu(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=de(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Nu(n=Ru(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ru(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ko(r))return t[To(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ru(null,t,e,n[1],r),n=Nu(n,e.attrs,r),function(t,e,n,r){t[To(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Nu(r,t[o].hostAttrs,n);return Nu(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=To(s),u=ko(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Mn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=To(t[a+1]);t[r+1]=So(e,a),0!==e&&(t[e+1]=Oo(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=So(a,0),0!==a&&(t[a+1]=Oo(t[a+1],r)),a=r;else t[r+1]=So(u,0),0===a?a=r:t[u+1]=Oo(t[u+1],r),u=r;l&&(t[r+1]=Eo(t[r+1])),hu(t,c,r,!0),hu(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Mn(o,e)>=0&&(n[r+1]=Io(n[r+1]))}(e,c,t,r,o),s=So(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Ru(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Nu(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Nu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Nn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Du(t,e,n){Nn(t,e,Cr(n))}function Mu(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Fu(1==(1&c)?Lu(u,e,n,i,ko(c),s):void 0)||(Fu(o)||2==(2&c)&&(o=Lu(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Pt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Ti.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Ti.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Dt(Se(),n),i,o))}function Lu(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===wo&&(l=c?B:void 0);let h=c?Dn(l,r):u===r?l:void 0;if(o&&!Fu(h)&&(h=Dn(e,r)),Fu(h)&&(a=h,s))return a;const f=t[i+1];i=s?To(f):ko(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Dn(t,r))}return a}function Fu(t){return void 0!==t}function Uu(t,e){return 0!=(t.flags&(e?16:32))}function ju(t,e=""){const n=Jt(),r=Wt(),i=t+ht,o=r.firstCreatePass?Ro(r,i,1,e,null):r.data[i],s=n[i]=Ni(n[11],e);Qi(r,n,s,o),te(o,!1)}function Vu(t){return qu("",t,""),Vu}function qu(t,e,n){const r=Jt(),i=aa(r,t,e,n);return i!==wo&&_s(r,Se(),i),qu}function Zu(t,e,n,r,i){const o=Jt(),s=ua(o,t,e,n,r,i);return s!==wo&&_s(o,Se(),s),Zu}function Bu(t,e,n,r,i,o,s){const a=Jt(),u=ca(a,t,e,n,r,i,o,s);return u!==wo&&_s(a,Se(),u),Bu}function zu(t,e,n,r,i,o,s,a,u){const c=Jt(),l=la(c,t,e,n,r,i,o,s,a,u);return l!==wo&&_s(c,Se(),l),zu}function Hu(t,e,n,r,i,o,s,a,u,c,l){const h=Jt(),f=ha(h,t,e,n,r,i,o,s,a,u,c,l);return f!==wo&&_s(h,Se(),f),Hu}function Gu(t,e,n,r,i,o,s,a,u,c,l,h,f){const d=Jt(),p=fa(d,t,e,n,r,i,o,s,a,u,c,l,h,f);return p!==wo&&_s(d,Se(),p),Gu}function $u(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){const g=Jt(),m=da(g,t,e,n,r,i,o,s,a,u,c,l,h,f,d,p);return m!==wo&&_s(g,Se(),m),$u}function Ju(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){const y=Jt(),v=pa(y,t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m);return v!==wo&&_s(y,Se(),v),Ju}function Wu(t){const e=Jt(),n=sa(e,t);return n!==wo&&_s(e,Se(),n),Wu}function Yu(t,e,n){Iu(Nn,ku,aa(Jt(),t,e,n),!0)}function Ku(t,e,n,r,i){Iu(Nn,ku,ua(Jt(),t,e,n,r,i),!0)}function Qu(t,e,n,r,i,o,s){Iu(Nn,ku,ca(Jt(),t,e,n,r,i,o,s),!0)}function Xu(t,e,n,r,i,o,s,a,u){Iu(Nn,ku,la(Jt(),t,e,n,r,i,o,s,a,u),!0)}function tc(t,e,n,r,i,o,s,a,u,c,l){Iu(Nn,ku,ha(Jt(),t,e,n,r,i,o,s,a,u,c,l),!0)}function ec(t,e,n,r,i,o,s,a,u,c,l,h,f){Iu(Nn,ku,fa(Jt(),t,e,n,r,i,o,s,a,u,c,l,h,f),!0)}function nc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){Iu(Nn,ku,da(Jt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p),!0)}function rc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){Iu(Nn,ku,pa(Jt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m),!0)}function ic(t){Iu(Nn,ku,sa(Jt(),t),!0)}function oc(t,e,n){Su(aa(Jt(),t,e,n))}function sc(t,e,n,r,i){Su(ua(Jt(),t,e,n,r,i))}function ac(t,e,n,r,i,o,s){Su(ca(Jt(),t,e,n,r,i,o,s))}function uc(t,e,n,r,i,o,s,a,u){Su(la(Jt(),t,e,n,r,i,o,s,a,u))}function cc(t,e,n,r,i,o,s,a,u,c,l){Su(ha(Jt(),t,e,n,r,i,o,s,a,u,c,l))}function lc(t,e,n,r,i,o,s,a,u,c,l,h,f){Su(fa(Jt(),t,e,n,r,i,o,s,a,u,c,l,h,f))}function hc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){Su(da(Jt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p))}function fc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){Su(pa(Jt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m))}function dc(t){Su(sa(Jt(),t))}function pc(t,e,n,r,i){return Ou(t,aa(Jt(),e,n,r),i,!1),pc}function gc(t,e,n,r,i,o,s){return Ou(t,ua(Jt(),e,n,r,i,o),s,!1),gc}function mc(t,e,n,r,i,o,s,a,u){return Ou(t,ca(Jt(),e,n,r,i,o,s,a),u,!1),mc}function yc(t,e,n,r,i,o,s,a,u,c,l){return Ou(t,la(Jt(),e,n,r,i,o,s,a,u,c),l,!1),yc}function vc(t,e,n,r,i,o,s,a,u,c,l,h,f){return Ou(t,ha(Jt(),e,n,r,i,o,s,a,u,c,l,h),f,!1),vc}function bc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){return Ou(t,fa(Jt(),e,n,r,i,o,s,a,u,c,l,h,f,d),p,!1),bc}function _c(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){return Ou(t,da(Jt(),e,n,r,i,o,s,a,u,c,l,h,f,d,p,g),m,!1),_c}function wc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y,v){return Ou(t,pa(Jt(),e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,y),v,!1),wc}function xc(t,e,n){return Ou(t,sa(Jt(),e),n,!1),xc}function Cc(t,e,n){const r=Jt();return ea(r,ue(),e)&&Go(Wt(),Ee(),r,t,e,r[11],n,!0),Cc}function Sc(t,e,n){const r=Jt();if(ea(r,ue(),e)){const i=Wt(),o=Ee();Go(i,o,r,t,e,ys(de(i.data),o,r),n,!0)}return Sc}const Tc=void 0;var Ec=["en",[["a","p"],["AM","PM"],Tc],[["AM","PM"],Tc,Tc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tc,"{1} 'at' {0}",Tc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let kc={};function Oc(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ac(e);if(n)return n;const r=e.split("-")[0];if(n=Ac(r),n)return n;if("en"===r)return Ec;throw new Error(`Missing locale data for the locale "${t}".`)}function Ic(t){return Oc(t)[Pc.PluralCase]}function Ac(t){return t in kc||(kc[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),kc[t]}var Pc=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Rc=["zero","one","two","few","many"],Nc="en-US",Dc={marker:"element"},Mc={marker:"ICU"};var Lc=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let Fc=Nc;function Uc(t){var e;null==(e=t)&&_("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(Fc=t.toLowerCase().replace(/_/g,"-"))}function jc(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Ji(t,0,n):Nt(n[i])}function Vc(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&e.type||(a=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)Bi(t,s,n[o[e]],a,!1)}}function qc(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];Zc(r)||Bc(r,e)&&null===zc(r)&&Hc(r,e.index)}}function Zc(t){return!(64&t.type)}function Bc(t,e){return Zc(e)||t.index>e.index}function zc(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Hc(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(Ki(jc,Vc),t.insertBeforeIndex=e)}function Gc(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function $c(t,e,n){const r=No(t,n,64,null,null);return qc(e,r),r}function Jc(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Wc=0,Yc=0;function Kc(t,e,n,r){const i=n[11];let o,s=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=Ni(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===s&&(s=c,o=Gi(i,r)),c===s?(l=r,h=o):(l=null,h=Nt(n[c])),null!==h){const e=(131070&u)>>>1;Bi(i,h,n[e],l,!1);const r=Gc(t,e);if(null!==r&&"object"==typeof r){const e=Jc(r,n);null!==e&&Kc(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++a],d=e[++a];ns(i,Dt(u>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Mc:const t=e[++a],r=e[++a];null===n[r]&&fi(n[r]=Mi(i,t),n);break;case Dc:const o=e[++a],s=e[++a];null===n[s]&&fi(n[s]=Li(i,o,null),n)}}}function Qc(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=y(e[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],u=n[++s],c=t.data[a];"string"==typeof c?ns(e[11],e[a],null,c,o,i,u):Go(t,c,e,o,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&Di(e[11],l,i);break;case 2:tl(t,Gc(t,a),e,i);break;case 3:Xc(t,Gc(t,a),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=Gc(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Xc(t,n,r,e)}}o+=a}}function Xc(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=Wc;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Qc(t,r,e.update[i],n,o)}}function tl(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=Ic(e)(parseInt(t,10)),r=Rc[n];return void 0!==r?r:"other"}(e,Fc);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Jc(e,n)!==i&&(el(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Kc(t,e.create[i],n,r)}}function el(t,e,n){let r=Jc(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Dt(r,n);null!==t&&no(n[11],t)}else el(t,Gc(t,~r),n)}}}const nl=/\ufffd(\d+):?\d*\ufffd/gi,rl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,il=/\ufffd(\d+)\ufffd/,ol=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,sl=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,al=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ul=/\uE500/g;function cl(t,e,n,r,i,o,s){const a=Do(t,r,1,null);let u=a<<Lc.SHIFT,c=Xt();e===c&&(c=null),null===c&&(u|=Lc.APPEND_EAGERLY),s&&(u|=Lc.COMMENT,void 0===Ei&&(Ei=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Jc(t,e);n=null!==i?t.remove[i]:B}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(u,null===o?"":o);const l=No(t,a,s?32:1,null===o?"":o,null);qc(n,l);const h=l.index;return te(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(Ki(jc,Vc),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&_("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function ll(t,e,n,r,i,o,s){const a=s.match(nl),u=cl(t,e,n,o,r,a?null:s,!1);a&&hl(i,s,u.index,null,0,null)}function hl(t,e,n,r,i,o){const s=t.length,a=s+1;t.push(null,null);const u=s+2,c=e.split(nl);let l=0;for(let h=0;h<c.length;h++){const e=c[h];if(1&h){const n=i+parseInt(e,10);t.push(-1-n),l|=dl(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,o),t[s]=l,t[a]=t.length-u,l}function fl(t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];"number"==typeof r&&r<0&&e++}return e}function dl(t){return 1<<Math.min(t,31)}function pl(t){let e,n,r="",i=0,o=!1;for(;null!==(e=sl.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function gl(t,e,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:Do(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(dl(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,a);const u=i.values;for(let c=0;c<u.length;c++){const o=u[c],l=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=l.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=vl(t,a,e,n,r,i.cases[c],o.join(""),l)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function ml(t){const e=[],n=[];let r=1,i=0;const o=yl(t=t.replace(ol,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=yl(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function yl(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);ol.test(n)?r.push(ml(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function vl(t,e,n,r,i,o,s,a){const u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Pr(At()).getInertBodyElement(s),f=ei(h)||h;return f?bl(t,e,n,r,u,c,l,f,i,a,0):0}function bl(t,e,n,r,i,o,s,a,u,c,l){let h=0,f=a.firstChild;for(;f;){const a=Do(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(zr.hasOwnProperty(p)){xl(i,Dc,p,u,a),t.data[a]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(nl)?$r.hasOwnProperty(n)&&hl(s,e.value,a,e.name,0,Hr[n]?Lr:Gr[n]?Fr:null):Cl(i,a,e)}h=bl(t,e,n,r,i,o,s,f,a,c,l+1)|h,_l(o,a,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",m=g.match(nl);xl(i,null,m?"":g,u,a),_l(o,a,l),m&&(h=hl(s,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=il.exec(f.textContent||"");if(y){const e=c[parseInt(y[1],10)];xl(i,Mc,"",u,a),gl(t,n,r,u,e,a),wl(o,a,l)}}f=f.nextSibling}return h}function _l(t,e,n){0===n&&t.push(e)}function wl(t,e,n){0===n&&(t.push(~e),t.push(e))}function xl(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Cl(t,e,n){t.push(e<<1|1,n.name,n.value)}const Sl=/\[(\ufffd.+?\ufffd?)\]/,Tl=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,El=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,kl=/{([A-Z0-9_]+)}/g,Ol=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Il=/\/\*/,Al=/\d+\:(\d+)/;function Pl(t,e,n=-1){const r=Wt(),i=Jt(),o=ht+t,s=qt(r.consts,e),a=Xt();r.firstCreatePass&&function(t,e,n,r,i,o){const s=Xt(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return pl(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return pl(t.substring(n,r))}}(i,o),h.replace(ul," ")).split(al);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const o=yl(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const e=l;""!==e&&ll(t,s,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);gl(t,n,u,e,r,cl(t,s,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),ht+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),te(Xt(),!1);else{const e=$c(t,c[0],n);c.unshift([]),te(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,o,s,n);const u=r.data[o],c=Zi(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],a=e[o],u=(s&Lc.COMMENT)===Lc.COMMENT,c=(s&Lc.APPEND_EAGERLY)===Lc.APPEND_EAGERLY,l=s>>>Lc.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):Ni(i,a)),c&&null!==n&&Bi(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),le(!0)}function Rl(){le(!1)}function Nl(t,e,n){Pl(t,e,n),Rl()}function Dl(t,e){const n=Wt(),r=qt(n.consts,e);!function(t,e,n){const r=Kt().index,i=[];if(t.firstCreatePass&&null===t.data[e]){for(let t=0;t<n.length;t+=2){const e=n[t],o=n[t+1];if(""!==o){if(rl.test(o))throw new Error(`ICU expressions are not supported in attributes. Message: "${o}".`);hl(i,o,r,e,fl(i),null)}}t.data[e]=i}}(n,t+ht,r)}function Ml(t){return ea(Jt(),ue(),t)&&(Wc|=1<<Math.min(Yc,31)),Yc++,Ml}function Ll(t){!function(t,e,n){if(Yc>0){const r=t.data[n];Qc(t,e,Array.isArray(r)?r:r.update,se()-Yc-1,Wc)}Wc=0,Yc=0}(Wt(),Jt(),t+ht)}function Fl(t,e={}){return function(t,e={}){let n=t;if(Sl.test(t)){const t={},e=[0];n=n.replace(Tl,(n,r,i)=>{const o=r||i,s=t[o]||[];if(s.length||(o.split("|").forEach(t=>{const e=t.match(Al),n=e?parseInt(e[1],10):0,r=Il.test(t);s.push([n,r,t])}),t[o]=s),!s.length)throw new Error(`i18n postprocess: unmatched placeholder - ${o}`);const a=e[e.length-1];let u=0;for(let t=0;t<s.length;t++)if(s[t][0]===a){u=t;break}const[c,l,h]=s[u];return l?e.pop():a!==c&&e.push(c),s.splice(u,1),h})}return Object.keys(e).length?(n=n.replace(El,(t,n,r,i,o,s)=>e.hasOwnProperty(r)?`${n}${e[r]}${s}`:t),n=n.replace(kl,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(Ol,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}),n):n}(t,e)}function Ul(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ul(t[o],e,n,r,i);else{const o=Wt(),s=Jt();let a=Ms(t)?t:p(t.provide),u=Rs(t);const c=Kt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Ms(t)||!t.multi){const r=new Fe(u,i,Ra),d=ql(a,e,i?l:l+f,h);-1===d?(Xe(We(c,s),o,a),jl(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ql(a,e,l+f,h),p=ql(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Xe(We(c,s),o,a);const l=function(t,e,n,r,i){const o=new Fe(t,n,Ra);return o.multi=[],o.index=e,o.componentProviders=0,Vl(o,i,r&&!n),o}(i?Bl:Zl,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),jl(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else jl(o,t,d>-1?d:p,Vl(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function jl(t,e,n,r){const i=Ms(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Vl(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ql(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Zl(t,e,n,r){return zl(this.multi,[])}function Bl(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=un(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),zl(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],zl(i,o);return o}function zl(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Hl(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Wt();if(r.firstCreatePass){const i=vt(t);Ul(n,r.data,r.blueprint,i,!0),Ul(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Gl{}class $l{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Jl=(()=>{class t{}return t.NULL=new $l,t})();function Wl(...t){}function Yl(t,e){return new Ql(Mt(t,e))}const Kl=function(){return Yl(Kt(),Jt())};let Ql=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Kl,t})();function Xl(t){return t instanceof Ql?t.nativeElement:t}class th{}let eh=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>nh(),t})();const nh=function(){const t=Jt(),e=Ut(Kt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let rh=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class ih{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const oh=new ih("12.0.3");class sh{constructor(){}supports(t){return Ks(t)}create(t){return new uh(t)}}const ah=(t,e)=>e;class uh{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ah}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<fh(n,r,i)?e:n,s=fh(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ks(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ws()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ch(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new hh),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hh),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ch{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lh{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class hh{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new lh,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fh(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class dh{constructor(){}supports(t){return t instanceof Map||Qs(t)}create(){return new ph}}class ph{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Qs(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new gh(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class gh{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mh(){return new yh([new sh])}let yh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||mh()),deps:[[t,new rr,new er]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:mh}),t})();function vh(){return new bh([new dh])}let bh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||vh()),deps:[[t,new rr,new er]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:vh}),t})();function _h(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Nt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&_h(e[1],e,n,r)}const s=n.type;if(8&s)_h(t,e,n.child,r);else if(32&s){const t=ki(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=to(e,n);if(Array.isArray(t))r.push(...t);else{const n=Oi(e[16]);_h(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class wh{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return _h(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ui(t,n),Pn(e,n))}this._attachedToViewContainer=!1}ji(this._lView[1],this._lView)}onDestroy(t){zo(this._lView[1],this._lView,null,t)}markForCheck(){ls(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){hs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ie(!0);try{hs(t,e,n)}finally{ie(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,io(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class xh extends wh{constructor(t){super(t),this._view=t}detectChanges(){fs(this._view)}checkNoChanges(){!function(t){ie(!0);try{fs(t)}finally{ie(!1)}}(this._view)}get context(){return null}}const Ch=function(t){return function(t,e,n){if(mt(t)&&!n){const n=Ut(t.index,e);return new wh(n,n)}return 47&t.type?new wh(e[16],e):null}(Kt(),Jt(),16==(16&t))};let Sh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ch,t})();const Th=[new dh],Eh=new yh([new sh]),kh=new bh(Th),Oh=function(){return Rh(Kt(),Jt())};let Ih=(()=>{class t{}return t.__NG_ELEMENT_ID__=Oh,t})();const Ah=Ih,Ph=class extends Ah{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Po(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Mo(e,n,t),new wh(n)}};function Rh(t,e){return 4&t.type?new Ph(e,t,Yl(t,e)):null}class Nh{}class Dh{}const Mh=function(){return qh(Kt(),Jt())};let Lh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Mh,t})();const Fh=Lh,Uh=class extends Fh{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Yl(this._hostTNode,this._hostLView)}get injector(){return new hn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Qe(this._hostTNode,this._hostLView);if(Be(t)){const e=He(t,this._hostLView),n=ze(t);return new hn(e[1].data[n+8],e)}return new hn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=jh(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Nh,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Uh(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],An(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=eo(i,o),a=n[11],u=Gi(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,io(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),An(Vh(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=jh(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ui(this._lContainer,e);n&&(Pn(Vh(this._lContainer),e),ji(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ui(this._lContainer,e);return n&&null!=Pn(Vh(this._lContainer),e)?new wh(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function jh(t){return t[8]}function Vh(t){return t[8]||(t[8]=[])}function qh(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Nt(r);else{const n=e[11];i=n.createComment("");const r=Mt(t,e);Bi(n,Gi(n,r),i,function(t,e){return Pt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=os(r,e,i,t),cs(e,n)}return new Uh(n,t,e)}const Zh={};class Bh extends Jl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new Gh(e,this.ngModule)}}function zh(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Hh=new Cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_i});class Gh extends Gl{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(_o).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return zh(this.componentDef.inputs)}get outputs(){return zh(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Zh,i);return o!==Zh||r===Zh?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(th,Rt),s=i.get(rh,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Pt(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Li(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?Et:"math"===e?kt:null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:_i,clean:ps,playerHandler:null,flags:0},f=Bo(0,null,null,1,0,null,null,null,null,null),d=Po(null,f,h,l,null,null,o,a,s,i);let p,g;ve(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Ro(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ws(a,u,!0),null!==t&&(Ue(i,t,u),null!==a.classes&&ao(i,t,a.classes),null!==a.styles&&so(i,t,a.styles)));const c=r.createRenderer(t,e),l=Po(n,Zo(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Xe(We(a,n),s,e.type),Yo(s,a),Qo(a,n.length,1)),cs(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ue(a,c,["ng-version",oh.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!go(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ue(a,c,t),e&&e.length>0&&ao(a,c,e.join(" "))}if(g=Lt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Xo(t,r,e,Do(t,e,1,null),n));const i=un(e,t,r.directiveStart,r);fi(i,e);const o=Mt(r,e);return o&&fi(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Kt();e.contentQueries(1,s,t.directiveStart)}const a=Kt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Te(a.index),Jo(n[1],a,0,a.directiveStart,a.directiveEnd,e),Wo(e,s)),s}(t,this.componentDef,d,h,[Us]),Mo(f,d,null)}finally{Ce()}return new $h(this.componentType,p,Yl(g,d),d,g)}}class $h extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new xh(r),this.componentType=t}get injector(){return new hn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Jh=new Map;class Wh extends Nh{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bh(this);const n=lt(t),r=t[J]||null;r&&Uc(r),this._bootstrapComponents=Si(n.bootstrap),this._r3Injector=Is(t,e,[{provide:Nh,useValue:this},{provide:Jl,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Fs.THROW_IF_NOT_FOUND,n=A.Default){return t===Fs||t===Nh||t===xs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Yh extends Dh{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,Jh.get(i),n),Jh.set(i,n));const o=Si(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Wh(this.moduleType,t)}}function Kh(t,e,n){const r=oe()+t,i=Jt();return i[r]===wo?Xs(i,r,n?e.call(n):e()):ta(i,r)}function Qh(t,e,n,r){return cf(Jt(),oe(),t,e,n,r)}function Xh(t,e,n,r,i){return lf(Jt(),oe(),t,e,n,r,i)}function tf(t,e,n,r,i,o){return hf(Jt(),oe(),t,e,n,r,i,o)}function ef(t,e,n,r,i,o,s){return ff(Jt(),oe(),t,e,n,r,i,o,s)}function nf(t,e,n,r,i,o,s,a){const u=oe()+t,c=Jt(),l=ia(c,u,n,r,i,o);return ea(c,u+4,s)||l?Xs(c,u+5,a?e.call(a,n,r,i,o,s):e(n,r,i,o,s)):ta(c,u+5)}function rf(t,e,n,r,i,o,s,a,u){const c=oe()+t,l=Jt(),h=ia(l,c,n,r,i,o);return na(l,c+4,s,a)||h?Xs(l,c+6,u?e.call(u,n,r,i,o,s,a):e(n,r,i,o,s,a)):ta(l,c+6)}function of(t,e,n,r,i,o,s,a,u,c){const l=oe()+t,h=Jt();let f=ia(h,l,n,r,i,o);return ra(h,l+4,s,a,u)||f?Xs(h,l+7,c?e.call(c,n,r,i,o,s,a,u):e(n,r,i,o,s,a,u)):ta(h,l+7)}function sf(t,e,n,r,i,o,s,a,u,c,l){const h=oe()+t,f=Jt(),d=ia(f,h,n,r,i,o);return ia(f,h+4,s,a,u,c)||d?Xs(f,h+8,l?e.call(l,n,r,i,o,s,a,u,c):e(n,r,i,o,s,a,u,c)):ta(f,h+8)}function af(t,e,n,r){return df(Jt(),oe(),t,e,n,r)}function uf(t,e){const n=t[e];return n===wo?void 0:n}function cf(t,e,n,r,i,o){const s=e+n;return ea(t,s,i)?Xs(t,s+1,o?r.call(o,i):r(i)):uf(t,s+1)}function lf(t,e,n,r,i,o,s){const a=e+n;return na(t,a,i,o)?Xs(t,a+2,s?r.call(s,i,o):r(i,o)):uf(t,a+2)}function hf(t,e,n,r,i,o,s,a){const u=e+n;return ra(t,u,i,o,s)?Xs(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):uf(t,u+3)}function ff(t,e,n,r,i,o,s,a,u){const c=e+n;return ia(t,c,i,o,s,a)?Xs(t,c+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):uf(t,c+4)}function df(t,e,n,r,i,o){let s=e+n,a=!1;for(let u=0;u<i.length;u++)ea(t,s++,i[u])&&(a=!0);return a?Xs(t,s,r.apply(o,i)):uf(t,s)}function pf(t,e){const n=Wt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=bt(r.type)),s=R(Ra);try{const t=$e(!1),e=o();return $e(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Jt(),i,e),e}finally{R(s)}}function gf(t,e,n){const r=t+ht,i=Jt(),o=Ft(i,r);return wf(i,_f(i,r)?cf(i,oe(),e,o.transform,n,o):o.transform(n))}function mf(t,e,n,r){const i=t+ht,o=Jt(),s=Ft(o,i);return wf(o,_f(o,i)?lf(o,oe(),e,s.transform,n,r,s):s.transform(n,r))}function yf(t,e,n,r,i){const o=t+ht,s=Jt(),a=Ft(s,o);return wf(s,_f(s,o)?hf(s,oe(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function vf(t,e,n,r,i,o){const s=t+ht,a=Jt(),u=Ft(a,s);return wf(a,_f(a,s)?ff(a,oe(),e,u.transform,n,r,i,o,u):u.transform(n,r,i,o))}function bf(t,e,n){const r=t+ht,i=Jt(),o=Ft(i,r);return wf(i,_f(i,r)?df(i,oe(),e,o.transform,n,o):o.transform.apply(o,n))}function _f(t,e){return t[1].data[e].pure}function wf(t,e){return Ys.isWrapped(e)&&(e=Ys.unwrap(e),t[se()]=wo),e}function xf(t){return e=>{setTimeout(t,void 0,e)}}const Cf=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=xf(u),a&&(a=xf(a)),c&&(c=xf(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function Sf(){return this._results[Ws()]()}class Tf{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ws(),n=Tf.prototype;n[e]||(n[e]=Sf)}get changes(){return this._changes||(this._changes=new Cf)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=On(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ef{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ef(this.queryList)}setDirty(){this.queryList.setDirty()}}class kf{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new kf(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==qf(t,e).matches&&this.queries[e].setDirty()}}class Of{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class If{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new If(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Af{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Af(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Pf(e,i)),this.matchTNodeWithReadOption(t,e,an(e,t,i,!1,!1))}else n===Ih?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,an(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ql||r===Lh||r===Ih&&4&e.type)this.addMatch(e.index,-2);else{const n=an(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Pf(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Rf(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Yl(t,e):4&t.type?Rh(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ql?Yl(e,t):n===Ih?Rh(e,t):n===Lh?qh(e,t):void 0}(t,e,r):un(t,t[1],n,e)}function Nf(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Rf(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Df(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Nf(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&Df(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Df(n[1],n,i,r)}}}}}return r}function Mf(t){const e=Jt(),n=Wt(),r=pe();ge(r+1);const i=qf(n,r);if(t.dirty&&jt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Df(n,e,r,[]):Nf(n,e,i,r);t.reset(o,Xl),t.notifyOnChanges()}return!0}return!1}function Lf(t,e,n){const r=Wt();r.firstCreatePass&&(Vf(r,new Of(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),jf(r,Jt(),e)}function Ff(t,e,n,r){const i=Wt();if(i.firstCreatePass){const o=Kt();Vf(i,new Of(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}jf(i,Jt(),n)}function Uf(){return t=Jt(),e=pe(),t[19].queries[e].queryList;var t,e}function jf(t,e,n){const r=new Tf(4==(4&n));zo(t,e,r,r.destroy),null===e[19]&&(e[19]=new kf),e[19].queries.push(new Ef(r))}function Vf(t,e,n){null===t.queries&&(t.queries=new If),t.queries.track(new Af(e,n))}function qf(t,e){return t.queries.getByIndex(e)}function Zf(t,e){return Rh(t,e)}const Bf=(()=>({"\u0275\u0275attribute":oa,"\u0275\u0275attributeInterpolate1":ga,"\u0275\u0275attributeInterpolate2":ma,"\u0275\u0275attributeInterpolate3":ya,"\u0275\u0275attributeInterpolate4":va,"\u0275\u0275attributeInterpolate5":ba,"\u0275\u0275attributeInterpolate6":_a,"\u0275\u0275attributeInterpolate7":wa,"\u0275\u0275attributeInterpolate8":xa,"\u0275\u0275attributeInterpolateV":Ca,"\u0275\u0275defineComponent":Q,"\u0275\u0275defineDirective":st,"\u0275\u0275defineInjectable":w,"\u0275\u0275defineInjector":x,"\u0275\u0275defineNgModule":rt,"\u0275\u0275definePipe":at,"\u0275\u0275directiveInject":Ra,"\u0275\u0275getInheritedFactory":fn,"\u0275\u0275inject":Yn,"\u0275\u0275injectAttribute":pn,"\u0275\u0275invalidFactory":Na,"\u0275\u0275invalidFactoryDep":Kn,"\u0275\u0275templateRefExtractor":Zf,"\u0275\u0275NgOnChangesFeature":wt,"\u0275\u0275ProvidersFeature":Hl,"\u0275\u0275CopyDefinitionFeature":$s,"\u0275\u0275InheritDefinitionFeature":Vs,"\u0275\u0275nextContext":Ka,"\u0275\u0275namespaceHTML":Ie,"\u0275\u0275namespaceMathML":Oe,"\u0275\u0275namespaceSVG":ke,"\u0275\u0275enableBindings":Gt,"\u0275\u0275disableBindings":$t,"\u0275\u0275elementStart":La,"\u0275\u0275elementEnd":Fa,"\u0275\u0275element":Ua,"\u0275\u0275elementContainerStart":ja,"\u0275\u0275elementContainerEnd":Va,"\u0275\u0275elementContainer":qa,"\u0275\u0275pureFunction0":Kh,"\u0275\u0275pureFunction1":Qh,"\u0275\u0275pureFunction2":Xh,"\u0275\u0275pureFunction3":tf,"\u0275\u0275pureFunction4":ef,"\u0275\u0275pureFunction5":nf,"\u0275\u0275pureFunction6":rf,"\u0275\u0275pureFunction7":of,"\u0275\u0275pureFunction8":sf,"\u0275\u0275pureFunctionV":af,"\u0275\u0275getCurrentView":Za,"\u0275\u0275restoreView":Yt,"\u0275\u0275listener":Ga,"\u0275\u0275projection":tu,"\u0275\u0275syntheticHostProperty":Sc,"\u0275\u0275syntheticHostListener":$a,"\u0275\u0275pipeBind1":gf,"\u0275\u0275pipeBind2":mf,"\u0275\u0275pipeBind3":yf,"\u0275\u0275pipeBind4":vf,"\u0275\u0275pipeBindV":bf,"\u0275\u0275projectionDef":Xa,"\u0275\u0275hostProperty":Cc,"\u0275\u0275property":Da,"\u0275\u0275propertyInterpolate":eu,"\u0275\u0275propertyInterpolate1":nu,"\u0275\u0275propertyInterpolate2":ru,"\u0275\u0275propertyInterpolate3":iu,"\u0275\u0275propertyInterpolate4":ou,"\u0275\u0275propertyInterpolate5":su,"\u0275\u0275propertyInterpolate6":au,"\u0275\u0275propertyInterpolate7":uu,"\u0275\u0275propertyInterpolate8":cu,"\u0275\u0275propertyInterpolateV":lu,"\u0275\u0275pipe":pf,"\u0275\u0275queryRefresh":Mf,"\u0275\u0275viewQuery":Lf,"\u0275\u0275loadQuery":Uf,"\u0275\u0275contentQuery":Ff,"\u0275\u0275reference":Ta,"\u0275\u0275classMap":Eu,"\u0275\u0275classMapInterpolate1":Yu,"\u0275\u0275classMapInterpolate2":Ku,"\u0275\u0275classMapInterpolate3":Qu,"\u0275\u0275classMapInterpolate4":Xu,"\u0275\u0275classMapInterpolate5":tc,"\u0275\u0275classMapInterpolate6":ec,"\u0275\u0275classMapInterpolate7":nc,"\u0275\u0275classMapInterpolate8":rc,"\u0275\u0275classMapInterpolateV":ic,"\u0275\u0275styleMap":Su,"\u0275\u0275styleMapInterpolate1":oc,"\u0275\u0275styleMapInterpolate2":sc,"\u0275\u0275styleMapInterpolate3":ac,"\u0275\u0275styleMapInterpolate4":uc,"\u0275\u0275styleMapInterpolate5":cc,"\u0275\u0275styleMapInterpolate6":lc,"\u0275\u0275styleMapInterpolate7":hc,"\u0275\u0275styleMapInterpolate8":fc,"\u0275\u0275styleMapInterpolateV":dc,"\u0275\u0275styleProp":xu,"\u0275\u0275stylePropInterpolate1":pc,"\u0275\u0275stylePropInterpolate2":gc,"\u0275\u0275stylePropInterpolate3":mc,"\u0275\u0275stylePropInterpolate4":yc,"\u0275\u0275stylePropInterpolate5":vc,"\u0275\u0275stylePropInterpolate6":bc,"\u0275\u0275stylePropInterpolate7":_c,"\u0275\u0275stylePropInterpolate8":wc,"\u0275\u0275stylePropInterpolateV":xc,"\u0275\u0275classProp":Cu,"\u0275\u0275advance":xo,"\u0275\u0275template":Sa,"\u0275\u0275text":ju,"\u0275\u0275textInterpolate":Vu,"\u0275\u0275textInterpolate1":qu,"\u0275\u0275textInterpolate2":Zu,"\u0275\u0275textInterpolate3":Bu,"\u0275\u0275textInterpolate4":zu,"\u0275\u0275textInterpolate5":Hu,"\u0275\u0275textInterpolate6":Gu,"\u0275\u0275textInterpolate7":$u,"\u0275\u0275textInterpolate8":Ju,"\u0275\u0275textInterpolateV":Wu,"\u0275\u0275i18n":Nl,"\u0275\u0275i18nAttributes":Dl,"\u0275\u0275i18nExp":Ml,"\u0275\u0275i18nStart":Pl,"\u0275\u0275i18nEnd":Rl,"\u0275\u0275i18nApply":Ll,"\u0275\u0275i18nPostprocess":Fl,"\u0275\u0275resolveWindow":wi,"\u0275\u0275resolveDocument":xi,"\u0275\u0275resolveBody":Ci,"\u0275\u0275setComponentScope":X,"\u0275\u0275setNgModuleScope":it,"\u0275\u0275sanitizeHtml":ri,"\u0275\u0275sanitizeStyle":ii,"\u0275\u0275sanitizeResourceUrl":si,"\u0275\u0275sanitizeScript":ai,"\u0275\u0275sanitizeUrl":oi,"\u0275\u0275sanitizeUrlOrResourceUrl":li,"\u0275\u0275trustConstantHtml":ui,"\u0275\u0275trustConstantResourceUrl":ci,forwardRef:d,resolveForwardRef:p}))();function zf(t,e){let n=null;(function(t,e){let n=null;Object.defineProperty(t,W,{get:()=>{if(null===n){const r=Hf(t,e),i=Tn();n=i.compileFactory(Bf,`ng:///${t.name}/\u0275fac.js`,{name:r.metadata.name,type:r.metadata.type,typeArgumentCount:0,deps:cr(t),target:i.FactoryTarget.Directive})}return n},configurable:!1})})(t,e||{}),Object.defineProperty(t,H,{get:()=>{if(null===n){const r=Hf(t,e||{});n=Tn().compileDirective(Bf,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function Hf(t,e){const n=t&&t.name,r=`ng:///${n}/\u0275dir.js`,i=Tn(),o=function(t,e){const n=ur(),r=n.ownPropMetadata(t);return{name:t.name,type:t,selector:void 0!==e.selector?e.selector:null,host:e.host||Z,propMetadata:r,inputs:e.inputs||B,outputs:e.outputs||B,queries:Jf(t,r,Wf),lifecycle:{usesOnChanges:n.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!Gf(t),exportAs:(i=e.exportAs,void 0===i?null:Qf(i)),providers:e.providers||null,viewQueries:Jf(t,r,Yf)};var i}(t,e);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&function(t){const e=Object.prototype;let n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==e;)ct(n)||ut(n)||!td(n)||zf(n,null),n=Object.getPrototypeOf(n)}(t),{metadata:o,sourceMapUrl:r}}function Gf(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function $f(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?Qf(n):p(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static,emitDistinctChangesOnly:!!e.emitDistinctChangesOnly};var n}function Jf(t,e,n){const r=[];for(const i in e)if(e.hasOwnProperty(i)){const o=e[i];o.forEach(e=>{if(n(e)){if(!e.selector)throw new Error(`Can't construct a query for the property "${i}" of "${v(t)}" since the query selector wasn't defined.`);if(o.some(Kf))throw new Error("Cannot combine @Input decorators with query decorators");r.push($f(i,e))}})}return r}function Wf(t){const e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function Yf(t){const e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function Kf(t){return"Input"===t.ngMetadataName}function Qf(t){return t.split(",").map(t=>t.trim())}const Xf=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function td(t){const e=ur();if(Xf.some(n=>e.hasLifecycleHook(t,n)))return!0;const n=e.propMetadata(t);for(const r in n){const t=n[r];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(Kf(n)||Wf(n)||Yf(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}const ed=vn("Directive",(t={})=>t,void 0,void 0,(t,e)=>rd(t,e)),nd=wn("Input",t=>({bindingPropertyName:t})),rd=zf,id=new Cn("Application Initializer");let od=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Wl,this.reject=Wl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Ba(e))t.push(e);else if(Ha(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Yn(id,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const sd=new Cn("AppId"),ad={provide:sd,useFactory:function(){return`${ud()}${ud()}${ud()}`},deps:[]};function ud(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cd=new Cn("Platform Initializer"),ld=new Cn("Platform ID"),hd=new Cn("appBootstrapListener");let fd=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const dd=new Cn("LocaleId"),pd=new Cn("DefaultCurrencyCode");class gd{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const md=function(t){return new Yh(t)},yd=md,vd=function(t){return Promise.resolve(md(t))},bd=function(t){const e=md(t),n=Si(lt(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new Gh(n)),t},[]);return new gd(e,n)},_d=bd,wd=function(t){return Promise.resolve(bd(t))};let xd=(()=>{class t{constructor(){this.compileModuleSync=yd,this.compileModuleAsync=vd,this.compileModuleAndAllComponentsSync=_d,this.compileModuleAndAllComponentsAsync=wd}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Cd=(()=>Promise.resolve(0))();function Sd(t){"undefined"==typeof Zone?Cd.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Td{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cf(!1),this.onMicrotaskEmpty=new Cf(!1),this.onStable=new Cf(!1),this.onError=new Cf(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Od(t),t.isCheckStableRunning=!0,kd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Od(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Id(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Ad(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Id(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ad(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Od(t),kd(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Td.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Td.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ed,Wl,Wl);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ed={};function kd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Od(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Id(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ad(t){t._nesting--,kd(t)}class Pd{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cf,this.onMicrotaskEmpty=new Cf,this.onStable=new Cf,this.onError=new Cf}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Rd=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Td.assertNotInAngularZone(),Sd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sd(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Yn(Td))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),Nd=(()=>{class t{constructor(){this._applications=new Map,Fd.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Fd.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class Dd{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Md(t){Fd=t}let Ld,Fd=new Dd,Ud=!0,jd=!1;function Vd(){return jd=!0,Ud}function qd(){if(jd)throw new Error("Cannot enable prod mode after platform setup.");Ud=!1}const Zd=new Cn("AllowMultipleToken");class Bd{constructor(t,e){this.name=t,this.token=e}}function zd(t,e,n=[]){const r=`Platform: ${e}`,i=new Cn(r);return(e=[])=>{let o=Hd();if(!o||o.injector.get(Zd,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ss,useValue:"platform"});!function(t){if(Ld&&!Ld.destroyed&&!Ld.injector.get(Zd,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ld=t.get(Gd);const e=t.get(cd,null);e&&e.forEach(t=>t())}(Fs.create({providers:t,name:r}))}return function(t){const e=Hd();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Hd(){return Ld&&!Ld.destroyed?Ld:null}let Gd=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Pd:("zone.js"===t?void 0:t)||new Td({enableLongStackTrace:Vd(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Td,useValue:n}];return n.run(()=>{const e=Fs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(yi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Wd(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Ba(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(od);return t.runInitializers(),t.donePromise.then(()=>(Uc(i.injector.get(dd,Nc)||Nc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=$d({},e);return function(t,e,n){const r=new Yh(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Jd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Yn(Fs))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function $d(t,e){return Array.isArray(e)?e.reduce($d,t):Object.assign(Object.assign({},t),e)}let Jd=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Td.assertNotInAngularZone(),Sd(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Td.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(u,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Gl?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Nh),i=n.create(Fs.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Rd,null),a=s&&i.injector.get(Nd);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Wd(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Wd(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hd,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Yn(Td),Yn(Fs),Yn(yi),Yn(Jl),Yn(od))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Wd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Yd{}class Kd{}const Qd={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Xd=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Qd}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>tp(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>tp(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Yn(xd),Yn(Kd,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function tp(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const ep=function(t){return null},np=zd(null,"core",[{provide:ld,useValue:"unknown"},{provide:Gd,deps:[Fs]},{provide:Nd,deps:[]},{provide:fd,deps:[]}]),rp=[{provide:Jd,useClass:Jd,deps:[Td,Fs,yi,Jl,od]},{provide:Hh,deps:[Td],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:od,useClass:od,deps:[[new er,id]]},{provide:xd,useClass:xd,deps:[]},ad,{provide:yh,useFactory:function(){return Eh},deps:[]},{provide:bh,useFactory:function(){return kh},deps:[]},{provide:dd,useFactory:function(t){return Uc(t=t||"undefined"!=typeof $localize&&$localize.locale||Nc),t},deps:[[new tr(dd),new er,new rr]]},{provide:pd,useValue:"USD"}];let ip=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Yn(Jd))},t.\u0275mod=rt({type:t}),t.\u0275inj=x({providers:rp}),t})()},2346:(t,e,n)=>{"use strict";n.d(e,{hO:()=>E,xv:()=>b,Dh:()=>v,HU:()=>d,GT:()=>y,sI:()=>S,on:()=>w,ss:()=>p,pX:()=>m,yq:()=>x});var r=n(8489),i=n(8569),o=n(4019),s=n(2893),a=n(45),u=n(5366),c=n(1858);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe((0,s.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.OlP("angularfire2.app.options"),b=new u.OlP("angularfire2.app.nameOrConfig"),_=new u.GfV("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const x=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[v,u.R0b,[new u.FiY,b]]};let E=(()=>{class t{constructor(t){c.Z.registerVersion("angularfire",_.full,t.toString()),c.Z.registerVersion("angular",u.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[T]}),t})()},1062:(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var r,i,o=n(4762),s=n(250),a=n(5119),u=n(308),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.6.5",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.r3)(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.ZB)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.24",void 0),t.registerVersion("fire-js","")}(_);const w=_},5119:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>u});var r=n(4762),i=n(250),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n,r=null!==(e=null==t?void 0:t.identifier)&&void 0!==e?e:s,i=null!==(n=null==t?void 0:t.optional)&&void 0!==n&&n,o=this.normalizeInstanceIdentifier(r);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(a){if(i)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=(0,r.XA)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=(0,r.CR)(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(c,u),c},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var o=(0,r.XA)(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},308:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,{in:()=>s,Yd:()=>h,Ub:()=>f,Am:()=>d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},250:(t,e,n)=>{"use strict";n.d(e,{BH:()=>a,LL:()=>b,r3:()=>x,Sg:()=>u,ne:()=>C,p$:()=>o,ZB:()=>s,m9:()=>E,z$:()=>c,jU:()=>f,ru:()=>d,d:()=>g,w1:()=>m,uI:()=>l,UG:()=>h,b$:()=>p,Mn:()=>y});var r=n(4762),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?_(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},t}();function _(t,e){return t.replace(w,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var w=/\{\$([^}]+)}/g;function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){var n=new S(t,e);return n.subscribe.bind(n)}var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function T(){}function E(t){return t&&t._delegate?t._delegate:t}},9932:(t,e,n)=>{"use strict";n.d(e,{Xb:()=>f,Gd:()=>g,cu:()=>d});var r=n(5944),i=n(5507),o=n(1731),s=n(7703),a=n(2517),u=n(877),c=n(9237),l=n(5982),h=function(){function t(t){this.errors=0,this.sid=(0,o.DM)(),this.duration=0,this.status=i.$.Ok,this.init=!0,this.ignoreDuration=!1;var e=(0,s.ph)();this.timestamp=e,this.started=e,t&&this.update(t)}return t.prototype.update=function(t){if(void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||(0,s.ph)(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=32===t.sid.length?t.sid:(0,o.DM)()),void 0!==t.init&&(this.init=t.init),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof t.duration)this.duration=t.duration;else{var e=this.timestamp-this.started;this.duration=e>=0?e:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===i.$.Ok?this.update({status:i.$.Exited}):this.update()},t.prototype.toJSON=function(){return(0,l.Jr)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:(0,l.Jr)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),f=(function(){function t(t,e){var n=this;this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._transport=t,this._intervalId=setInterval(function(){return n.flush()},1e3*this.flushTimeout),this._sessionAttrs=e}t.prototype.sendSessionAggregates=function(t){this._transport.sendSession?this._transport.sendSession(t).then(null,function(t){a.k.error("Error while sending session: "+t)}):a.k.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.flush=function(){var t=this.getSessionAggregates();0!==t.aggregates.length&&(this._pendingAggregates={},this.sendSessionAggregates(t))},t.prototype.getSessionAggregates=function(){var t=this,e=Object.keys(this._pendingAggregates).map(function(e){return t._pendingAggregates[parseInt(e)]});return(0,l.Jr)({attrs:this._sessionAttrs,aggregates:e})},t.prototype.close=function(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()},t.prototype.incrementSessionStatusCount=function(){var t,e;if(this._isEnabled){var n=g().getScope(),r=null===(t=n)||void 0===t?void 0:t.getRequestSession();r&&r.status&&(this._incrementSessionStatusCount(r.status,new Date),null===(e=n)||void 0===e||e.setRequestSession(void 0))}},t.prototype._incrementSessionStatusCount=function(t,e){var n=new Date(e).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};var r=this._pendingAggregates[n];switch(r.started||(r.started=new Date(n).toISOString()),t){case i.H.Errored:return r.errored=(r.errored||0)+1,r.errored;case i.H.Ok:return r.exited=(r.exited||0)+1,r.exited;case i.H.Crashed:return r.crashed=(r.crashed||0)+1,r.crashed}}}(),function(){function t(t,e,n){void 0===e&&(e=new c.s),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=e,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=c.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=(0,o.DM)(),i=e;if(!e){var s=void 0;try{throw new Error("Sentry syntheticException")}catch(t){s=t}i={originalException:t,syntheticException:s}}return this._invokeClient("captureException",t,(0,r.pi)((0,r.pi)({},i),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var i=this._lastEventId=(0,o.DM)(),s=n;if(!n){var a=void 0;try{throw new Error(t)}catch(u){a=u}s={originalException:t,syntheticException:a}}return this._invokeClient("captureMessage",t,e,(0,r.pi)((0,r.pi)({},s),{event_id:i})),i},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=(0,o.DM)();return this._invokeClient("captureEvent",t,(0,r.pi)((0,r.pi)({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),i=n.scope,a=n.client;if(i&&a){var u=a.getOptions&&a.getOptions()||{},c=u.beforeBreadcrumb,l=void 0===c?null:c,h=u.maxBreadcrumbs,f=void 0===h?100:h;if(!(f<=0)){var d=(0,s.yW)(),p=(0,r.pi)({timestamp:d},t),g=l?(0,o.Cf)(function(){return l(p,e)}):p;null!==g&&i.addBreadcrumb(g,Math.min(f,100))}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope;n&&e.client&&t(n)},t.prototype.run=function(t){var e=p(this);try{t(this)}finally{p(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(n){return a.k.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t,e,n,r,i;null===(n=null===(e=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===e?void 0:e.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(i=null===(r=this.getStackTop())||void 0===r?void 0:r.scope)||void 0===i||i.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,o=e.client,s=o&&o.getOptions()||{},a=new h((0,r.pi)((0,r.pi)({release:s.release,environment:s.environment},n&&{user:n.getUser()}),t));if(n){var u=n.getSession&&n.getSession();u&&u.status===i.$.Ok&&u.update({status:i.$.Exited}),this.endSession(),n.setSession(a)}return a},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var r=e.getSession&&e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},t.prototype._invokeClient=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),s=o.scope,a=o.client;a&&a[t]&&(e=a)[t].apply(e,(0,r.fl)(n,[s]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=d(),i=r.__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[t])return i.extensions[t].apply(this,e);a.k.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}());function d(){var t=(0,o.Rf)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function p(t){var e=d(),n=y(e);return v(e,t),n}function g(){var t=d();return m(t)&&!y(t).isOlderThan(4)||v(t,new f),(0,u.KV)()?function(t){var e,n,r;try{var i=null===(r=null===(n=null===(e=d().__SENTRY__)||void 0===e?void 0:e.extensions)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.active;if(!i)return y(t);if(!m(i)||y(i).isOlderThan(4)){var o=y(t).getStackTop();v(i,new f(o.client,c.s.clone(o.scope)))}return y(i)}catch(s){return y(t)}}(t):y(t)}function m(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function y(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new f),t.__SENTRY__.hub}function v(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}},9237:(t,e,n)=>{"use strict";n.d(e,{s:()=>u,c:()=>l});var r=n(5944),i=n(8757),o=n(7703),s=n(2925),a=n(1731),u=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=(0,r.fl)(e._breadcrumbs),n._tags=(0,r.pi)({},e._tags),n._extra=(0,r.pi)({},e._extra),n._contexts=(0,r.pi)({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=(0,r.fl)(e._eventProcessors),n._requestSession=e._requestSession),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(t){return this._requestSession=t,this},t.prototype.setTags=function(t){return this._tags=(0,r.pi)((0,r.pi)({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=(0,r.pi)((0,r.pi)({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=(0,r.pi)((0,r.pi)({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=(0,r.pi)((0,r.pi)({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t,e,n,r,i=this.getSpan();return(null===(t=i)||void 0===t?void 0:t.transaction)?null===(e=i)||void 0===e?void 0:e.transaction:(null===(r=null===(n=i)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?i.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=(0,r.pi)((0,r.pi)({},this._tags),e._tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),e._extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):(0,i.PO)(e)&&(e=e,this._tags=(0,r.pi)((0,r.pi)({},this._tags),e.tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),e.extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=(0,r.pi)({timestamp:(0,o.yW)()},t);return this._breadcrumbs=void 0!==e&&e>=0?(0,r.fl)(this._breadcrumbs,[n]).slice(-e):(0,r.fl)(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=(0,r.pi)((0,r.pi)({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=(0,r.pi)((0,r.pi)({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=(0,r.pi)((0,r.pi)({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=(0,r.pi)((0,r.pi)({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=(0,r.pi)({trace:this._span.getTraceContext()},t.contexts);var i=null===(n=this._span.transaction)||void 0===n?void 0:n.name;i&&(t.tags=(0,r.pi)({transaction:i},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=(0,r.fl)(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors((0,r.fl)(c(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,n,o){var a=this;return void 0===o&&(o=0),new s.c(function(s,u){var c=t[o];if(null===e||"function"!=typeof c)s(e);else{var l=c((0,r.pi)({},e),n);(0,i.J8)(l)?l.then(function(e){return a._notifyEventProcessors(t,e,n,o+1).then(s)}).then(null,u):a._notifyEventProcessors(t,l,n,o+1).then(s).then(null,u)}})},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(e){e(t)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function c(){var t=(0,a.Rf)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function l(t){c().push(t)}},9290:(t,e,n)=>{"use strict";n.d(e,{ro:()=>v,lb:()=>y});var r,i=n(9516),o=n(9932);!function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"}(r||(r={}));var s=n(2517),a=n(877),u=n(3854),c=n(4075),l=n(8133);function h(){var t=(0,l.x1)();t&&(s.k.log("[Tracing] Transaction: "+c.p.InternalError+" -> Global error occured"),t.setStatus(c.p.InternalError))}var f=n(8570),d=n(6402);function p(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function g(t,e,n){return(0,l.zu)()?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:r.Explicit}}),t):("function"==typeof e.tracesSampler?(o=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:r.Sampler,rate:Number(o)}})):void 0!==n.parentSampled?(o=n.parentSampled,t.setMetadata({transactionSampling:{method:r.Inheritance}})):(o=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:r.Rate,rate:Number(o)}})),i=o,(isNaN(i)||"number"!=typeof i&&"boolean"!=typeof i?(s.k.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(i)+" of type "+JSON.stringify(typeof i)+"."),0):!(i<0||i>1)||(s.k.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+i+"."),0))?o?(t.sampled=Math.random()<o,t.sampled?(s.k.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(s.k.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(o)+")"),t)):(s.k.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(s.k.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var i,o}function m(t,e){var n,r,o=(null===(n=this.getClient())||void 0===n?void 0:n.getOptions())||{},s=new d.Y(t,this);return(s=g(s,o,(0,i.pi)({parentSampled:t.parentSampled,transactionContext:t},e))).sampled&&s.initSpanRecorder(null===(r=o._experiments)||void 0===r?void 0:r.maxSpans),s}function y(t,e,n,r,o){var s,a,u=(null===(s=t.getClient())||void 0===s?void 0:s.getOptions())||{},c=new f.io(e,t,n,r);return(c=g(c,u,(0,i.pi)({parentSampled:e.parentSampled,transactionContext:e},o))).sampled&&c.initSpanRecorder(null===(a=u._experiments)||void 0===a?void 0:a.maxSpans),c}function v(){var e;(e=(0,o.cu)()).__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=m),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=p)),(0,a.KV)()&&function(){var e=(0,o.cu)();if(e.__SENTRY__){var n={mongodb:function(){return new((0,a.l$)(t,"./integrations/mongo").Mongo)},mongoose:function(){return new((0,a.l$)(t,"./integrations/mongo").Mongo)({mongoose:!0})},mysql:function(){return new((0,a.l$)(t,"./integrations/mysql").Mysql)},pg:function(){return new((0,a.l$)(t,"./integrations/postgres").Postgres)}},r=Object.keys(n).filter(function(t){return!!(0,a.$y)(t)}).map(function(t){try{return n[t]()}catch(e){return}}).filter(function(t){return t});r.length>0&&(e.__SENTRY__.integrations=(0,i.fl)(e.__SENTRY__.integrations||[],r))}}(),(0,u.o)({callback:h,type:"error"}),(0,u.o)({callback:h,type:"unhandledrejection"})}t=n.hmd(t)},8570:(t,e,n)=>{"use strict";n.d(e,{nT:()=>c,io:()=>h});var r=n(9516),i=n(7703),o=n(2517),s=n(9185),a=n(4075),u=n(6402),c=1e3,l=function(t){function e(e,n,r,i){void 0===r&&(r="");var o=t.call(this,i)||this;return o._pushActivity=e,o._popActivity=n,o.transactionSpanId=r,o}return(0,r.ZT)(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"==typeof t?t:(0,i._I)(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(s.g),h=function(t){function e(e,n,r,i){void 0===r&&(r=c),void 0===i&&(i=!1);var s=t.call(this,e,n)||this;return s._idleHub=n,s._idleTimeout=r,s._onScope=i,s.activities={},s._heartbeatTimer=0,s._heartbeatCounter=0,s._finished=!1,s._beforeFinishCallbacks=[],n&&i&&(f(n),o.k.log("Setting idle transaction on scope. Span ID: "+s.spanId),n.configureScope(function(t){return t.setSpan(s)})),s._initTimeout=setTimeout(function(){s._finished||s.finish()},s._idleTimeout),s}return(0,r.ZT)(e,t),e.prototype.finish=function(e){var n,s,u=this;if(void 0===e&&(e=(0,i._I)()),this._finished=!0,this.activities={},this.spanRecorder){o.k.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var c=(0,r.XA)(this._beforeFinishCallbacks),l=c.next();!l.done;l=c.next())(0,l.value)(this,e)}catch(h){n={error:h}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(t){if(t.spanId===u.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus(a.p.Cancelled),o.k.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||o.k.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n}),o.k.log("[Tracing] flushing IdleTransaction")}else o.k.log("[Tracing] No active IdleTransaction");return this._onScope&&f(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;this.spanRecorder||(this.spanRecorder=new l(function(t){e._finished||e._pushActivity(t)},function(t){e._finished||e._popActivity(t)},this.spanId,t),o.k.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),o.k.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,o.k.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(o.k.log("[Tracing] popActivity "+t),delete this.activities[t],o.k.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=(0,i._I)()+n/1e3;setTimeout(function(){e._finished||e.finish(r)},n)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var t=Object.keys(this.activities),e=t.length?t.reduce(function(t,e){return t+e}):"";e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(o.k.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(a.p.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;o.k.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){t._beat()},5e3)},e}(u.Y);function f(t){if(t){var e=t.getScope();e&&e.getTransaction()&&e.setSpan(void 0)}}},9185:(t,e,n)=>{"use strict";n.d(e,{g:()=>u,D:()=>c});var r=n(9516),i=n(1731),o=n(7703),s=n(5982),a=n(4075),u=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),c=function(){function t(t){if(this.traceId=(0,i.DM)(),this.spanId=(0,i.DM)().substring(16),this.startTimestamp=(0,o._I)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t((0,r.pi)((0,r.pi)({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=(0,r.pi)((0,r.pi)({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=(0,r.pi)((0,r.pi)({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=a.p.fromHttpCode(t);return e!==a.p.UnknownError&&this.setStatus(e),this},t.prototype.isSuccess=function(){return this.status===a.p.Ok},t.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:(0,o._I)()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return(0,s.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,r,i,o;return this.data=null!=(e=t.data)?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(n=t.spanId)?n:this.spanId,this.startTimestamp=null!=(r=t.startTimestamp)?r:this.startTimestamp,this.status=t.status,this.tags=null!=(i=t.tags)?i:{},this.traceId=null!=(o=t.traceId)?o:this.traceId,this},t.prototype.getTraceContext=function(){return(0,s.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return(0,s.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()},4075:(t,e,n)=>{"use strict";var r;n.d(e,{p:()=>r}),function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"}(r||(r={})),function(t){t.fromHttpCode=function(e){if(e<400)return t.Ok;if(e>=400&&e<500)switch(e){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(e>=500&&e<600)switch(e){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}}(r||(r={}))},6402:(t,e,n)=>{"use strict";n.d(e,{Y:()=>c});var r=n(9516),i=n(9932),o=n(8757),s=n(2517),a=n(5982),u=n(9185),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r._measurements={},r._hub=(0,i.Gd)(),(0,o.V9)(n,i.Xb)&&(r._hub=n),r.name=e.name||"",r.metadata=e.metadata||{},r._trimEnd=e.trimEnd,r.transaction=r,r}return(0,r.ZT)(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new u.g(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=(0,r.pi)({},t)},e.prototype.setMetadata=function(t){this.metadata=(0,r.pi)((0,r.pi)({},this.metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(s.k.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter(function(t){return t!==n&&t.endTimestamp}):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce(function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t}).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata};return Object.keys(this._measurements).length>0&&(s.k.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),s.k.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(i)}s.k.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return(0,a.Jr)((0,r.pi)((0,r.pi)({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!=(n=e.name)?n:"",this._trimEnd=e.trimEnd,this},e}(u.D)},8133:(t,e,n)=>{"use strict";n.d(e,{zu:()=>o,qG:()=>s,x1:()=>a,XL:()=>u,WB:()=>c});var r=n(9932),i=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function o(t){var e;return void 0===t&&(t=null===(e=(0,r.Gd)().getClient())||void 0===e?void 0:e.getOptions()),!!t&&("tracesSampleRate"in t||"tracesSampler"in t)}function s(t){var e=t.match(i);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}function a(t){var e,n;return void 0===t&&(t=(0,r.Gd)()),null===(n=null===(e=t)||void 0===e?void 0:e.getScope())||void 0===n?void 0:n.getTransaction()}function u(t){return t/1e3}function c(t){return 1e3*t}},5507:(t,e,n)=>{"use strict";var r,i;n.d(e,{$:()=>r,H:()=>i}),function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(r||(r={})),function(t){t.Ok="ok",t.Errored="errored",t.Crashed="crashed"}(i||(i={}))},6245:(t,e,n)=>{"use strict";n.d(e,{R:()=>i});var r=n(8757);function i(t){try{for(var e=t,n=[],r=0,i=0,s=" > ".length,a=void 0;e&&r++<5&&!("html"===(a=o(e))||r>1&&i+n.length*s+a.length>=80);)n.push(a),i+=a.length,e=e.parentNode;return n.reverse().join(" > ")}catch(u){return"<unknown>"}}function o(t){var e,n,i,o,s,a=t,u=[];if(!a||!a.tagName)return"";if(u.push(a.tagName.toLowerCase()),a.id&&u.push("#"+a.id),(e=a.className)&&(0,r.HD)(e))for(n=e.split(/\s+/),s=0;s<n.length;s++)u.push("."+n[s]);var c=["type","name","title","alt"];for(s=0;s<c.length;s++)(o=a.getAttribute(i=c[s]))&&u.push("["+i+'="'+o+'"]');return u.join("")}},3854:(t,e,n)=>{"use strict";n.d(e,{o:()=>m});var r,i,o,s=n(5037),a=n(8757),u=n(2517),c=n(1731),l=n(5982),h=n(44),f=n(3286),d=(0,c.Rf)(),p={},g={};function m(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(p[t.type]=p[t.type]||[],p[t.type].push(t.callback),function(t){if(!g[t])switch(g[t]=!0,t){case"console":"console"in d&&["debug","info","warn","error","log","assert"].forEach(function(t){t in d.console&&(0,l.hl)(d.console,t,function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];y("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,d.console,n)}})});break;case"dom":!function(){if("document"in d){var t=y.bind(null,"dom"),e=_(t,!0);d.document.addEventListener("click",e,!1),d.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(e){var n=d[e]&&d[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,l.hl)(n,"addEventListener",function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{var o=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=o[n]=o[n]||{refCount:0};if(!s.handler){var a=_(t);s.handler=a,e.call(this,n,a,i)}s.refCount+=1}catch(u){}return e.call(this,n,r,i)}}),(0,l.hl)(n,"removeEventListener",function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var i=this.__sentry_instrumentation_handlers__||{},o=i[e];o&&(o.refCount-=1,o.refCount<=0&&(t.call(this,e,o.handler,r),o.handler=void 0,delete i[e]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(s){}return t.call(this,e,n,r)}}))})}}();break;case"xhr":!function(){if("XMLHttpRequest"in d){var t=[],e=[],n=XMLHttpRequest.prototype;(0,l.hl)(n,"open",function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,s=r[1];o.__sentry_xhr__={method:(0,a.HD)(r[0])?r[0].toUpperCase():r[0],url:r[1]},(0,a.HD)(s)&&"POST"===o.__sentry_xhr__.method&&s.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var u=function(){if(4===o.readyState){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(s){}try{var n=t.indexOf(o);if(-1!==n){t.splice(n);var i=e.splice(n)[0];o.__sentry_xhr__&&void 0!==i[0]&&(o.__sentry_xhr__.body=i[0])}}catch(s){}y("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?(0,l.hl)(o,"onreadystatechange",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return u(),t.apply(o,e)}}):o.addEventListener("readystatechange",u),n.apply(o,r)}}),(0,l.hl)(n,"send",function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return t.push(this),e.push(r),y("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}})}}();break;case"fetch":(0,f.t$)()&&(0,l.hl)(d,"fetch",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:v(e),url:b(e)},startTimestamp:Date.now()};return y("fetch",(0,s.pi)({},r)),t.apply(d,e).then(function(t){return y("fetch",(0,s.pi)((0,s.pi)({},r),{endTimestamp:Date.now(),response:t})),t},function(t){throw y("fetch",(0,s.pi)((0,s.pi)({},r),{endTimestamp:Date.now(),error:t})),t})}});break;case"history":!function(){if((0,f.Bf)()){var t=d.onpopstate;d.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=d.location.href,o=r;if(r=i,y("history",{from:o,to:i}),t)try{return t.apply(this,e)}catch(s){}},(0,l.hl)(d.history,"pushState",e),(0,l.hl)(d.history,"replaceState",e)}function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.length>2?e[2]:void 0;if(i){var o=r,s=String(i);r=s,y("history",{from:o,to:s})}return t.apply(this,e)}}}();break;case"error":w=d.onerror,d.onerror=function(t,e,n,r,i){return y("error",{column:r,error:i,line:n,msg:t,url:e}),!!w&&w.apply(this,arguments)};break;case"unhandledrejection":x=d.onunhandledrejection,d.onunhandledrejection=function(t){return y("unhandledrejection",t),!x||x.apply(this,arguments)};break;default:u.k.warn("unknown instrumentation type:",t)}}(t.type))}function y(t,e){var n,r;if(t&&p[t])try{for(var i=(0,s.XA)(p[t]||[]),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(e)}catch(c){u.k.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+(0,h.$)(a)+"\nError: "+c)}}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function v(t){return void 0===t&&(t=[]),"Request"in d&&(0,a.V9)(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function b(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in d&&(0,a.V9)(t[0],Request)?t[0].url:String(t[0])}function _(t,e){return void 0===e&&(e=!1),function(n){if(n&&o!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(n){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===i||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(n){}return!1}(o,n))&&(t({event:n,name:r,global:e}),o=n),clearTimeout(i),i=d.setTimeout(function(){i=void 0},1e3)}}}var w=null,x=null},8757:(t,e,n)=>{"use strict";function r(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return g(t,Error)}}function i(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function o(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function s(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function a(t){return"[object String]"===Object.prototype.toString.call(t)}function u(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function c(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"undefined"!=typeof Event&&g(t,Event)}function h(t){return"undefined"!=typeof Element&&g(t,Element)}function f(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function d(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function p(t){return c(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function g(t,e){try{return t instanceof e}catch(n){return!1}}n.d(e,{VZ:()=>r,VW:()=>i,TX:()=>o,fm:()=>s,HD:()=>a,pt:()=>u,PO:()=>c,cO:()=>l,kK:()=>h,Kj:()=>f,J8:()=>d,Cy:()=>p,V9:()=>g})},2517:(t,e,n)=>{"use strict";n.d(e,{k:()=>a});var r=n(1731),i=(0,r.Rf)(),o="Sentry Logger ",s=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&(0,r.Cf)(function(){i.console.log(o+"[Log]: "+t.join(" "))})},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&(0,r.Cf)(function(){i.console.warn(o+"[Warn]: "+t.join(" "))})},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&(0,r.Cf)(function(){i.console.error(o+"[Error]: "+t.join(" "))})},t}();i.__SENTRY__=i.__SENTRY__||{};var a=i.__SENTRY__.logger||(i.__SENTRY__.logger=new s)},1731:(t,e,n)=>{"use strict";n.d(e,{Rf:()=>o,DM:()=>s,en:()=>a,jH:()=>u,Cf:()=>c,Db:()=>l,EG:()=>h,l4:()=>f,JY:()=>d,rt:()=>p});var r=n(877),i={};function o(){return(0,r.KV)()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function s(){var t=o(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function a(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return e?{host:e[4],path:e[5],protocol:e[2],relative:e[5]+(e[6]||"")+(e[8]||"")}:{}}function u(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function c(t){var e=o();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach(function(t){t in e.console&&n[t].__sentry_original__&&(r[t]=n[t],n[t]=n[t].__sentry_original__)});var i=t();return Object.keys(r).forEach(function(t){n[t]=r[t]}),i}function l(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function h(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(n){t.exception.values[0].mechanism[n]=e[n]})}catch(n){}}function f(){try{return document.location.href}catch(t){return""}}function d(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}function p(t){return t.split(/[\?#]/,1)[0]}},877:(t,e,n)=>{"use strict";function r(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(t,e){return t.require(e)}function o(e){var n;try{n=i(t,e)}catch(o){}try{var r=i(t,"process").cwd;n=i(t,r()+"/node_modules/"+e)}catch(o){}return n}n.d(e,{KV:()=>r,l$:()=>i,$y:()=>o}),t=n.hmd(t)},5982:(t,e,n)=>{"use strict";n.d(e,{Jr:()=>y,zf:()=>m,hl:()=>c,Fv:()=>g,Qy:()=>f,_j:()=>l});var r=n(5037),i=n(6245),o=n(8757),s=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t)return!0;return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}(),a=n(44),u=n(5891);function c(t,e,n){if(e in t){var r=t[e],i=n(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(o){}t[e]=i}}function l(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function h(t){if((0,o.VZ)(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if((0,o.cO)(t)){var s=t,a={};a.type=s.type;try{a.target=(0,o.kK)(s.target)?(0,i.R)(s.target):Object.prototype.toString.call(s.target)}catch(u){a.target="<unknown>"}try{a.currentTarget=(0,o.kK)(s.currentTarget)?(0,i.R)(s.currentTarget):Object.prototype.toString.call(s.currentTarget)}catch(u){a.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&(0,o.V9)(t,CustomEvent)&&(a.detail=s.detail),s)Object.prototype.hasOwnProperty.call(s,r)&&(a[r]=s);return a}return t}function f(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r,i=g(t,e);return r=JSON.stringify(i),~-encodeURI(r).split(/%..|./).length>n?f(t,e-1,n):i}function d(t,e){return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":(0,o.Cy)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+(0,a.$)(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t}function p(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new s),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=d(t);return(0,o.pt)(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var i=d(e,t);if((0,o.pt)(i))return i;var a=h(e),u=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(u[c]=p(c,a[c],n-1,r));return r.unmemoize(e),u}function g(t,e){try{return JSON.parse(JSON.stringify(t,function(t,n){return p(t,n,e)}))}catch(n){return"**non-serializable**"}}function m(t,e){void 0===e&&(e=40);var n=Object.keys(h(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return(0,u.$G)(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:(0,u.$G)(i,e)}return""}function y(t){var e,n;if((0,o.PO)(t)){var i=t,s={};try{for(var a=(0,r.XA)(Object.keys(i)),u=a.next();!u.done;u=a.next()){var c=u.value;void 0!==i[c]&&(s[c]=y(i[c]))}}catch(l){e={error:l}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return s}return Array.isArray(t)?t.map(y):t}},44:(t,e,n)=>{"use strict";n.d(e,{$:()=>i});var r="<anonymous>";function i(t){try{return t&&"function"==typeof t&&t.name||r}catch(e){return r}}},5891:(t,e,n)=>{"use strict";n.d(e,{$G:()=>i,nK:()=>o,zC:()=>s});var r=n(8757);function i(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function o(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(o){n.push("[value cannot be serialized]")}}return n.join(e)}function s(t,e){return!!(0,r.HD)(t)&&((0,r.Kj)(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e))}},3286:(t,e,n)=>{"use strict";n.d(e,{Ak:()=>o,Du:()=>s,t$:()=>a,hv:()=>u,Bf:()=>c});var r=n(2517),i=n(1731);function o(){if(!("fetch"in(0,i.Rf)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function s(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function a(){if(!o())return!1;var t=(0,i.Rf)();if(s(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var a=n.createElement("iframe");a.hidden=!0,n.head.appendChild(a),a.contentWindow&&a.contentWindow.fetch&&(e=s(a.contentWindow.fetch)),n.head.removeChild(a)}catch(u){r.k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",u)}return e}function u(){if(!o())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function c(){var t=(0,i.Rf)(),e=t.chrome;return!(e&&e.app&&e.app.runtime||!("history"in t)||!t.history.pushState||!t.history.replaceState)}},2925:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r,i=n(8757);!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(r||(r={}));var o=function(){function t(t){var e=this;this._state=r.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(r.RESOLVED,t)},this._reject=function(t){e._setResult(r.REJECTED,t)},this._setResult=function(t,n){e._state===r.PENDING&&((0,i.J8)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==r.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach(function(t){t.done||(e._state===r.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===r.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)})}};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return t.resolve=function(e){return new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.all=function(e){return new t(function(n,r){if(Array.isArray(e))if(0!==e.length){var i=e.length,o=[];e.forEach(function(e,s){t.resolve(e).then(function(t){o[s]=t,0==(i-=1)&&n(o)}).then(null,r)})}else n([]);else r(new TypeError("Promise.all requires an array as input."))})},t.prototype.then=function(e,n){var r=this;return new t(function(t,i){r._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(r){return void i(r)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(r){return void i(r)}else i(e)}})})},t.prototype.catch=function(t){return this.then(function(t){return t},t)},t.prototype.finally=function(e){var n=this;return new t(function(t,r){var i,o;return n.then(function(t){o=!1,i=t,e&&e()},function(t){o=!0,i=t,e&&e()}).then(function(){o?r(i):t(i)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}()},7703:(t,e,n)=>{"use strict";n.d(e,{yW:()=>u,ph:()=>c,_I:()=>l,Z1:()=>h});var r=n(1731),i=n(877);t=n.hmd(t);var o={nowSeconds:function(){return Date.now()/1e3}},s=(0,i.KV)()?function(){try{return(0,i.l$)(t,"perf_hooks").performance}catch(e){return}}():function(){var t=(0,r.Rf)().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),a=void 0===s?o:{nowSeconds:function(){return(s.timeOrigin+s.now())/1e3}},u=o.nowSeconds.bind(o),c=a.nowSeconds.bind(a),l=c,h=function(){var t=(0,r.Rf)().performance;if(t){var e=36e5,n=t.now(),i=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,s=o<e,a=t.timing&&t.timing.navigationStart,u="number"==typeof a?Math.abs(a+n-i):e;return s||u<e?o<=u?t.timeOrigin:a:i}}()},1858:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(1062),i="8.6.5";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},8861:(t,e,n)=>{"use strict";n.d(e,{P:()=>s});var r=n(653),i=n(878),o=n(8318);let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return t=this.error,new o.y(e=>e.error(t));case"C":return(0,r.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},8318:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(6673),i=n(5331),o=n(7498),s=n(6197),a=n(3392),u=n(1484);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(1484),i=n(4294);const o={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},5959:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>l});var r=n(8318),i=n(6673),o=n(7570),s=n(3895),a=n(9291),u=n(5331);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},9291:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(7570);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},6673:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(5024),i=n(7498),o=n(7570),s=n(5331),a=n(1484),u=n(4294);class c extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},7570:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(8470),i=n(2056),o=n(5024);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if((0,o.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},1484:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(t,e,n)=>{"use strict";n.d(e,{IY:()=>s,Ds:()=>a,ft:()=>u});var r=n(6673),i=n(8318),o=n(6015);class s extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,o.s)(t)(e)}catch(r){e.error(r)}return n}},2875:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>u});var r=n(5959),i=n(8318),o=n(7570),s=n(1564);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},653:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>o});var r=n(8318);const i=new r.y(t=>t.complete());function o(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},9764:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(8318),i=n(6015),o=n(7570),s=n(6197),a=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>{const i=t[s.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},9342:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var r=n(8318),i=n(625),o=n(2570);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},1906:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(8318),i=n(6163),o=n(7471),s=n(9342);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},878:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var r=n(6163),i=n(9342),o=n(2570);function s(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,i.n)(t)}},9996:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(6673);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7471:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var r=n(3982),i=n(3392);function o(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},3982:(t,e,n)=>{"use strict";n.d(e,{zg:()=>s});var r=n(9996),i=n(9764),o=n(6882);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const r=(0,o.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},45:(t,e,n)=>{"use strict";n.d(e,{QV:()=>o,ht:()=>a});var r=n(6673),i=n(8861);function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.P.createNext(t))}_error(t){this.scheduleMessage(i.P.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},1564:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(6673);function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},1055:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var r=n(2875),i=n(1564),o=n(5959);function s(){return new o.xQ}function a(){return t=>{return(0,i.x)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i})(t));var e}}},2893:(t,e,n)=>{"use strict";n.d(e,{R:()=>m});var r=n(8318);let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(8277);class l extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n(1098);class f extends h.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n(2293);class g extends r.y{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(0,p.k)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},4019:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var r=n(6673),i=n(6054),o=n(5024);function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i.Z,this._tapError=i.Z,this._tapComplete=i.Z,this._tapError=n||i.Z,this._tapComplete=r||i.Z,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.Z,this._tapError=e.error||i.Z,this._tapComplete=e.complete||i.Z)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},2570:(t,e,n)=>{"use strict";n.d(e,{r:()=>o});var r=n(8318),i=n(7570);function o(t,e){return new r.y(n=>{const r=new i.w;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var r=n(7570);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},1098:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},8569:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>o});var r=n(8277);const i=new(n(1098).v)(r.o),o=i},8489:(t,e,n)=>{"use strict";n.d(e,{c:()=>u,N:()=>a});var r=n(8277);class i extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n(1098);class s extends o.v{}const a=new s(i),u=a},5686:(t,e,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>i});const i=r()},6197:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},3895:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4294:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},3392:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},8470:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},9653:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5024:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},2293:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});var r=n(8470);function i(t){return!(0,r.k)(t)&&t-parseFloat(t)+1>=0}},2056:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},5168:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},6163:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},6054:(t,e,n)=>{"use strict";function r(){}n.d(e,{Z:()=>r})},6015:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(625),i=n(4294),o=n(5686),s=n(6197),a=n(9653),u=n(5168),c=n(2056);const l=t=>{if(t&&"function"==typeof t[s.L])return l=t,t=>{const e=l[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[o.hZ])return e=t,t=>{const n=e[o.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},625:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},8438:(t,e,n)=>{"use strict";var r={};n.r(r),n.d(r,{Express:()=>js,Mongo:()=>Gs,Mysql:()=>Bs,Postgres:()=>Zs});var i=n(5366);let o=null;function s(){return o}const a=new i.OlP("DocumentToken");let u=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return(0,i.LFG)(h)}const l=new i.OlP("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(a))},t.\u0275prov=(0,i.Yz7)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h((0,i.LFG)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=(0,i.LFG)(a).location;return new _((0,i.LFG)(u),e&&e.origin||"")}const b=new i.OlP("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(u),i.LFG(b,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(u),i.LFG(b,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t{constructor(t,e){this._subject=new i.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(y),i.LFG(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=(0,i.Yz7)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new x((0,i.LFG)(y),(0,i.LFG)(u))}function S(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const E=i.kL8;class k{}let O=(()=>{class t extends k{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(E(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.soG))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function I(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let A=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class P{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let R=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(rw){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new P(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new N(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new M,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){L("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){L("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class M{constructor(){this.$implicit=null,this.ngIf=null}}function L(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,i.AaK)(e)}'.`)}let F=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.TTD]}),t})(),U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[{provide:k,useClass:O}]}),t})();function j(t){return"server"===t}let V=(()=>{class t{}return t.\u0275prov=(0,i.Yz7)({token:t,providedIn:"root",factory:()=>new q((0,i.LFG)(a),window)}),t})();class q{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Z(this.window.history)||Z(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(rw){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(rw){return!1}}}function Z(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class B{}class z extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new z,o||(o=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(G=G||document.querySelector("base"),G?G.getAttribute("href"):null);return null==e?null:function(t){H=H||document.createElement("a"),H.setAttribute("href",t);const e=H.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){G=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return I(document.cookie,t)}}let H,G=null;const $=new i.OlP("TRANSITION_ID"),J=[{provide:i.ip1,useFactory:function(t,e,n){return()=>{n.get(i.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[$,a,i.zs3],multi:!0}];class W{static init(){(0,i.VLi)(new W)}addToWindow(t){i.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(t=>{const e=i.dqk.getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Y=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const K=new i.OlP("EventManagerPlugins");let Q=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(K),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class X{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let tt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),et=(()=>{class t extends tt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(nt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(nt))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(a))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function nt(t){s().remove(t)}const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},it=/%COMP%/g;function ot(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ot(t,i,n):(i=i.replace(it,t),n.push(i))}return n}function st(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let at=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ut(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ct(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.ifc.ShadowDom:return new lt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ot(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Q),i.LFG(et),i.LFG(i.AFp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class ut{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(rt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=rt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=rt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.JOm.DashCase|i.JOm.Important)?t.style.setProperty(e,n,r&i.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,st(n)):this.eventManager.addEventListener(t,e,st(n))}}class ct extends ut{constructor(t,e,n,r){super(t),this.component=n;const i=ot(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(it,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(it,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class lt extends ut{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ot(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ht=(()=>{class t extends X{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(a))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const ft=["alt","control","meta","shift"],dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let mt=(()=>{class t extends X{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ft.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&pt.hasOwnProperty(e)&&(e=pt[e]))}return dt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ft.forEach(r=>{r!=n&&(0,gt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(a))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),yt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:function(){return(0,i.LFG)(bt)},token:t,providedIn:"root"}),t})();function vt(t){return new bt(t.get(a))}let bt=(()=>{class t extends yt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.q3G.NONE:return e;case i.q3G.HTML:return(0,i.qzn)(e,"HTML")?(0,i.z3N)(e):(0,i.EiD)(this._doc,String(e)).toString();case i.q3G.STYLE:return(0,i.qzn)(e,"Style")?(0,i.z3N)(e):e;case i.q3G.SCRIPT:if((0,i.qzn)(e,"Script"))return(0,i.z3N)(e);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.yhl)(e),(0,i.qzn)(e,"URL")?(0,i.z3N)(e):(0,i.mCW)(String(e));case i.q3G.RESOURCE_URL:if((0,i.qzn)(e,"ResourceURL"))return(0,i.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,i.JVY)(t)}bypassSecurityTrustStyle(t){return(0,i.L6k)(t)}bypassSecurityTrustScript(t){return(0,i.eBb)(t)}bypassSecurityTrustUrl(t){return(0,i.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,i.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(a))},t.\u0275prov=(0,i.Yz7)({factory:function(){return vt((0,i.LFG)(i.gxx))},token:t,providedIn:"root"}),t})();const _t=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:"browser"},{provide:i.g9A,useValue:function(){z.makeCurrent(),W.init()},multi:!0},{provide:a,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),wt=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:K,useClass:ht,multi:!0,deps:[a,i.R0b,i.Lbi]},{provide:K,useClass:mt,multi:!0,deps:[a]},[],{provide:at,useClass:at,deps:[Q,et,i.AFp]},{provide:i.FYo,useExisting:at},{provide:tt,useExisting:et},{provide:et,useClass:et,deps:[a]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:Q,useClass:Q,deps:[K,i.R0b]},{provide:B,useClass:Y,deps:[]},[]];let xt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.AFp,useValue:e.appId},{provide:$,useExisting:i.AFp},J]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(t,12))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:wt,imports:[U,i.hGG]}),t})();"undefined"!=typeof window&&window;var Ct="6.5.1",St=n(9932),Tt=n(2517),Et=function(){return(Et=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function kt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Ot(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kt(arguments[e]));return t}var It,At=n(9237),Pt=n(1731),Rt=n(5891),Nt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Dt=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){(0,At.c)(function(e){var n=(0,St.Gd)();if(!n)return e;var r=n.getIntegration(t);if(r){var i=n.getClient(),o=i?i.getOptions():{},s="function"==typeof r._mergeOptions?r._mergeOptions(o):{};return"function"!=typeof r._shouldDropEvent?e:r._shouldDropEvent(e,s)?null:e}return e})},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(Tt.k.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,Pt.jH)(t)),!0):this._isIgnoredError(t,e)?(Tt.k.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,Pt.jH)(t)),!0):this._isDeniedUrl(t,e)?(Tt.k.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,Pt.jH)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(Tt.k.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,Pt.jH)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(n){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some(function(t){return e.ignoreErrors.some(function(e){return(0,Rt.zC)(t,e)})})},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.denyUrls.some(function(t){return(0,Rt.zC)(n,t)})},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.allowUrls.some(function(t){return(0,Rt.zC)(n,t)})},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:Ot(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:Ot(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:Ot(this._options.ignoreErrors||[],t.ignoreErrors||[],Nt),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=e.value,i=void 0===r?"":r;return[""+i,(void 0===n?"":n)+": "+i]}catch(o){return Tt.k.error("Cannot extract message for event "+(0,Pt.jH)(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(r){return Tt.k.error("Cannot extract url for event "+(0,Pt.jH)(t)),null}},t.id="InboundFilters",t}(),Mt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){It=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return It.apply(n,t)}},t.id="FunctionToString",t}(),Lt=n(3854),Ft=function(t,e){return(Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Ut(t,e){function n(){this.constructor=t}Ft(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var jt=function(){return(jt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Vt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Zt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(qt(arguments[e]));return t}var Bt=n(5507),zt=n(5037),Ht=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}),Gt=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,Ht(r,n.prototype),r}return(0,zt.ZT)(e,t),e}(Error),$t=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Jt=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.path,r=e.pass,i=e.port;return e.protocol+"://"+e.publicKey+(t&&r?":"+r:"")+"@"+e.host+(i?":"+i:"")+"/"+(n?n+"/":n)+e.projectId},t.prototype._fromString=function(t){var e=$t.exec(t);if(!e)throw new Gt("Invalid Dsn");var n=(0,zt.CR)(e.slice(1),6),r=n[0],i=n[1],o=n[2],s=void 0===o?"":o,a=n[3],u=n[4],c=void 0===u?"":u,l="",h=n[5],f=h.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),h=f.pop()),h){var d=h.match(/^\d+/);d&&(h=d[0])}this._fromComponents({host:a,pass:s,path:l,projectId:h,port:c,protocol:r,publicKey:i})},t.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach(function(e){if(!t[e])throw new Gt("Invalid Dsn: "+e+" missing")}),!this.projectId.match(/^\d+$/))throw new Gt("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new Gt("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Gt("Invalid Dsn: Invalid port "+this.port)},t}(),Wt=n(8757),Yt=n(2925),Kt=n(7703),Qt=n(5982),Xt=[];function te(t){return t.reduce(function(t,e){return t.every(function(t){return e.name!==t.name})&&t.push(e),t},[])}var ee,ne=function(){function t(t,e){this._integrations={},this._processing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new Jt(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this,i=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then(function(t){return r._captureEvent(t,e,n)}).then(function(t){i=t})),i},t.prototype.captureMessage=function(t,e,n,r){var i=this,o=n&&n.event_id,s=(0,Wt.pt)(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(s.then(function(t){return i._captureEvent(t,n,r)}).then(function(t){o=t})),o},t.prototype.captureEvent=function(t,e,n){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then(function(t){r=t})),r},t.prototype.captureSession=function(t){"string"!=typeof t.release?Tt.k.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1}))},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then(function(n){return e._getBackend().getTransport().close(t).then(function(t){return n&&t})})},t.prototype.close=function(t){var e=this;return this.flush(t).then(function(t){return e.getOptions().enabled=!1,t})},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=function(t){var e={};return function(t){var e=t.defaultIntegrations&&Ot(t.defaultIntegrations)||[],n=t.integrations,r=Ot(te(e));Array.isArray(n)?r=Ot(r.filter(function(t){return n.every(function(e){return e.name!==t.name})}),te(n)):"function"==typeof n&&(r=n(r),r=Array.isArray(r)?r:[r]);var i=r.map(function(t){return t.name}),o="Debug";return-1!==i.indexOf(o)&&r.push.apply(r,Ot(r.splice(i.indexOf(o),1))),r}(t).forEach(function(t){e[t.name]=t,function(t){-1===Xt.indexOf(t.name)&&(t.setupOnce(At.c,St.Gd),Xt.push(t.name),Tt.k.log("Integration installed: "+t.name))}(t)}),e}(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return Tt.k.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,i,o=!1,s=!1,a=e.exception&&e.exception.values;if(a){s=!0;try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),c=u.next();!c.done;c=u.next()){var l=c.value.mechanism;if(l&&!1===l.handled){o=!0;break}}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}var h=e.user;if(!t.userAgent){var f=e.request?e.request.headers:{};for(var d in f)if("user-agent"===d.toLowerCase()){i=f[d];break}}t.update(Et(Et({},o&&{status:Bt.$.Crashed}),{user:h,userAgent:i,errors:t.errors+Number(s||o)})),this.captureSession(t)},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientProcessing=function(t){var e=this;return new Yt.c(function(n){var r=0,i=setInterval(function(){0==e._processing?(clearInterval(i),n(!0)):(r+=1,t&&r>=t&&(clearInterval(i),n(!1)))},1)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,s=Et(Et({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:(0,Pt.DM)()),timestamp:t.timestamp||(0,Kt.yW)()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var a=e;n&&n.captureContext&&(a=At.s.clone(a).update(n.captureContext));var u=Yt.c.resolve(s);return a&&(u=a.applyToEvent(s,n)),u.then(function(t){return"number"==typeof o&&o>0?r._normalizeEvent(t,o):t})},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var n=Et(Et(Et(Et(Et({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(t){return Et(Et({},t),t.data&&{data:(0,Qt.Fv)(t.data,e)})})}),t.user&&{user:(0,Qt.Fv)(t.user,e)}),t.contexts&&{contexts:(0,Qt.Fv)(t.contexts,e)}),t.extra&&{extra:(0,Qt.Fv)(t.extra,e)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.release,r=e.dist,i=e.maxValueLength,o=void 0===i?250:i;"environment"in t||(t.environment="environment"in e?e.environment:"production"),void 0===t.release&&void 0!==n&&(t.release=n),void 0===t.dist&&void 0!==r&&(t.dist=r),t.message&&(t.message=(0,Rt.$G)(t.message,o));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=(0,Rt.$G)(s.value,o));var a=t.request;a&&a.url&&(a.url=(0,Rt.$G)(a.url,o))},t.prototype._applyIntegrationsMetadata=function(t){var e=Object.keys(this._integrations);e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=Ot(t.sdk.integrations||[],e))},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then(function(t){return t.event_id},function(t){Tt.k.error(t)})},t.prototype._processEvent=function(t,e,n){var r=this,i=this.getOptions(),o=i.beforeSend,s=i.sampleRate;if(!this._isEnabled())return Yt.c.reject(new Gt("SDK not enabled, will not send event."));var a="transaction"===t.type;return!a&&"number"==typeof s&&Math.random()>s?Yt.c.reject(new Gt("Discarding event because it's not included in the random sample (sampling rate = "+s+")")):this._prepareEvent(t,n,e).then(function(t){if(null===t)throw new Gt("An event processor returned null, will not send event.");if(e&&e.data&&!0===e.data.__sentry__||a||!o)return t;var n=o(t,e);if(void 0===n)throw new Gt("`beforeSend` method has to return `null` or a valid event.");return(0,Wt.J8)(n)?n.then(function(t){return t},function(t){throw new Gt("beforeSend rejected with "+t)}):n}).then(function(t){if(null===t)throw new Gt("`beforeSend` returned `null`, will not send event.");var e=n&&n.getSession&&n.getSession();return!a&&e&&r._updateSessionFromEvent(e,t),r._sendEvent(t),t}).then(null,function(t){if(t instanceof Gt)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new Gt("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)})},t.prototype._process=function(t){var e=this;this._processing+=1,t.then(function(t){return e._processing-=1,t},function(t){return e._processing-=1,t})},t}();!function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(ee||(ee={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(ee||(ee={}));var re,ie=function(){function t(){}return t.prototype.sendEvent=function(t){return Yt.c.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:ee.Skipped})},t.prototype.close=function(t){return Yt.c.resolve(!0)},t}(),oe=function(){function t(t){this._options=t,this._options.dsn||Tt.k.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new Gt("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new Gt("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(t){Tt.k.error("Error while sending event: "+t)})},t.prototype.sendSession=function(t){this._transport.sendSession?this._transport.sendSession(t).then(null,function(t){Tt.k.error("Error while sending session: "+t)}):Tt.k.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new ie},t}();!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(re||(re={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(re||(re={}));var se=n(3286),ae="?",ue=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ce=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,le=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,he=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,fe=/\((\S*)(?::(\d+))(?::(\d+))\)/,de=/Minified React error #\d+;/i;function pe(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:de.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=t.stacktrace.split("\n"),o=[],s=0;s<i.length;s+=2){var a=null;(e=n.exec(i[s]))?a={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=r.exec(i[s]))&&(a={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),a&&(!a.func&&a.line&&(a.func=ae),o.push(a))}return o.length?{message:me(t),name:t.name,stack:o}:null}(t))return ge(e,n)}catch(vx){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,i=[],o=t.stack.split("\n"),s=0;s<o.length;++s){if(n=ue.exec(o[s])){var a=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=fe.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]);var u=n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],c=n[1]||ae,l=-1!==c.indexOf("safari-extension"),h=-1!==c.indexOf("safari-web-extension");(l||h)&&(c=-1!==c.indexOf("@")?c.split("@")[0]:ae,u=l?"safari-extension:"+u:"safari-web-extension:"+u),r={url:u,func:c,args:a?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=le.exec(o[s]))r={url:n[2],func:n[1]||ae,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=ce.exec(o[s])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=he.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==s||n[5]||void 0===t.columnNumber||(i[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||ae,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=ae),i.push(r)}return i.length?{message:me(t),name:t.name,stack:i}:null}(t))return ge(e,n)}catch(vx){}return{message:me(t),name:t&&t.name,stack:[],failed:!0}}function ge(t,e){try{return jt(jt({},t),{stack:t.stack.slice(e)})}catch(vx){return t}}function me(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function ye(t){var e=be(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function ve(t){return{exception:{values:[ye(t)]}}}function be(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map(function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}}).reverse()}function _e(t,e,n){var r;if(void 0===n&&(n={}),(0,Wt.VW)(t)&&t.error)return ve(pe(t=t.error));if((0,Wt.TX)(t)||(0,Wt.fm)(t)){var i=t,o=i.name||((0,Wt.TX)(i)?"DOMError":"DOMException"),s=i.message?o+": "+i.message:o;return r=we(s,e,n),(0,Pt.Db)(r,s),"code"in i&&(r.tags=jt(jt({},r.tags),{"DOMException.code":""+i.code})),r}return(0,Wt.VZ)(t)?r=ve(pe(t)):(0,Wt.PO)(t)||(0,Wt.cO)(t)?(r=function(t,e,n){var r={exception:{values:[{type:(0,Wt.cO)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+(0,Qt.zf)(t)}]},extra:{__serialized__:(0,Qt.Qy)(t)}};if(e){var i=be(pe(e).stack);r.stacktrace={frames:i}}return r}(t,e,n.rejection),(0,Pt.EG)(r,{synthetic:!0}),r):(r=we(t,e,n),(0,Pt.Db)(r,""+t,void 0),(0,Pt.EG)(r,{synthetic:!0}),r)}function we(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var i=be(pe(e).stack);r.stacktrace={frames:i}}return r}function xe(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function Ce(t,e){return e?(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=Ot(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=Ot(t.sdk.packages||[],e.packages||[]),t):t}function Se(t,e){var n=xe(e),r="aggregates"in t?"sessions":"session";return{body:JSON.stringify(Et({sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:r})+"\n"+JSON.stringify(t),type:r,url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function Te(t,e){var n=xe(e),r=t.type||"event",i="transaction"===r,o=t.debug_meta||{},s=o.transactionSampling,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(o,["transactionSampling"]),u=s||{},c=u.method,l=u.rate;0===Object.keys(a).length?delete t.debug_meta:t.debug_meta=a;var h={body:JSON.stringify(n?Ce(t,e.metadata.sdk):t),type:r,url:i?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(i){var f=JSON.stringify(Et({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n})),d=JSON.stringify({type:t.type,sample_rates:[{id:c,rate:l}]});h.body=f+"\n"+d+"\n"+h.body}return h}var Ee=function(){function t(t,e){void 0===e&&(e={}),this.dsn=t,this._dsnObject=new Jt(t),this.metadata=e}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject;return(t.protocol?t.protocol+":":"")+"//"+t.host+(t.port?":"+t.port:"")+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.publicKey),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+e.toString()),t)if("dsn"!==i)if("user"===i){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return r.length?n+"?"+r.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},t.prototype._encodedAuth=function(){return(0,Qt._j)({sentry_key:this._dsnObject.publicKey,sentry_version:"7"})},t}(),ke=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then(function(){return e.remove(t)}).then(null,function(){return e.remove(t).then(null,function(){})}),t):Yt.c.reject(new Gt("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new Yt.c(function(n){var r=setTimeout(function(){t&&t>0&&n(!1)},t);Yt.c.all(e._buffer).then(function(){clearTimeout(r),n(!0)}).then(null,function(){n(!0)})})},t}(),Oe={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},Ie=function(){function t(t){this.options=t,this._buffer=new ke(30),this._rateLimits={},this._api=new Ee(t.dsn,t._metadata),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new Gt("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,i=t.resolve,o=t.reject,s=ee.fromHttpCode(n.status);this._handleRateLimit(r)&&Tt.k.warn("Too many requests, backing off until: "+this._disabledUntil(e)),s!==ee.Success?o(n):i({status:s})},t.prototype._disabledUntil=function(t){return this._rateLimits[Oe[t]]||this._rateLimits.all},t.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},t.prototype._handleRateLimit=function(t){var e,n,r,i,o=Date.now(),s=t["x-sentry-rate-limits"],a=t["retry-after"];if(s){try{for(var u=Vt(s.trim().split(",")),c=u.next();!c.done;c=u.next()){var l=c.value.split(":",2),h=parseInt(l[0],10),f=1e3*(isNaN(h)?60:h);try{for(var d=(r=void 0,Vt(l[1].split(";"))),p=d.next();!p.done;p=d.next())this._rateLimits[p.value||"all"]=new Date(o+f)}catch(g){r={error:g}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}}catch(m){e={error:m}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return!0}return!!a&&(this._rateLimits.all=new Date(o+(0,Pt.JY)(o,a)),!0)},t}(),Ae=function(t){function e(e,n){void 0===n&&(n=function(){var t,e,n=(0,Pt.Rf)();if((0,se.Du)(n.fetch))return n.fetch.bind(n);var r=n.document,i=n.fetch;if("function"==typeof(null===(t=r)||void 0===t?void 0:t.createElement))try{var o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o),(null===(e=o.contentWindow)||void 0===e?void 0:e.fetch)&&(i=o.contentWindow.fetch),r.head.removeChild(o)}catch(vx){Tt.k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",vx)}return i.bind(n)}());var r=t.call(this,e)||this;return r._fetch=n,r}return Ut(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(Te(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(Se(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:(0,se.hv)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new Yt.c(function(e,i){n._fetch(t.url,r).then(function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:o,resolve:e,reject:i})}).catch(i)}))},e}(Ie),Pe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ut(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(Te(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(Se(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429}):this._buffer.add(new Yt.c(function(e,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:i,headers:o,resolve:e,reject:r})}},i.open("POST",t.url),n.options.headers)n.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(t.body)}))},e}(Ie),Re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ut(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var r=_e(e,n&&n.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return(0,Pt.EG)(r,{handled:!0,type:"generic"}),r.level=re.Error,n&&n.event_id&&(r.event_id=n.event_id),Yt.c.resolve(r)}(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=re.Info),function(t,e,n,r){void 0===n&&(n=re.Info);var i=we(e,r&&r.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),Yt.c.resolve(i)}(this._options,t,e,n)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=jt(jt({},this._options.transportOptions),{dsn:this._options.dsn,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(e):(0,se.Ak)()?new Ae(e):new Pe(e)},e}(oe);function Ne(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function De(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ne(arguments[e]));return t}function Me(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=(0,St.Gd)();if(r&&r[t])return r[t].apply(r,De(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function Le(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return Me("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function Fe(t){Me("withScope",t)}var Ue=0;function je(){return Ue>0}function Ve(){Ue+=1,setTimeout(function(){Ue-=1})}function qe(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(vx){return t}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var i=r.map(function(t){return qe(t,e)});return t.handleEvent?t.handleEvent.apply(this,i):t.apply(this,i)}catch(o){throw Ve(),Fe(function(t){t.addEventProcessor(function(t){var n=jt({},t);return e.mechanism&&((0,Pt.Db)(n,void 0,void 0),(0,Pt.EG)(n,e.mechanism)),n.extra=jt(jt({},n.extra),{arguments:r}),n}),Le(o)}),o}};try{for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}catch(o){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(o){}return r}var Ze=n(6245),Be=function(){function t(e){this.name=t.id,this._options=jt({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&(0,St.Gd)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,Pt.jH)(t)},{event:t})},t.prototype.setupOnce=function(){var t=this;this._options.console&&(0,Lt.o)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,Zt(e))},type:"console"}),this._options.dom&&(0,Lt.o)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,Zt(e))},type:"dom"}),this._options.xhr&&(0,Lt.o)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,Zt(e))},type:"xhr"}),this._options.fetch&&(0,Lt.o)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,Zt(e))},type:"fetch"}),this._options.history&&(0,Lt.o)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,Zt(e))},type:"history"})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:re.fromString(t.level),message:(0,Rt.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+((0,Rt.nK)(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}(0,St.Gd)().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=(0,Ze.R)(t.event.target?t.event.target:t.event)}catch(vx){e="<unknown>"}0!==e.length&&(0,St.Gd)().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name,global:t.global})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,i=e.status_code,o=e.body;(0,St.Gd)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:t.xhr,input:o})}},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?(0,St.Gd)().addBreadcrumb({category:"fetch",data:t.fetchData,level:re.Error,type:"http"},{data:t.error,input:t.args}):(0,St.Gd)().addBreadcrumb({category:"fetch",data:jt(jt({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=(0,Pt.Rf)(),n=t.from,r=t.to,i=(0,Pt.en)(e.location.href),o=(0,Pt.en)(n),s=(0,Pt.en)(r);o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),(0,St.Gd)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},t.id="Breadcrumbs",t}(),ze=function(t){function e(e){return void 0===e&&(e={}),e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Ct}],version:Ct},t.call(this,Re,e)||this}return Ut(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),(0,Pt.Rf)().document&&(this._isEnabled()?function(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var e=document.createElement("script");e.async=!0,e.src=new Ee(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}else Tt.k.error("Missing dsn option in showReportDialog call");else Tt.k.error("Missing eventId option in showReportDialog call")}(jt(jt({},t),{dsn:t.dsn||this.getDsn()})):Tt.k.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(Be);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(ne),He=n(44),Ge=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],$e=function(){function t(e){this.name=t.id,this._options=jt({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=(0,Pt.Rf)();this._options.setTimeout&&(0,Qt.hl)(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&(0,Qt.hl)(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&(0,Qt.hl)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,Qt.hl)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:Ge).forEach(this._wrapEventTarget.bind(this))},t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=qe(r,{mechanism:{data:{function:(0,He.$)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,qe(e,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,He.$)(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=(0,Pt.Rf)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,Qt.hl)(n,"addEventListener",function(e){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=qe(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:(0,He.$)(r),target:t},handled:!0,type:"instrument"}}))}catch(o){}return e.call(this,n,qe(r,{mechanism:{data:{function:"addEventListener",handler:(0,He.$)(r),target:t},handled:!0,type:"instrument"}}),i)}}),(0,Qt.hl)(n,"removeEventListener",function(t){return function(e,n,r){var i,o=n;try{var s=null===(i=o)||void 0===i?void 0:i.__sentry_wrapped__;s&&t.call(this,e,s,r)}catch(vx){}return t.call(this,e,o,r)}}))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach(function(t){t in r&&"function"==typeof r[t]&&(0,Qt.hl)(r,t,function(e){var n={mechanism:{data:{function:t,handler:(0,He.$)(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=(0,He.$)(e.__sentry_original__)),qe(e,n)})}),t.apply(this,e)}},t.id="TryCatch",t}(),Je=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=jt({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(Tt.k.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(Tt.k.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||((0,Lt.o)({callback:function(n){var r=n.error,i=(0,St.Gd)(),o=i.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(o&&!je()&&!s){var a=i.getClient(),u=(0,Wt.pt)(r)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(_e(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);(0,Pt.EG)(u,{handled:!1,type:"onerror"}),i.captureEvent(u,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||((0,Lt.o)({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(c){}var i=(0,St.Gd)(),o=i.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(!o||je()||s)return!0;var a=i.getClient(),u=(0,Wt.pt)(r)?e._eventFromRejectionWithPrimitive(r):_e(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!0});u.level=re.Error,(0,Pt.EG)(u,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(u,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,r){var i,o=(0,Wt.VW)(t)?t.message:t;if((0,Wt.HD)(o)){var s=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);s&&(i=s[1],o=s[2])}return this._enhanceEventWithInitialFrame({exception:{values:[{type:i||"Error",value:o}]}},e,n,r)},t.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,o=isNaN(parseInt(n,10))?void 0:n,s=(0,Wt.HD)(e)&&e.length>0?e:(0,Pt.l4)();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:i,filename:s,function:"?",in_app:!0,lineno:o}),t},t.id="GlobalHandlers",t}(),We=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){(0,At.c)(function(e,n){var r=(0,St.Gd)().getIntegration(t);return r?r._handler(e,n):e})},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&(0,Wt.V9)(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=Zt(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!(0,Wt.V9)(t[e],Error)||n.length+1>=this._limit)return n;var r=ye(pe(t[e]));return this._walkErrorTree(t[e],e,Zt([r],n))},t.id="LinkedErrors",t}(),Ye=(0,Pt.Rf)(),Ke=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){(0,At.c)(function(e){var n,r,i;if((0,St.Gd)().getIntegration(t)){if(!Ye.navigator&&!Ye.location&&!Ye.document)return e;var o=(null===(n=e.request)||void 0===n?void 0:n.url)||(null===(r=Ye.location)||void 0===r?void 0:r.href),s=(Ye.document||{}).referrer,a=(Ye.navigator||{}).userAgent,u=jt(jt(jt({},null===(i=e.request)||void 0===i?void 0:i.headers),s&&{Referer:s}),a&&{"User-Agent":a}),c=jt(jt({},o&&{url:o}),{headers:u});return jt(jt({},e),{request:c})}return e})},t.id="UserAgent",t}(),Qe=[new Dt,new Mt,new $e,new Be,new Je,new We,new Ke],Xe=function(){return(Xe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function tn(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}var en=n(9764),nn=n(878),rn=n(5959),on=n(3895);class sn extends rn.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new on.N;return this._value}next(t){super.next(this._value=t)}}var an=n(6163),un=n(8470),cn=n(6673);class ln extends cn.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class hn extends cn.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var fn=n(6015),dn=n(8318);function pn(t,e,n,r,i=new hn(t,n,r)){if(!i.closed)return e instanceof dn.y?e.subscribe(i):(0,fn.s)(e)(i)}var gn=n(9342);const mn={};class yn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new vn(t,this.resultSelector))}}class vn extends ln{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(mn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(pn(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===mn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const bn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var _n=n(7471);function wn(...t){return(0,_n.J)(1)((0,nn.of)(...t))}var xn=n(653);function Cn(t){return new dn.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,en.D)(n):(0,xn.c)()).subscribe(e)})}var Sn=n(2875),Tn=n(9996),En=n(6882);function kn(t,e){return"function"==typeof e?n=>n.pipe(kn((n,r)=>(0,en.D)(t(n,r)).pipe((0,Tn.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new On(t))}class On{constructor(t){this.project=t}call(t,e){return e.subscribe(new In(t,this.project))}}class In extends En.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new En.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,En.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const An=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Pn(t){return e=>0===t?(0,xn.c)():e.lift(new Rn(t))}class Rn{constructor(t){if(this.total=t,this.total<0)throw new An}call(t,e){return e.subscribe(new Nn(t,this.total))}}class Nn extends cn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Dn(...t){const e=t[t.length-1];return(0,an.K)(e)?(t.pop(),n=>wn(t,n,e)):e=>wn(t,e)}function Mn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ln(t,e,n))}}class Ln{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Fn(t,this.accumulator,this.seed,this.hasSeed))}}class Fn extends cn.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Un(t,e){return function(n){return n.lift(new jn(t,e))}}class jn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Vn(t,this.predicate,this.thisArg))}}class Vn extends cn.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function qn(t){return function(e){const n=new Zn(t),r=e.lift(n);return n.caught=r}}class Zn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Bn(t,this.selector,this.caught))}}class Bn extends En.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new En.IY(this);this.add(r);const i=(0,En.ft)(n,r);i!==r&&this.add(i)}}}var zn=n(3982);function Hn(t,e){return(0,zn.zg)(t,e,1)}function Gn(t){return function(e){return 0===t?(0,xn.c)():e.lift(new $n(t))}}class $n{constructor(t){if(this.total=t,this.total<0)throw new An}call(t,e){return e.subscribe(new Jn(t,this.total))}}class Jn extends cn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Wn(t=Qn){return e=>e.lift(new Yn(t))}class Yn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Kn(t,this.errorFactory))}}class Kn extends cn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(vx){t=vx}this.destination.error(t)}}}function Qn(){return new bn}function Xn(t=null){return e=>e.lift(new tr(t))}class tr{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new er(t,this.defaultValue))}}class er extends cn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var nr=n(3392);function rr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Un((e,n)=>t(e,n,r)):nr.y,Pn(1),n?Xn(e):Wn(()=>new bn))}var ir=n(4019),or=n(1564),sr=n(7570);class ar{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ur(t,this.callback))}}class ur extends cn.L{constructor(t,e){super(t),this.add(new sr.w(e))}}class cr{constructor(t,e){this.id=t,this.url=e}}class lr extends cr{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hr extends cr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fr extends cr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dr extends cr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pr extends cr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr extends cr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr extends cr{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yr extends cr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr extends cr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class br{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _r{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Er="primary";class kr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Or(t){return new kr(t)}function Ir(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ar(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Pr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Rr(t[i],e[i]))return!1;return!0}function Rr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Nr(t){return Array.prototype.concat.apply([],t)}function Dr(t){return t.length>0?t[t.length-1]:null}function Mr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Lr(t){return(0,i.CqO)(t)?t:(0,i.QGY)(t)?(0,en.D)(Promise.resolve(t)):(0,nn.of)(t)}const Fr={exact:function t(e,n,r){if(!Gr(e.segments,n.segments))return!1;if(!Zr(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:Vr},Ur={exact:function(t,e){return Pr(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Rr(t[n],e[n]))},ignored:()=>!0};function jr(t,e,n){return Fr[n.paths](t.root,e.root,n.matrixParams)&&Ur[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Vr(t,e,n){return qr(t,e,e.segments,n)}function qr(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!Gr(i,n)&&!e.hasChildren()&&!!Zr(i,n,r)}if(t.segments.length===n.length){if(!Gr(t.segments,n))return!1;if(!Zr(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Vr(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Gr(t.segments,i)&&!!Zr(t.segments,i,r)&&!!t.children.primary&&qr(t.children.primary,e,o,r)}}function Zr(t,e,n){return e.every((e,r)=>Ur[n](t[r].parameters,e.parameters))}class Br{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Or(this.queryParams)),this._queryParamMap}toString(){return Wr.serialize(this)}}class zr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Mr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yr(this)}}class Hr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Or(this.parameters)),this._parameterMap}toString(){return ri(this)}}function Gr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class $r{}class Jr{parse(t){const e=new ui(t);return new Br(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Kr(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Xr(e)}=${Xr(t)}`).join("&"):`${Xr(e)}=${Xr(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Wr=new Jr;function Yr(t){return t.segments.map(t=>ri(t)).join("/")}function Kr(t,e){if(!t.hasChildren())return Yr(t);if(e){const e=t.children.primary?Kr(t.children.primary,!1):"",n=[];return Mr(t.children,(t,e)=>{e!==Er&&n.push(`${e}:${Kr(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Mr(t.children,(t,r)=>{r===Er&&(n=n.concat(e(t,r)))}),Mr(t.children,(t,r)=>{r!==Er&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Er?[Kr(t.children.primary,!1)]:[`${n}:${Kr(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Yr(t)}/${e[0]}`:`${Yr(t)}/(${e.join("//")})`}}function Qr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xr(t){return Qr(t).replace(/%3B/gi,";")}function ti(t){return Qr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ei(t){return decodeURIComponent(t)}function ni(t){return ei(t.replace(/\+/g,"%20"))}function ri(t){return`${ti(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ti(t)}=${ti(e[t])}`).join("")}`;var e}const ii=/^[^\/()?;=#]+/;function oi(t){const e=t.match(ii);return e?e[0]:""}const si=/^[^=?&#]+/,ai=/^[^?&#]+/;class ui{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zr([],{}):new zr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new zr(t,e)),n}parseSegment(){const t=oi(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Hr(ei(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=oi(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=oi(this.remaining);t&&(n=t,this.capture(n))}t[ei(e)]=ei(n)}parseQueryParam(t){const e=function(t){const e=t.match(si);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ai);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ni(e),i=ni(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=oi(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Er);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new zr([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ci{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=li(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=li(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=hi(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return hi(t,this._root).map(t=>t.value)}}function li(t,e){if(t===e.value)return e;for(const n of e.children){const e=li(t,n);if(e)return e}return null}function hi(t,e){if(t===e.value)return[e];for(const n of e.children){const r=hi(t,n);if(r.length)return r.unshift(e),r}return[]}class fi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function di(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class pi extends ci{constructor(t,e){super(t),this.snapshot=e,_i(this,t)}toString(){return this.snapshot.toString()}}function gi(t,e){const n=function(t,e){const n=new vi([],{},{},"",{},Er,e,null,t.root,-1,{});return new bi("",new fi(n,[]))}(t,e),r=new sn([new Hr("",{})]),i=new sn({}),o=new sn({}),s=new sn({}),a=new sn(""),u=new mi(r,i,s,a,o,Er,e,n.root);return u.snapshot=n.root,new pi(new fi(u,[]),n)}class mi{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tn.U)(t=>Or(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tn.U)(t=>Or(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yi(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class vi{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Or(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Or(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bi extends ci{constructor(t,e){super(e),this.url=t,_i(this,e)}toString(){return wi(this._root)}}function _i(t,e){e.value._routerState=t,e.children.forEach(e=>_i(t,e))}function wi(t){const e=t.children.length>0?` { ${t.children.map(wi).join(", ")} } `:"";return`${t.value}${e}`}function xi(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Pr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Pr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ci(t,e){return Pr(t.params,e.params)&&function(t,e){return Gr(t,e)&&t.every((t,n)=>Pr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Ci(t.parent,e.parent))}function Si(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Si(t,e,r);return Si(t,e)})}(t,e,n);return new fi(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Ti(e,t),t}}const n=new mi(new sn((r=e.value).url),new sn(r.params),new sn(r.queryParams),new sn(r.fragment),new sn(r.data),r.outlet,r.component,r),i=e.children.map(e=>Si(t,e));return new fi(n,i)}var r}function Ti(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Ti(t.children[n],e.children[n])}function Ei(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ki(t){return"object"==typeof t&&null!=t&&t.outlets}function Oi(t,e,n,r,i){let o={};return r&&Mr(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Br(n.root===t?e:Ii(n.root,t,e),o,i)}function Ii(t,e,n){const r={};return Mr(t.children,(t,i)=>{r[i]=t===e?n:Ii(t,e,n)}),new zr(t.segments,r)}class Ai{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ei(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ki);if(r&&r!==Dr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Ri(t,e,n){if(t||(t=new zr([],{})),0===t.segments.length&&t.hasChildren())return Ni(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(ki(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Fi(a,u,e))return o;r+=2}else{if(!Fi(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new zr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new zr(t.segments.slice(r.pathIndex),t.children),Ni(e,0,i)}return r.match&&0===i.length?new zr(t.segments,{}):r.match&&!t.hasChildren()?Di(t,e,n):r.match?Ni(t,0,i):Di(t,e,n)}function Ni(t,e,n){if(0===n.length)return new zr(t.segments,{});{const r=function(t){return ki(t[0])?t[0].outlets:{[Er]:t}}(n),i={};return Mr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Ri(t.children[r],e,n))}),Mr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new zr(t.segments,i)}}function Di(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(ki(o)){const t=Mi(o.outlets);return new zr(r,t)}if(0===i&&Ei(n[0])){r.push(new Hr(t.segments[e].path,Li(n[0]))),i++;continue}const s=ki(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ei(a)?(r.push(new Hr(s,Li(a))),i+=2):(r.push(new Hr(s,{})),i++)}return new zr(r,{})}function Mi(t){const e={};return Mr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Di(new zr([],{}),0,t))}),e}function Li(t){const e={};return Mr(t,(t,n)=>e[n]=`${t}`),e}function Fi(t,e,n){return t==n.path&&Pr(e,n.parameters)}class Ui{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),xi(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=di(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Mr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=di(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=di(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Sr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new xr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(xi(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ji(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ji(t){xi(t.value),t.children.forEach(ji)}class Vi{constructor(t,e){this.routes=t,this.module=e}}function qi(t){return"function"==typeof t}function Zi(t){return t instanceof Br}const Bi=Symbol("INITIAL_VALUE");function zi(){return kn(t=>function(...t){let e,n;return(0,an.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,un.k)(t[0])&&(t=t[0]),(0,gn.n)(t,n).lift(new yn(e))}(t.map(t=>t.pipe(Pn(1),Dn(Bi)))).pipe(Mn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Bi)return t;if(r===Bi&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Zi(r))return r}return t},t)},Bi),Un(t=>t!==Bi),(0,Tn.U)(t=>Zi(t)?t:!0===t),Pn(1)))}let Hi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i._UZ(0,"router-outlet")},directives:function(){return[Bo]},encapsulation:2}),t})();function Gi(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];$i(r,Ji(e,r))}}function $i(t,e){t.children&&Gi(t.children,e)}function Ji(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Wi(t){const e=t.children&&t.children.map(Wi),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Er&&(n.component=Hi),n}function Yi(t){return t.outlet||Er}function Ki(t,e){const n=t.filter(t=>Yi(t)===e);return n.push(...t.filter(t=>Yi(t)!==e)),n}const Qi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Xi(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Qi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ar)(n,t,e);if(!i)return Object.assign({},Qi);const o={};Mr(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function to(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>eo(t,e,n)&&Yi(n)!==Er)}(t,n,r)){const i=new zr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Yi(o)!==Er){const n=new zr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Yi(o)]=n}return i}(t,e,r,new zr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>eo(t,e,n))}(t,n,r)){const o=new zr(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(eo(t,n,a)&&!i[Yi(a)]){const n=new zr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Yi(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new zr(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function eo(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function no(t,e,n,r){return!!(Yi(t)===r||r!==Er&&eo(e,n,t))&&("**"===t.path||Xi(e,t,n).matched)}function ro(t,e,n){return 0===e.length&&!t.children[n]}class io{constructor(t){this.segmentGroup=t||null}}class oo{constructor(t){this.urlTree=t}}function so(t){return new dn.y(e=>e.error(new io(t)))}function ao(t){return new dn.y(e=>e.error(new oo(t)))}function uo(t){return new dn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class co{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.h0i)}apply(){const t=to(this.urlTree.root,[],[],this.config).segmentGroup,e=new zr(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Er).pipe((0,Tn.U)(t=>this.createUrlTree(lo(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qn(t=>{if(t instanceof oo)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof io)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Er).pipe((0,Tn.U)(e=>this.createUrlTree(lo(e),t.queryParams,t.fragment))).pipe(qn(t=>{if(t instanceof io)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new zr([],{[Er]:t}):t;return new Br(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Tn.U)(t=>new zr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,en.D)(r).pipe(Hn(r=>{const i=n.children[r],o=Ki(e,r);return this.expandSegmentGroup(t,o,i,r).pipe((0,Tn.U)(t=>({segment:t,outlet:r})))}),Mn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Un((e,n)=>t(e,n,r)):nr.y,Gn(1),n?Xn(e):Wn(()=>new bn))}())}expandSegment(t,e,n,r,i,o){return(0,en.D)(n).pipe(Hn(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(qn(t=>{if(t instanceof io)return(0,nn.of)(null);throw t}))),rr(t=>!!t),qn((t,n)=>{if(t instanceof bn||"EmptyError"===t.name){if(ro(e,r,i))return(0,nn.of)(new zr([],{}));throw new io(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return no(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):so(e):so(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ao(i):this.lineralizeSegments(n,i).pipe((0,zn.zg)(n=>{const i=new zr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Xi(e,r,i);if(!s)return so(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?ao(l):this.lineralizeSegments(r,l).pipe((0,zn.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,nn.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Tn.U)(t=>(n._loadedConfig=t,new zr(r,{})))):(0,nn.of)(new zr(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Xi(e,n,r);if(!o)return so(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,zn.zg)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=to(e,s,u,o),l=new zr(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe((0,Tn.U)(t=>new zr(s,t)));if(0===o.length&&0===c.length)return(0,nn.of)(new zr(s,{}));const h=Yi(n)===i;return this.expandSegment(r,l,o,c,h?Er:i,!0).pipe((0,Tn.U)(t=>new zr(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,nn.of)(new Vi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,nn.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,zn.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,Tn.U)(t=>(e._loadedConfig=t,t))):function(t){return new dn.y(e=>e.error(Ir(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,nn.of)(new Vi([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,nn.of)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&qi(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!qi(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Lr(o)});return(0,nn.of)(i).pipe(zi(),(0,ir.b)(t=>{if(!Zi(t))return;const e=Ir(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,Tn.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,nn.of)(n);if(r.numberOfChildren>1||!r.children.primary)return uo(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Br(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Mr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Mr(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new zr(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function lo(t){const e={};for(const n of Object.keys(t.children)){const r=lo(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new zr(t.segments.concat(e.segments),e.children)}return t}(new zr(t.segments,e))}class ho{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class fo{constructor(t,e){this.component=t,this.route=e}}function po(t,e,n){const r=t._root;return mo(r,e?e._root:null,n,[r.value])}function go(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function mo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=di(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Gr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gr(t.url,e.url)||!Pr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ci(t,e)||!Pr(t.queryParams,e.queryParams);case"paramsChange":default:return!Ci(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ho(r)):(o.data=s.data,o._resolvedData=s._resolvedData),mo(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fo(a.outlet.component,s))}else s&&yo(e,a,i),i.canActivateChecks.push(new ho(r)),mo(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Mr(o,(t,e)=>yo(t,n.getContext(e),i)),i}function yo(t,e,n){const r=di(t),i=t.value;Mr(r,(t,r)=>{yo(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new fo(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class vo{}function bo(t){return new dn.y(e=>e.error(t))}class _o{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=to(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Er);if(null===e)return null;const n=new vi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Er,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new fi(n,e),i=new bi(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=yi(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Ki(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=xo(n);return r.sort((t,e)=>t.value.outlet===Er?-1:e.value.outlet===Er?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return ro(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!no(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Dr(n).parameters:{};i=new vi(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,To(t),Yi(t),t.component,t,Co(e),So(e)+n.length,Eo(t))}else{const r=Xi(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new vi(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,To(t),Yi(t),t.component,t,Co(e),So(e)+o.length,Eo(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=to(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new fi(i,t)]}if(0===a.length&&0===c.length)return[new fi(i,[])];const l=Yi(t)===r,h=this.processSegment(a,u,c,l?Er:r);return null===h?null:[new fi(i,h)]}}function wo(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function xo(t){const e=[],n=new Set;for(const r of t){if(!wo(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=xo(r.children);e.push(new fi(r.value,t))}return e.filter(t=>!n.has(t))}function Co(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function So(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function To(t){return t.data||{}}function Eo(t){return t.resolve||{}}function ko(t){return kn(e=>{const n=t(e);return n?(0,en.D)(n).pipe((0,Tn.U)(()=>e)):(0,nn.of)(e)})}class Oo extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Io=new i.OlP("ROUTES");class Ao{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,Tn.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Vi(Nr(r.injector.get(Io,void 0,i.XFs.Self|i.XFs.Optional)).map(Wi),r)}),qn(t=>{throw e._loader$=void 0,t}));return e._loader$=new Sn.c(n,()=>new rn.xQ).pipe((0,or.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,en.D)(this.loader.load(t)):Lr(t()).pipe((0,zn.zg)(t=>t instanceof i.YKP?(0,nn.of)(t):(0,en.D)(this.compiler.compileModuleAsync(t))))}}class Po{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ro,this.attachRef=null}}class Ro{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Po,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class No{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Do(t){throw t}function Mo(t,e,n){return e.parse("/")}function Lo(t,e){return(0,nn.of)(null)}const Fo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Uo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jo=(()=>{class t{constructor(t,e,n,r,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new rn.xQ,this.errorHandler=Do,this.malformedUriErrorHandler=Mo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Lo,afterPreactivation:Lo},this.urlHandlingStrategy=new No,this.routeReuseStrategy=new Oo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(i.h0i),this.console=o.get(i.c2e);const c=o.get(i.R0b);this.isNgZoneEnabled=c instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Br(new zr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ao(s,a,t=>this.triggerEvent(new br(t)),t=>this.triggerEvent(new _r(t))),this.routerState=gi(this.currentUrlTree,this.rootComponentType),this.transitions=new sn({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Un(t=>0!==t.id),(0,Tn.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),kn(t=>{let n=!1,r=!1;return(0,nn.of)(t).pipe((0,ir.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),kn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,nn.of)(t).pipe(kn(t=>{const n=this.transitions.getValue();return e.next(new lr(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?xn.E:Promise.resolve(t)}),function(t,e,n,r){return kn(i=>function(t,e,n,r,i){return new co(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe((0,Tn.U)(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ir.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,zn.zg)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new _o(t,e,n,r,i,o).recognize();return null===s?bo(new vo):(0,nn.of)(s)}catch(vx){return bo(vx)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,Tn.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ir.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new pr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new lr(n,this.serializeUrl(r),i,o);e.next(a);const u=gi(r,this.rootComponentType).snapshot;return(0,nn.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),xn.E}),ko(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,ir.b)(t=>{const e=new gr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,Tn.U)(t=>Object.assign(Object.assign({},t),{guards:po(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,zn.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,nn.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,en.D)(t).pipe((0,zn.zg)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,nn.of)(!0);const s=o.map(o=>{const s=go(o,e,i);let a;if(function(t){return t&&qi(t.canDeactivate)}(s))a=Lr(s.canDeactivate(t,e,n,r));else{if(!qi(s))throw new Error("Invalid CanDeactivate guard");a=Lr(s(t,e,n,r))}return a.pipe(rr())});return(0,nn.of)(s).pipe(zi())}(t.component,t.route,n,e,r)),rr(t=>!0!==t,!0))}(s,r,i,t).pipe((0,zn.zg)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return(0,en.D)(e).pipe(Hn(e=>wn(function(t,e){return null!==t&&e&&e(new wr(t)),(0,nn.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Cr(t)),(0,nn.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Cn(()=>{const i=e.guards.map(i=>{const o=go(i,e.node,n);let s;if(function(t){return t&&qi(t.canActivateChild)}(o))s=Lr(o.canActivateChild(r,t));else{if(!qi(o))throw new Error("Invalid CanActivateChild guard");s=Lr(o(r,t))}return s.pipe(rr())});return(0,nn.of)(i).pipe(zi())}));return(0,nn.of)(i).pipe(zi())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,nn.of)(!0);const i=r.map(r=>Cn(()=>{const i=go(r,e,n);let o;if(function(t){return t&&qi(t.canActivate)}(i))o=Lr(i.canActivate(e,t));else{if(!qi(i))throw new Error("Invalid CanActivate guard");o=Lr(i(e,t))}return o.pipe(rr())}));return(0,nn.of)(i).pipe(zi())}(t,e.route,n))),rr(t=>!0!==t,!0))}(r,o,t,e):(0,nn.of)(n)),(0,Tn.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,ir.b)(t=>{if(Zi(t.guardsResult)){const e=Ir(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new mr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Un(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new fr(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ko(t=>{if(t.guards.canActivateChecks.length)return(0,nn.of)(t).pipe((0,ir.b)(t=>{const e=new yr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),kn(t=>{let n=!1;return(0,nn.of)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,(0,zn.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return(0,nn.of)(t);let o=0;return(0,en.D)(n).pipe(Hn(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,nn.of)({});const o={};return(0,en.D)(i).pipe((0,zn.zg)(i=>function(t,e,n,r){const i=go(t,e,r);return Lr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,ir.b)(t=>{o[i]=t}))),Gn(1),(0,zn.zg)(()=>Object.keys(o).length===i.length?(0,nn.of)(o):xn.E))}(t._resolve,t,e,r).pipe((0,Tn.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),yi(t,n).resolve),null)))}(t.route,e,r,i)),(0,ir.b)(()=>o++),Gn(1),(0,zn.zg)(e=>o===n.length?(0,nn.of)(t):xn.E))})),(0,ir.b)({next:()=>n=!0,complete:()=>{if(!n){const n=new fr(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),(0,ir.b)(t=>{const e=new vr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ko(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,Tn.U)(t=>{const e=function(t,e,n){const r=Si(t,e._root,n?n._root:void 0);return new pi(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,ir.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),(0,Tn.U)(t=>(new Ui(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),(0,ir.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new fr(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ar(i))),qn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Zi(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new fr(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new dr(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Bd){t.reject(Bd)}}var i;return xn.E}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Gi(t),this.config=t.map(Wi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Oi(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ai(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Mr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Ai(n,e,r)}(n);if(o.toRoot())return Oi(e.root,new zr([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Pi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Pi(t,t===e.root,0)}const r=Ei(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Pi(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Ni(s.segmentGroup,s.index,o.commands):Ri(s.segmentGroup,s.index,o.commands);return Oi(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Zi(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(vx){e=this.malformedUriErrorHandler(vx,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},Fo):!1===e?Object.assign({},Uo):e,Zi(t))return jr(this.currentUrlTree,t,n);const r=this.parseUrl(t);return jr(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new hr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.DyG),i.LFG($r),i.LFG(Ro),i.LFG(x),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Vo=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new rn.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Zo(this.skipLocationChange),replaceUrl:Zo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zo(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(jo),i.Y36(mi),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),t})(),qo=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new rn.xQ,this.subscription=t.events.subscribe(t=>{t instanceof hr&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Zo(this.skipLocationChange),replaceUrl:Zo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zo(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(jo),i.Y36(mi),i.Y36(y))},t.\u0275dir=i.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(i.Ikx("href",e.href,i.LSH),i.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),t})();function Zo(t){return""===t||!!t}let Bo=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=r||Er,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new zo(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ro),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},t.\u0275dir=i.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class zo{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===mi?this.route:t===Ro?this.childContexts:this.parent.get(t,e)}}class Ho{}class Go{preload(t,e){return(0,nn.of)(null)}}let $o=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ao(e,n,e=>t.triggerEvent(new br(e)),e=>t.triggerEvent(new _r(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Un(t=>t instanceof hr),Hn(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,en.D)(n).pipe((0,_n.J)(),(0,Tn.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,nn.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,zn.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(jo),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(Ho))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Jo=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof lr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Tr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Tr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(jo),i.LFG(V),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const Wo=new i.OlP("ROUTER_CONFIGURATION"),Yo=new i.OlP("ROUTER_FORROOT_GUARD"),Ko=[x,{provide:$r,useClass:Jr},{provide:jo,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new jo(null,t,e,n,r,i,o,Nr(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[$r,Ro,x,i.zs3,i.v3s,i.Sil,Io,Wo,[class{},new i.FiY],[class{},new i.FiY]]},Ro,{provide:mi,useFactory:function(t){return t.routerState.root},deps:[jo]},{provide:i.v3s,useClass:i.EAV},$o,Go,class{preload(t,e){return e().pipe(qn(()=>(0,nn.of)(null)))}},{provide:Wo,useValue:{enableTracing:!1}}];function Qo(){return new i.PXZ("Router",jo)}let Xo=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ko,rs(e),{provide:Yo,useFactory:ns,deps:[[jo,new i.FiY,new i.tp0]]},{provide:Wo,useValue:n||{}},{provide:y,useFactory:es,deps:[u,[new i.tBr(b),new i.FiY],Wo]},{provide:Jo,useFactory:ts,deps:[jo,V,Wo]},{provide:Ho,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Go},{provide:i.PXZ,multi:!0,useFactory:Qo},[is,{provide:i.ip1,multi:!0,useFactory:os,deps:[is]},{provide:as,useFactory:ss,deps:[is]},{provide:i.tb,multi:!0,useExisting:as}]]}}static forChild(e){return{ngModule:t,providers:[rs(e)]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Yo,8),i.LFG(jo,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function ts(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Jo(t,e,n)}function es(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function ns(t){return"guarded"}function rs(t){return[{provide:i.deG,multi:!0,useValue:t},{provide:Io,multi:!0,useValue:t}]}let is=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new rn.xQ}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(jo),r=this.injector.get(Wo);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,nn.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Wo),n=this.injector.get($o),r=this.injector.get(Jo),o=this.injector.get(jo),s=this.injector.get(i.z2F);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function os(t){return t.appInitializer.bind(t)}function ss(t){return t.bootstrapListener.bind(t)}const as=new i.OlP("Router Initializer");var us,cs,ls;function hs(){var t=(0,St.Gd)();if(t){var e=t.getScope();if(e)return e.getTransaction()}}var fs=function(){function t(t){var e=this;this._router=t,this.navStart$=this._router.events.pipe(Un(function(t){return t instanceof lr}),(0,ir.b)(function(t){if(us){var n=t,r=(0,Pt.rt)(n.url),i=hs();!i&&ls&&(i=cs({name:r,op:"navigation"})),i&&(e._routingSpan=i.startChild({description:""+n.url,op:"angular.routing",tags:Xe({"routing.instrumentation":"@sentry/angular",url:r},n.navigationTrigger&&{navigationTrigger:n.navigationTrigger})}))}else Tt.k.error("Angular integration has tracing enabled, but Tracing integration is not configured")})),this.navEnd$=this._router.events.pipe(Un(function(t){return t instanceof hr}),(0,ir.b)(function(){e._routingSpan&&(e._routingSpan.finish(),delete e._routingSpan)})),this._subscription=new sr.w,this._subscription.add(this.navStart$.subscribe()),this._subscription.add(this.navEnd$.subscribe())}return t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},tn([(0,i.GSi)({providedIn:"root"})],t)}();!function(){function t(){this.componentName="unknown"}t.prototype.ngOnInit=function(){var t=hs();t&&(this._tracingSpan=t.startChild({description:"<"+this.componentName+">",op:"angular.initialize"}))},t.prototype.ngAfterViewInit=function(){this._tracingSpan&&this._tracingSpan.finish()},tn([(0,i.IIB)("trace")],t.prototype,"componentName",void 0),t=tn([(0,i.Xek)({selector:"[trace]"})],t)}();var ds,ps,gs=n(9516),ms=n(9290),ys=n(8570),vs=n(4075),bs=n(8133),_s=(0,Pt.Rf)(),ws=n(877),xs=function(t,e,n,r){var i;return function(){n&&e.isFinal&&n.disconnect(),e.value>=0&&(r||e.isFinal||"hidden"===document.visibilityState)&&(e.delta=e.value-(i||0),(e.delta||e.isFinal||void 0===i)&&(t(e),i=e.value))}},Cs=function(t,e){return void 0===e&&(e=-1),{name:t,value:e,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},Ss=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver(function(t){return t.getEntries().map(e)});return n.observe({type:t,buffered:!0}),n}}catch(vx){}},Ts=!1,Es=!1,ks=function(t){Ts=!t.persisted},Os=function(t,e){void 0===e&&(e=!1),Es||(addEventListener("pagehide",ks),addEventListener("beforeunload",function(){}),Es=!0),addEventListener("visibilitychange",function(e){"hidden"===document.visibilityState&&t({timeStamp:e.timeStamp,isUnloading:Ts})},{capture:!0,once:e})},Is=function(){return void 0===ds&&(ds="hidden"===document.visibilityState?0:1/0,Os(function(t){return ds=t.timeStamp},!0)),{get timeStamp(){return ds}}},As=(0,Pt.Rf)(),Ps=function(){function t(){var t;this._measurements={},this._performanceCursor=0,!(0,ws.KV)()&&(null===(t=As)||void 0===t?void 0:t.performance)&&(As.performance.mark&&As.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(As&&As.performance&&As.performance.getEntries&&Kt.Z1){Tt.k.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i,o,s,a=(0,bs.XL)(Kt.Z1);if(As.document)for(var u=0;u<document.scripts.length;u++)if("true"===document.scripts[u].dataset.entry){n=document.scripts[u].src;break}if(As.performance.getEntries().slice(this._performanceCursor).forEach(function(u){var c=(0,bs.XL)(u.startTime),l=(0,bs.XL)(u.duration);if(!("navigation"===t.op&&a+c<t.startTimestamp))switch(u.entryType){case"navigation":!function(t,e,n){Rs({transaction:t,entry:e,event:"unloadEvent",timeOrigin:n}),Rs({transaction:t,entry:e,event:"redirect",timeOrigin:n}),Rs({transaction:t,entry:e,event:"domContentLoadedEvent",timeOrigin:n}),Rs({transaction:t,entry:e,event:"loadEvent",timeOrigin:n}),Rs({transaction:t,entry:e,event:"connect",timeOrigin:n}),Rs({transaction:t,entry:e,event:"secureConnection",timeOrigin:n,eventEnd:"connectEnd",description:"TLS/SSL"}),Rs({transaction:t,entry:e,event:"fetch",timeOrigin:n,eventEnd:"domainLookupStart",description:"cache"}),Rs({transaction:t,entry:e,event:"domainLookup",timeOrigin:n,description:"DNS"}),function(t,e,n){Ns(t,{op:"browser",description:"request",startTimestamp:n+(0,bs.XL)(e.requestStart),endTimestamp:n+(0,bs.XL)(e.responseEnd)}),Ns(t,{op:"browser",description:"response",startTimestamp:n+(0,bs.XL)(e.responseStart),endTimestamp:n+(0,bs.XL)(e.responseEnd)})}(t,e,n)}(t,u,a),o=a+(0,bs.XL)(u.responseStart),s=a+(0,bs.XL)(u.requestStart);break;case"mark":case"paint":case"measure":var h=function(t,e,n,r,i){var o=i+n;return Ns(t,{description:e.name,endTimestamp:o+r,op:e.entryType,startTimestamp:o}),o}(t,u,c,l,a);void 0===i&&"sentry-tracing-init"===u.name&&(i=h);var f=Is(),d=u.startTime<f.timeStamp;"first-paint"===u.name&&d&&(Tt.k.log("[Measurements] Adding FP"),e._measurements.fp={value:u.startTime},e._measurements["mark.fp"]={value:h}),"first-contentful-paint"===u.name&&d&&(Tt.k.log("[Measurements] Adding FCP"),e._measurements.fcp={value:u.startTime},e._measurements["mark.fcp"]={value:h});break;case"resource":var p=u.name.replace(window.location.origin,""),g=function(t,e,n,r,i,o){if("xmlhttprequest"!==e.initiatorType&&"fetch"!==e.initiatorType){var s={};"transferSize"in e&&(s["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(s["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(s["Decoded Body Size"]=e.decodedBodySize);var a=o+r,u=a+i;return Ns(t,{description:n,endTimestamp:u,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:a,data:s}),u}}(t,u,p,c,l,a);void 0===r&&(n||"").indexOf(p)>-1&&(r=g)}}),void 0!==r&&void 0!==i&&Ns(t,{description:"evaluation",endTimestamp:i,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var c=(0,bs.XL)(Kt.Z1);"number"==typeof o&&(Tt.k.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:1e3*(o-t.startTimestamp)},"number"==typeof s&&s<=o&&(this._measurements["ttfb.requestTime"]={value:1e3*(o-s)})),["fcp","fp","lcp"].forEach(function(n){if(e._measurements[n]&&!(c>=t.startTimestamp)){var r=e._measurements[n].value,i=c+(0,bs.XL)(r),o=Math.abs(1e3*(i-t.startTimestamp));Tt.k.log("[Measurements] Normalized "+n+" from "+r+" to "+o+" ("+(o-r)+")"),e._measurements[n].value=o}}),this._measurements["mark.fid"]&&this._measurements.fid&&Ns(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+(0,bs.XL)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),t.setMeasurements(this._measurements),this._lcpEntry&&(Tt.k.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&t.setTag("lcp.element",(0,Ze.R)(this._lcpEntry.element)),this._lcpEntry.id&&t.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&t.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),t.setTag("lcp.size",this._lcpEntry.size))}}},t.prototype._trackCLS=function(){var t=this;!function(e,n){void 0===n&&(n=!1);var r,i=Cs("CLS",0),o=function(t){t.hadRecentInput||(i.value+=t.value,i.entries.push(t),r())},s=Ss("layout-shift",o);s&&(r=xs(function(e){e.entries.pop()&&(Tt.k.log("[Measurements] Adding CLS"),t._measurements.cls={value:e.value})},i,s,n),Os(function(t){var e=t.isUnloading;s.takeRecords().map(o),e&&(i.isFinal=!0),r()}))}()},t.prototype._trackNavigator=function(t){var e=As.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),Ds(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Ds(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Ds(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),Ds(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackLCP=function(){var t=this;!function(e,n){void 0===n&&(n=!1);var r,i=Cs("LCP"),o=Is(),s=function(t){var e=t.startTime;e<o.timeStamp?(i.value=e,i.entries.push(t)):i.isFinal=!0,r()},a=Ss("largest-contentful-paint",s);if(a){r=xs(function(e){var n=e.entries.pop();if(n){var r=(0,bs.XL)(Kt.Z1),i=(0,bs.XL)(n.startTime);Tt.k.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:r+i},t._lcpEntry=n}},i,a,n);var u=function(){i.isFinal||(a.takeRecords().map(s),i.isFinal=!0,r())};(ps||(ps=new Promise(function(t){return["scroll","keydown","pointerdown"].map(function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})})})),ps).then(u),Os(u,!0)}}()},t.prototype._trackFID=function(){var t=this;!function(e){var n=Cs("FID"),r=Is(),i=function(t){t.startTime<r.timeStamp&&(n.value=t.processingStart-t.startTime,n.entries.push(t),n.isFinal=!0,s())},o=Ss("first-input",i),s=xs(function(e){var n=e.entries.pop();if(n){var r=(0,bs.XL)(Kt.Z1),i=(0,bs.XL)(n.startTime);Tt.k.log("[Measurements] Adding FID"),t._measurements.fid={value:e.value},t._measurements["mark.fid"]={value:r+i}}},n,o);o?Os(function(){o.takeRecords().map(i),o.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(t,e){e.timeStamp<r.timeStamp&&(n.value=t,n.isFinal=!0,n.entries=[{entryType:"first-input",name:e.type,target:e.target,cancelable:e.cancelable,startTime:e.timeStamp,processingStart:e.timeStamp+t}],s())})}()},t}();function Rs(t){var e=t.entry,n=t.event,r=t.timeOrigin,i=t.eventEnd,o=t.description,s=i?e[i]:e[n+"End"],a=e[n+"Start"];a&&s&&Ns(t.transaction,{op:"browser",description:null!=o?o:n,startTimestamp:r+(0,bs.XL)(a),endTimestamp:r+(0,bs.XL)(s)})}function Ns(t,e){var n=e.startTimestamp,r=(0,gs._T)(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild((0,gs.pi)({startTimestamp:n},r))}function Ds(t){return"number"==typeof t&&isFinite(t)}var Ms={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]},Ls=(0,Pt.Rf)(),Fs=(0,gs.pi)({idleTimeout:ys.nT,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),Ls&&Ls.location){var r,i=Ls.location.href;e&&(r=t({name:Ls.location.pathname,op:"pageload"})),n&&(0,Lt.o)({callback:function(e){var n=e.to,o=e.from;void 0===o&&i&&-1!==i.indexOf(n)?i=void 0:o!==n&&(i=void 0,r&&(Tt.k.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=t({name:Ls.location.pathname,op:"navigation"}))},type:"history"})}else Tt.k.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},Ms),Us=function(){function t(e){this.name=t.id,this._metrics=new Ps,this._emitOptionsWarning=!1;var n=Ms.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=(0,gs.pi)((0,gs.pi)((0,gs.pi)({},Fs),e),{tracingOrigins:n})}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(Tt.k.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Tt.k.warn("[Tracing] We added a reasonable default for you: "+Ms.tracingOrigins));var r=this.options,i=r.markBackgroundTransactions,o=r.traceFetch,s=r.traceXHR,a=r.tracingOrigins,u=r.shouldCreateSpanForRequest;(0,r.routingInstrumentation)(function(t){return n._createRouteTransaction(t)},r.startTransactionOnPageLoad,r.startTransactionOnLocationChange),i&&(_s&&_s.document?_s.document.addEventListener("visibilitychange",function(){var t=(0,bs.x1)();_s.document.hidden&&t&&(Tt.k.log("[Tracing] Transaction: "+vs.p.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(vs.p.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())}):Tt.k.warn("[Tracing] Could not set up background tab detection due to lack of global document")),function(e){var n=(0,gs.pi)((0,gs.pi)({},Ms),e),r=n.traceXHR,i=n.tracingOrigins,o=n.shouldCreateSpanForRequest,s={},a=function(t){return s[t]||(s[t]=i.some(function(e){return(0,Rt.zC)(t,e)})&&!(0,Rt.zC)(t,"sentry_key")),s[t]},u=a;"function"==typeof o&&(u=function(t){return a(t)&&o(t)});var c={};n.traceFetch&&(0,Lt.o)({callback:function(t){!function(t,e,n){if((0,bs.zu)()&&t.fetchData&&e(t.fetchData.url))if(t.endTimestamp&&t.fetchData.__span)(i=n[t.fetchData.__span])&&(t.response?i.setHttpStatus(t.response.status):t.error&&i.setStatus(vs.p.InternalError),i.finish(),delete n[t.fetchData.__span]);else{var r=(0,bs.x1)();if(r){var i=r.startChild({data:(0,gs.pi)((0,gs.pi)({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=i.spanId,n[i.spanId]=i;var o=t.args[0]=t.args[0],s=t.args[1]=t.args[1]||{},a=s.headers;(0,Wt.V9)(o,Request)&&(a=o.headers),a?"function"==typeof a.append?a.append("sentry-trace",i.toTraceparent()):a=Array.isArray(a)?(0,gs.fl)(a,[["sentry-trace",i.toTraceparent()]]):(0,gs.pi)((0,gs.pi)({},a),{"sentry-trace":i.toTraceparent()}):a={"sentry-trace":i.toTraceparent()},s.headers=a}}}(t,u,c)},type:"fetch"}),r&&(0,Lt.o)({callback:function(e){!function(e,n,r){var i,o;if((0,bs.zu)()&&!(null===(i=e.xhr)||void 0===i?void 0:i.__sentry_own_request__)&&(null===(o=e.xhr)||void 0===o?void 0:o.__sentry_xhr__)&&n(e.xhr.__sentry_xhr__.url)){var s=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__)(u=r[e.xhr.__sentry_xhr_span_id__])&&(u.setHttpStatus(s.status_code),u.finish(),delete r[e.xhr.__sentry_xhr_span_id__]);else{var a=(0,bs.x1)();if(a){var u=a.startChild({data:(0,gs.pi)((0,gs.pi)({},s.data),{type:"xhr",method:s.method,url:s.url}),description:s.method+" "+s.url,op:"http"});if(e.xhr.__sentry_xhr_span_id__=u.spanId,r[e.xhr.__sentry_xhr_span_id__]=u,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",u.toTraceparent())}catch(t){}}}}}(e,u,c)},type:"xhr"})}({traceFetch:o,traceXHR:s,tracingOrigins:a,shouldCreateSpanForRequest:u})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,o=n.maxTransactionDuration,s="pageload"===t.op?function(){var t,e=(t=document.querySelector("meta[name=sentry-trace]"))?t.getAttribute("content"):null;if(e)return(0,bs.qG)(e)}():void 0,a=(0,gs.pi)((0,gs.pi)((0,gs.pi)({},t),s),{trimEnd:!0}),u="function"==typeof r?r(a):a,c=void 0===u?(0,gs.pi)((0,gs.pi)({},a),{sampled:!1}):u;!1===c.sampled&&Tt.k.log("[Tracing] Will not send "+c.op+" transaction because of beforeNavigate."),Tt.k.log("[Tracing] Starting "+c.op+" transaction on scope");var l=this._getCurrentHub(),h=(0,Pt.Rf)().location,f=(0,ms.lb)(l,c,i,!0,{location:h});return f.registerBeforeFinishCallback(function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var r=n-e.startTimestamp;n&&(r>t||r<0)&&(e.setStatus(vs.p.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}((0,bs.WB)(o),t,n)}),f}Tt.k.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}(),js=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return t.prototype.setupOnce=function(){var t,e;this._router?(t=this._router,void 0===(e=this._methods)&&(e=[]),e.forEach(function(e){return function(t,e){var n=t[e];return t[e]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.call.apply(n,(0,gs.fl)([this],qs(t,e)))},t}(t,e)})):Tt.k.error("ExpressIntegration is missing an Express instance")},t.id="Express",t}();function Vs(t,e){var n=t.length;switch(n){case 2:return function(n,r){var i=r.__sentry_transaction;if(i){var o=i.startChild({description:t.name,op:"middleware."+e});r.once("finish",function(){o.finish()})}return t.call(this,n,r)};case 3:return function(n,r,i){var o,s=null===(o=r.__sentry_transaction)||void 0===o?void 0:o.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=s)||void 0===t||t.finish(),i.call.apply(i,(0,gs.fl)([this],e))})};case 4:return function(n,r,i,o){var s,a=null===(s=i.__sentry_transaction)||void 0===s?void 0:s.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,i,function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=a)||void 0===t||t.finish(),o.call.apply(o,(0,gs.fl)([this],e))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function qs(t,e){return t.map(function(t){return"function"==typeof t?Vs(t,e):Array.isArray(t)?t.map(function(t){return"function"==typeof t?Vs(t,e):t}):t})}var Zs=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,e){var n=(0,ws.$y)("pg");n?(0,Qt.hl)(n.Client.prototype,"query",function(t){return function(n,r,i){var o,s,a,u=null===(s=null===(o=e().getScope())||void 0===o?void 0:o.getSpan())||void 0===s?void 0:s.startChild({description:"string"==typeof n?n:n.text,op:"db"});if("function"==typeof i)return t.call(this,n,r,function(t,e){var n;null===(n=u)||void 0===n||n.finish(),i(t,e)});if("function"==typeof r)return t.call(this,n,function(t,e){var n;null===(n=u)||void 0===n||n.finish(),r(t,e)});var c=void 0!==r?t.call(this,n,r):t.call(this,n);return(0,Wt.J8)(c)?c.then(function(t){var e;return null===(e=u)||void 0===e||e.finish(),t}):(null===(a=u)||void 0===a||a.finish(),c)}}):Tt.k.error("Postgres Integration was unable to require `pg` package.")},t.id="Postgres",t}(),Bs=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,e){var n=(0,ws.$y)("mysql/lib/Connection.js");n?(0,Qt.hl)(n,"createQuery",function(t){return function(n,r,i){var o,s,a=null===(s=null===(o=e().getScope())||void 0===o?void 0:o.getSpan())||void 0===s?void 0:s.startChild({description:"string"==typeof n?n:n.sql,op:"db"});return"function"==typeof i?t.call(this,n,r,function(t,e,n){var r;null===(r=a)||void 0===r||r.finish(),i(t,e,n)}):"function"==typeof r?t.call(this,n,function(t,e,n){var i;null===(i=a)||void 0===i||i.finish(),r(t,e,n)}):t.call(this,n,r,i)}}):Tt.k.error("Mysql Integration was unable to require `mysql` package.")},t.id="Mysql",t}(),zs=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],Hs={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},Gs=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:zs,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}return t.prototype.setupOnce=function(t,e){var n=this._useMongoose?"mongoose":"mongodb",r=(0,ws.$y)(n);r?this._instrumentOperations(r.Collection,this._operations,e):Tt.k.error("Mongo Integration was unable to require `"+n+"` package.")},t.prototype._instrumentOperations=function(t,e,n){var r=this;e.forEach(function(e){return r._patchOperation(t,e,n)})},t.prototype._patchOperation=function(t,e,n){if(e in t.prototype){var r=this._getSpanContextFromOperationArguments.bind(this);(0,Qt.hl)(t.prototype,e,function(t){return function(){for(var i,o,s,a,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var l=u[u.length-1],h=n().getScope(),f=null===(i=h)||void 0===i?void 0:i.getSpan();if("function"!=typeof l||"mapReduce"===e&&2===u.length){var d=null===(o=f)||void 0===o?void 0:o.startChild(r(this,e,u)),p=t.call.apply(t,(0,gs.fl)([this],u));return(0,Wt.J8)(p)?p.then(function(t){var e;return null===(e=d)||void 0===e||e.finish(),t}):(null===(s=d)||void 0===s||s.finish(),p)}var g=null===(a=f)||void 0===a?void 0:a.startChild(r(this,e,u.slice(0,-1)));return t.call.apply(t,(0,gs.fl)([this],u.slice(0,-1),[function(t,e){var n;null===(n=g)||void 0===n||n.finish(),l(t,e)}]))}})}},t.prototype._getSpanContextFromOperationArguments=function(t,e,n){var r={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},i={op:"db",description:e,data:r},o=Hs[e],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(e):this._describeOperations;if(!o||!s)return i;try{if("mapReduce"===e){var a=(0,gs.CR)(n,2),u=a[0],c=a[1];r[o[0]]="string"==typeof u?u:u.name||"<anonymous>",r[o[1]]="string"==typeof c?c:c.name||"<anonymous>"}else for(var l=0;l<o.length;l++)r[o[l]]=JSON.stringify(n[l])}catch(h){}return i},t.id="Mongo",t}(),$s=(0,gs.pi)((0,gs.pi)({},r),{BrowserTracing:Us});(0,ms.ro)();class Js{}class Ws{}class Ys{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ys?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ys;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ys?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ks{encodeKey(t){return Qs(t)}encodeValue(t){return Qs(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Qs(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function Xs(t){return`${t}`}class ta{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ks,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ta({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Xs(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(Xs(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class ea{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function na(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ra(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ia(t){return"undefined"!=typeof FormData&&t instanceof FormData}class oa{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ys),this.context||(this.context=new ea),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new ta,this.urlWithParams=e}serializeBody(){return null===this.body?null:na(this.body)||ra(this.body)||ia(this.body)||"string"==typeof this.body?this.body:this.body instanceof ta?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ia(this.body)?null:ra(this.body)?this.body.type||null:na(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ta?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const l=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new oa(n,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var sa=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class aa{constructor(t,e=200,n="OK"){this.headers=t.headers||new Ys,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ua extends aa{constructor(t={}){super(t),this.type=sa.ResponseHeader}clone(t={}){return new ua({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ca extends aa{constructor(t={}){super(t),this.type=sa.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ca({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class la extends aa{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function ha(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let fa=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof oa)r=t;else{let i,o;i=n.headers instanceof Ys?n.headers:new Ys(n.headers),n.params&&(o=n.params instanceof ta?n.params:new ta({fromObject:n.params})),r=new oa(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,nn.of)(r).pipe(Hn(t=>this.handler.handle(t)));if(t instanceof oa||"events"===n.observe)return i;const o=i.pipe(Un(t=>t instanceof ca));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe((0,Tn.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe((0,Tn.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe((0,Tn.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe((0,Tn.U)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new ta).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,ha(n,e))}post(t,e,n={}){return this.request("POST",t,ha(n,e))}put(t,e,n={}){return this.request("PUT",t,ha(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Js))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class da{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const pa=new i.OlP("HTTP_INTERCEPTORS");let ga=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const ma=/^\)\]\}',?\n/;let ya=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new dn.y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Ys(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new ua({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(ma,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new ca({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new la({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new la({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:sa.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:sa.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:sa.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(B))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const va=new i.OlP("XSRF_COOKIE_NAME"),ba=new i.OlP("XSRF_HEADER_NAME");class _a{}let wa=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=I(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(a),i.LFG(i.Lbi),i.LFG(va))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),xa=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(_a),i.LFG(ba))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Ca=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(pa,[]);this.chain=t.reduceRight((t,e)=>new da(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ws),i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Sa=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:xa,useClass:ga}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:va,useValue:e.cookieName}:[],e.headerName?{provide:ba,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[xa,{provide:pa,useExisting:xa,multi:!0},{provide:_a,useClass:wa},{provide:va,useValue:"XSRF-TOKEN"},{provide:ba,useValue:"X-XSRF-TOKEN"}]}),t})(),Ta=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[fa,{provide:Js,useClass:Ca},ya,{provide:Ws,useExisting:ya}],imports:[[Sa.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var Ea=function(){function t(t){this._options=Xe({logErrors:!0},t)}return t.prototype.handleError=function(t){var e=this._extractError(t)||"Handled unknown error",n=Le(e);this._options.logErrors&&console.error(e),this._options.showDialog&&function(t){void 0===t&&(t={}),t.eventId||(t.eventId=(0,St.Gd)().lastEventId());var e=(0,St.Gd)().getClient();e&&e.showReportDialog(t)}(Xe(Xe({},this._options.dialogOptions),{eventId:n}))},t.prototype._extractError=function(t){if(this._options.extractor){var e=this._defaultExtractor.bind(this);return this._options.extractor(t,e)}return this._defaultExtractor(t)},t.prototype._defaultExtractor=function(t){var e=t;return e&&e.ngOriginalError&&(e=e.ngOriginalError),"string"==typeof e||e instanceof Error?e:e instanceof la?e.error instanceof Error?e.error:e.error instanceof ErrorEvent&&e.error.message?e.error.message:"string"==typeof e.error?"Server returned code "+e.status+' with body "'+e.error+'"':e.message:null},tn([(0,i.GSi)({providedIn:"root"})],t)}();function ka(t){return new Ea(t)}var Oa={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},Ia={prefix:"fas",iconName:"book",icon:[448,512,[],"f02d","M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"]},Aa={prefix:"fas",iconName:"book-reader",icon:[512,512,[],"f5da","M352 96c0-53.02-42.98-96-96-96s-96 42.98-96 96 42.98 96 96 96 96-42.98 96-96zM233.59 241.1c-59.33-36.32-155.43-46.3-203.79-49.05C13.55 191.13 0 203.51 0 219.14v222.8c0 14.33 11.59 26.28 26.49 27.05 43.66 2.29 131.99 10.68 193.04 41.43 9.37 4.72 20.48-1.71 20.48-11.87V252.56c-.01-4.67-2.32-8.95-6.42-11.46zm248.61-49.05c-48.35 2.74-144.46 12.73-203.78 49.05-4.1 2.51-6.41 6.96-6.41 11.63v245.79c0 10.19 11.14 16.63 20.54 11.9 61.04-30.72 149.32-39.11 192.97-41.4 14.9-.78 26.49-12.73 26.49-27.06V219.14c-.01-15.63-13.56-28.01-29.81-27.09z"]},Pa={prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},Ra={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"]},Na={prefix:"fas",iconName:"dumpster-fire",icon:[640,512,[],"f794","M418.7 104.1l.2-.2-14.4-72H304v128h60.8c16.2-19.3 34.2-38.2 53.9-55.8zM272 32H171.5l-25.6 128H272V32zm189.3 72.1c18.2 16.3 35.5 33.7 51.1 51.5 5.7-5.6 11.4-11.1 17.3-16.3l21.3-19 21.3 19c1.1.9 2.1 2.1 3.1 3.1-.1-.8.2-1.5 0-2.3l-24-96C549.7 37 543.3 32 536 32h-98.9l12.3 61.5 11.9 10.6zM16 160h97.3l25.6-128H40c-7.3 0-13.7 5-15.5 12.1l-24 96C-2 150.2 5.6 160 16 160zm324.6 32H32l4 32H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h28l20 160v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h208.8c-30.2-33.7-48.8-77.9-48.8-126.4 0-35.9 19.9-82.9 52.6-129.6zm210.5-28.8c-14.9 13.3-28.3 27.2-40.2 41.2-19.5-25.8-43.6-52-71-76.4-70.2 62.7-120 144.3-120 193.6 0 87.5 71.6 158.4 160 158.4s160-70.9 160-158.4c.1-36.6-37-112.2-88.8-158.4zm-18.6 229.4c-14.7 10.7-32.9 17-52.5 17-49 0-88.9-33.5-88.9-88 0-27.1 16.5-51 49.4-91.9 4.7 5.6 67.1 88.1 67.1 88.1l39.8-47c2.8 4.8 5.4 9.5 7.7 14 18.6 36.7 10.8 83.6-22.6 107.8z"]},Da={prefix:"fas",iconName:"minus-circle",icon:[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"]},Ma={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},La={prefix:"fas",iconName:"plus-circle",icon:[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"]},Fa={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},Ua={prefix:"fas",iconName:"sign-out-alt",icon:[512,512,[],"f2f5","M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"]},ja={prefix:"fas",iconName:"star",icon:[576,512,[],"f005","M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"]},Va={prefix:"fas",iconName:"star-half-alt",icon:[536,512,[],"f5c0","M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"]},qa={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},Za={prefix:"fas",iconName:"user-circle",icon:[496,512,[],"f2bd","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"]};function Ba(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}var za=n(8569);function Ha(){return t=>t.lift(new Ga)}class Ga{call(t,e){return e.subscribe(new $a(t))}}class $a extends cn.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Ja{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Wa(t,this.compare,this.keySelector))}}class Wa extends cn.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ya=n(45),Ka=n(2346),Qa=n(1858),Xa=n(1062),tu=n(250),eu=n(308),nu=function(t,e){return(nu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ru(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var iu,ou="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},su=su||{},au=ou||self;function uu(){}function cu(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function lu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var hu="closure_uid_"+(1e9*Math.random()>>>0),fu=0;function du(t,e,n){return t.call.apply(t.bind,arguments)}function pu(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function gu(t,e,n){return(gu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?du:pu).apply(null,arguments)}function mu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function yu(){return Date.now()}function vu(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function bu(){this.j=this.j,this.i=this.i}bu.prototype.j=!1,bu.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,hu)&&t[hu]||(t[hu]=++fu)}(this)},bu.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var _u=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},wu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function xu(t){return Array.prototype.concat.apply([],arguments)}function Cu(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Su(t){return/^[\s\xa0]*$/.test(t)}var Tu,Eu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ku(t,e){return-1!=t.indexOf(e)}function Ou(t,e){return t<e?-1:t>e?1:0}t:{var Iu=au.navigator;if(Iu){var Au=Iu.userAgent;if(Au){Tu=Au;break t}}Tu=""}function Pu(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ru(t){var e={};for(var n in t)e[n]=t[n];return e}var Nu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Du(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Nu.length;o++)n=Nu[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Mu(t){return Mu[" "](t),t}Mu[" "]=uu;var Lu,Fu,Uu=ku(Tu,"Opera"),ju=ku(Tu,"Trident")||ku(Tu,"MSIE"),Vu=ku(Tu,"Edge"),qu=Vu||ju,Zu=ku(Tu,"Gecko")&&!(ku(Tu.toLowerCase(),"webkit")&&!ku(Tu,"Edge"))&&!(ku(Tu,"Trident")||ku(Tu,"MSIE"))&&!ku(Tu,"Edge"),Bu=ku(Tu.toLowerCase(),"webkit")&&!ku(Tu,"Edge");function zu(){var t=au.document;return t?t.documentMode:void 0}t:{var Hu="",Gu=(Fu=Tu,Zu?/rv:([^\);]+)(\)|;)/.exec(Fu):Vu?/Edge\/([\d\.]+)/.exec(Fu):ju?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Fu):Bu?/WebKit\/(\S+)/.exec(Fu):Uu?/(?:Version)[ \/]?(\S+)/.exec(Fu):void 0);if(Gu&&(Hu=Gu?Gu[1]:""),ju){var $u=zu();if(null!=$u&&$u>parseFloat(Hu)){Lu=String($u);break t}}Lu=Hu}var Ju={};function Wu(t){return function(t,e){var n=Ju;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Eu(String(Lu)).split("."),r=Eu(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Ou(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Ou(0==s[2].length,0==a[2].length)||Ou(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Yu=au.document&&ju&&(zu()||parseInt(Lu,10))||void 0,Ku=!ju||9<=Number(Yu),Qu=ju&&!Wu("9"),Xu=function(){if(!au.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{au.addEventListener("test",uu,e),au.removeEventListener("test",uu,e)}catch(n){}return t}();function tc(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ec(t,e){if(tc.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Zu){t:{try{Mu(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:nc[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}tc.prototype.b=function(){this.defaultPrevented=!0},vu(ec,tc);var nc={2:"touch",3:"pen",4:"mouse"};ec.prototype.b=function(){ec.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Qu)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var rc="closure_listenable_"+(1e6*Math.random()|0),ic=0;function oc(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ic,this.Y=this.Z=!1}function sc(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ac(t){this.src=t,this.a={},this.b=0}function uc(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=_u(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(sc(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function cc(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}ac.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=cc(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new oc(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var lc="closure_lm_"+(1e6*Math.random()|0),hc={};function fc(t,e,n,r,i){if(r&&r.once)return pc(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)fc(t,e[o],n,r,i);return null}return n=xc(n),t&&t[rc]?t.wa(e,n,lu(r)?!!r.capture:!!r,i):dc(t,e,n,!1,r,i)}function dc(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=lu(i)?!!i.capture:!!i;if(s&&!Ku)return null;var a=_c(t);if(a||(t[lc]=a=new ac(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=bc,e=Ku?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xu||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yc(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function pc(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)pc(t,e[o],n,r,i);return null}return n=xc(n),t&&t[rc]?t.xa(e,n,lu(r)?!!r.capture:!!r,i):dc(t,e,n,!0,r,i)}function gc(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)gc(t,e[o],n,r,i);else r=lu(r)?!!r.capture:!!r,n=xc(n),t&&t[rc]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=cc(o=t.a[e],n,r,i))&&(sc(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=_c(t))&&(e=t.a[e.toString()],t=-1,e&&(t=cc(e,n,r,i)),(n=-1<t?e[t]:null)&&mc(n))}function mc(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[rc])uc(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yc(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_c(e))?(uc(n,t),0==n.b&&(n.src=null,e[lc]=null)):sc(t)}}}function yc(t){return t in hc?hc[t]:hc[t]="on"+t}function vc(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&mc(t),n.call(r,e)}function bc(t,e){if(t.Y)return!0;if(!Ku){if(!e)t:{e=["window","event"];for(var n=au,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return vc(t,e=new ec(e,this))}return vc(t,new ec(e,this))}function _c(t){return(t=t[lc])instanceof ac?t:null}var wc="__closure_events_fn_"+(1e9*Math.random()>>>0);function xc(t){return"function"==typeof t?t:(t[wc]||(t[wc]=function(e){return t.handleEvent(e)}),t[wc])}function Cc(){bu.call(this),this.c=new ac(this),this.J=this,this.D=null}function Sc(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new tc(e,t);else if(e instanceof tc)e.target=e.target||t;else{var i=e;Du(e=new tc(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Tc(s,r,!0,e)&&i}if(i=Tc(s=e.a=t,r,!0,e)&&i,i=Tc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Tc(s=e.a=n[o],r,!1,e)&&i}function Tc(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&uc(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}vu(Cc,bu),Cc.prototype[rc]=!0,(iu=Cc.prototype).addEventListener=function(t,e,n,r){fc(this,t,e,n,r)},iu.removeEventListener=function(t,e,n,r){gc(this,t,e,n,r)},iu.H=function(){if(Cc.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)sc(n[r]);delete e.a[t],e.b--}}this.D=null},iu.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},iu.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ec=au.JSON.stringify;function kc(){this.b=this.a=null}var Oc,Ic=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Pc},function(t){t.reset()});function Ac(){var t=Mc,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Pc(){this.next=this.b=this.a=null}function Rc(t){au.setTimeout(function(){throw t},0)}function Nc(t,e){Oc||function(){var t=au.Promise.resolve(void 0);Oc=function(){t.then(Lc)}}(),Dc||(Oc(),Dc=!0),Mc.add(t,e)}kc.prototype.add=function(t,e){var n=Ic.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Pc.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Pc.prototype.reset=function(){this.next=this.b=this.a=null};var Dc=!1,Mc=new kc;function Lc(){for(var t;t=Ac();){try{t.a.call(t.b)}catch(n){Rc(n)}var e=Ic;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Dc=!1}function Fc(t,e){Cc.call(this),this.b=t||1,this.a=e||au,this.f=gu(this.eb,this),this.g=yu()}function Uc(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function jc(t,e,n){if("function"==typeof t)n&&(t=gu(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=gu(t.handleEvent,t)}return 2147483647<Number(e)?-1:au.setTimeout(t,e||0)}function Vc(t){t.a=jc(function(){t.a=null,t.c&&(t.c=!1,Vc(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}vu(Fc,Cc),(iu=Fc.prototype).aa=!1,iu.M=null,iu.eb=function(){if(this.aa){var t=yu()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Sc(this,"tick"),this.aa&&(Uc(this),this.start()))}},iu.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=yu())},iu.H=function(){Fc.X.H.call(this),Uc(this),delete this.a};var qc=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}nu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Vc(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(au.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(bu);function Zc(t){bu.call(this),this.b=t,this.a={}}vu(Zc,bu);var Bc=[];function zc(t,e,n,r){Array.isArray(n)||(n&&(Bc[0]=n.toString()),n=Bc);for(var i=0;i<n.length;i++){var o=fc(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Hc(t){Pu(t.a,function(t,e){this.a.hasOwnProperty(e)&&mc(t)},t),t.a={}}function Gc(){this.a=!0}function $c(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ec(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Zc.prototype.H=function(){Zc.X.H.call(this),Hc(this)},Zc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gc.prototype.info=function(){};var Jc={},Wc=null;function Yc(){return Wc=Wc||new Cc}function Kc(t){tc.call(this,Jc.Ga,t)}function Qc(t){var e=Yc();Sc(e,new Kc(e,t))}function Xc(t,e){tc.call(this,Jc.STAT_EVENT,t),this.stat=e}function tl(t){var e=Yc();Sc(e,new Xc(e,t))}function el(t){tc.call(this,Jc.Ha,t)}function nl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return au.setTimeout(function(){t()},e)}Jc.Ga="serverreachability",vu(Kc,tc),Jc.STAT_EVENT="statevent",vu(Xc,tc),Jc.Ha="timingevent",vu(el,tc);var rl={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},il={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function ol(){}function sl(){}ol.prototype.b=null;var al,ul={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function cl(){tc.call(this,"d")}function ll(){tc.call(this,"c")}function hl(){}function fl(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Zc(this),this.P=dl,this.R=new Fc(t=qu?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}vu(cl,tc),vu(ll,tc),vu(hl,ol),hl.prototype.a=function(){return new XMLHttpRequest},hl.prototype.c=function(){return{}},al=new hl;var dl=45e3,pl={},gl={};function ml(t,e,n){t.G=1,t.i=Ul(Rl(e)),t.j=n,t.I=!0,yl(t,null)}function yl(t,e){t.u=yu(),_l(t),t.l=Rl(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Kl(n.b,"t",r),t.D=0,t.a=Hh(t.g,t.g.C?e:null),0<t.O&&(t.F=new qc(gu(t.Da,t,t.a),t.O)),zc(t.J,t.a,"readystatechange",t.bb),e=t.B?Ru(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Qc(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function vl(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=bl(t,n);if(i==gl){4==e&&(t.h=4,tl(14),r=!1),$c(t.c,t.f,null,"[Incomplete Response]");break}if(i==pl){t.h=4,tl(15),$c(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}$c(t.c,t.f,i,null),Tl(t,i)}4==e&&0==n.length&&(t.h=1,tl(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fh(e),e.F=!0,tl(11))):($c(t.c,t.f,n,"[Invalid Chunked Response]"),Sl(t),Cl(t))}function bl(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?gl:(n=Number(e.substring(n,r)),isNaN(n)?pl:(r+=1)+n>e.length?gl:(e=e.substr(r,n),t.D=r+n,e))}function _l(t){t.T=yu()+t.P,wl(t,t.P)}function wl(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=nl(gu(t.$a,t),e)}function xl(t){t.o&&(au.clearTimeout(t.o),t.o=null)}function Cl(t){0==t.g.v||t.A||Vh(t.g,t)}function Sl(t){xl(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,Uc(t.R),Hc(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function Tl(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ih(n.b,t)))if(n.I=t.N,!t.C&&ih(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(Jw){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;jh(n),Oh(n)}Lh(n),tl(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=nl(gu(n.Xa,n),6e3));if(1>=rh(n.b)&&n.fa){try{n.fa()}catch(Jw){}n.fa=void 0}}else Zh(n,11)}else if((t.C||n.a==t)&&jh(n),!Su(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var s=i[4];null!=s&&(n.qa=s,n.c.info("SVER="+n.qa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ku(l,"spdy")||ku(l,"quic")||ku(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(oh(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,Fl(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=yu()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).ma=zh(u,u.C?u.ha:null,u.ga),d.C){sh(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(xl(p),_l(p)),u.a=d}else Mh(u);0<n.g.length&&Ph(n)}else"stop"!=i[0]&&"close"!=i[0]||Zh(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Zh(n,7):kh(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);Qc(4)}catch(Jw){}}function El(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(cu(t)||"string"==typeof t)wu(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(cu(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(cu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function kl(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kl)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ol(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Il(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Il(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Il(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(iu=fl.prototype).setTimeout=function(t){this.P=t},iu.bb=function(t){t=t.target;var e=this.F;e&&3==Ch(t)?e.f():this.Da(t)},iu.Da=function(t){try{if(t==this.a)t:{var e=Ch(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!qu&&!this.a.$())){this.A||4!=e||7==n||Qc(8==n||0>=r?3:2),xl(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Su(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,tl(12),Sl(this),Cl(this);break t}$c(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Tl(this,u)}this.I?(vl(this,e,o),qu&&this.b&&3==e&&(zc(this.J,this.R,"tick",this.ab),this.R.start())):($c(this.c,this.f,o,null),Tl(this,o)),4==e&&Sl(this),this.b&&!this.A&&(4==e?Vh(this.g,this):(this.b=!1,_l(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,tl(12)):(this.h=0,tl(13)),Sl(this),Cl(this)}}}catch(c){}},iu.ab=function(){if(this.a){var t=Ch(this.a),e=this.a.$();this.D<e.length&&(xl(this),vl(this,t,e),this.b&&4!=t&&_l(this))}},iu.cancel=function(){this.A=!0,Sl(this)},iu.$a=function(){this.o=null;var t=yu();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.G&&(Qc(3),tl(17)),Sl(this),this.h=2,Cl(this)):wl(this,this.T-t)},(iu=kl.prototype).K=function(){Ol(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},iu.L=function(){return Ol(this),this.a.concat()},iu.get=function(t,e){return Il(this.b,t)?this.b[t]:e},iu.set=function(t,e){Il(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},iu.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Al=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pl(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Pl){this.a=void 0!==e?e:t.a,Nl(this,t.f),this.j=t.j,Dl(this,t.c),Ml(this,t.h),this.g=t.g,e=t.b;var n=new $l;n.c=e.c,e.a&&(n.a=new kl(e.a),n.b=e.b),Ll(this,n),this.i=t.i}else t&&(n=String(t).match(Al))?(this.a=!!e,Nl(this,n[1]||"",!0),this.j=jl(n[2]||""),Dl(this,n[3]||"",!0),Ml(this,n[4]),this.g=jl(n[5]||"",!0),Ll(this,n[6]||"",!0),this.i=jl(n[7]||"")):(this.a=!!e,this.b=new $l(null,this.a))}function Rl(t){return new Pl(t)}function Nl(t,e,n){t.f=n?jl(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Dl(t,e,n){t.c=n?jl(e,!0):e}function Ml(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ll(t,e,n){e instanceof $l?(t.b=e,function(t,e){e&&!t.f&&(Jl(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Wl(this,e),Kl(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Vl(e,Hl)),t.b=new $l(e,t.a))}function Fl(t,e,n){t.b.set(e,n)}function Ul(t){return Fl(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^yu()).toString(36)),t}function jl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ql),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ql(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pl.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Vl(e,Zl,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Vl(e,Zl,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Vl(n,"/"==n.charAt(0)?zl:Bl,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Vl(n,Gl)),t.join("")};var Zl=/[#\/\?@]/g,Bl=/[#\?:]/g,zl=/[#\?]/g,Hl=/[#\?@]/g,Gl=/#/g;function $l(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Jl(t){t.a||(t.a=new kl,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Wl(t,e){Jl(t),e=Ql(t,e),Il(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Il((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ol(t)))}function Yl(t,e){return Jl(t),e=Ql(t,e),Il(t.a.b,e)}function Kl(t,e,n){Wl(t,e),0<n.length&&(t.c=null,t.a.set(Ql(t,e),Cu(n)),t.b+=n.length)}function Ql(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(iu=$l.prototype).add=function(t,e){Jl(this),this.c=null,t=Ql(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},iu.forEach=function(t,e){Jl(this),this.a.forEach(function(n,r){wu(n,function(n){t.call(e,n,r,this)},this)},this)},iu.L=function(){Jl(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},iu.K=function(t){Jl(this);var e=[];if("string"==typeof t)Yl(this,t)&&(e=xu(e,this.a.get(Ql(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=xu(e,t[n])}return e},iu.set=function(t,e){return Jl(this),this.c=null,Yl(this,t=Ql(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},iu.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},iu.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Xl=function(){return function(t,e){this.b=t,this.a=e}}();function th(t){this.g=t||eh,t=au.PerformanceNavigationTiming?0<(t=au.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(au.ja&&au.ja.za&&au.ja.za()&&au.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var eh=10;function nh(t){return!!t.b||!!t.a&&t.a.size>=t.f}function rh(t){return t.b?1:t.a?t.a.size:0}function ih(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function oh(t,e){t.a?t.a.add(e):t.b=e}function sh(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ah(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ru(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Cu(t.c)}function uh(){}function ch(){this.a=new uh}function lh(t,e,n){var r=n||"";try{El(t,function(t,n){var i=t;lu(t)&&(i=Ec(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(vx){throw e.push(r+"type="+encodeURIComponent("_badmap")),vx}}function hh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}th.prototype.cancel=function(){var t,e;if(this.c=ah(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ru(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},uh.prototype.stringify=function(t){return au.JSON.stringify(t,void 0)},uh.prototype.parse=function(t){return au.JSON.parse(t,void 0)};var fh=au.JSON.parse;function dh(t){Cc.call(this),this.headers=new kl,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=ph,this.F=this.G=!1}vu(dh,Cc);var ph="",gh=/^https?$/i,mh=["POST","PUT"];function yh(t){return"content-type"==t.toLowerCase()}function vh(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,bh(t),wh(t)}function bh(t){t.A||(t.A=!0,Sc(t,"complete"),Sc(t,"error"))}function _h(t){if(t.b&&void 0!==su&&(!t.u[1]||4!=Ch(t)||2!=t.W()))if(t.m&&4==Ch(t))jc(t.Aa,0,t);else if(Sc(t,"readystatechange"),4==Ch(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.C).match(Al)[1]||null;if(!o&&au.self&&au.self.location){var s=au.self.location.protocol;o=s.substr(0,s.length-1)}i=!gh.test(o?o.toLowerCase():"")}e=i}if(e)Sc(t,"complete"),Sc(t,"success");else{t.h=6;try{var a=2<Ch(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",bh(t)}}finally{wh(t)}}}function wh(t,e){if(t.a){xh(t);var n=t.a,r=t.u[0]?uu:null;t.a=null,t.u=null,e||Sc(t,"ready");try{n.onreadystatechange=r}catch(vx){}}}function xh(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(au.clearTimeout(t.o),t.o=null)}function Ch(t){return t.a?t.a.readyState:0}function Sh(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Pu(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fl(t,e,n))}function Th(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Eh(t){this.qa=0,this.g=[],this.c=new Gc,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=Th("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=Th("baseRetryDelayMs",5e3,t),this.Sa=Th("retryDelaySeedMs",1e4,t),this.Na=Th("forwardChannelMaxRetries",2,t),this.na=Th("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new th(t&&t.concurrentRequestLimit),this.la=new ch,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function kh(t){if(Ih(t),3==t.v){var e=t.R++,n=Rl(t.B);Fl(n,"SID",t.J),Fl(n,"RID",e),Fl(n,"TYPE","terminate"),Nh(t,n),(e=new fl(t,t.c,e,void 0)).G=2,e.i=Ul(Rl(n)),n=!1,au.navigator&&au.navigator.sendBeacon&&(n=au.navigator.sendBeacon(e.i.toString(),"")),!n&&au.Image&&((new Image).src=e.i,n=!0),n||(e.a=Hh(e.g,null),e.a.ba(e.i)),e.u=yu(),_l(e)}Bh(t)}function Oh(t){t.a&&(Fh(t),t.a.cancel(),t.a=null)}function Ih(t){Oh(t),t.j&&(au.clearTimeout(t.j),t.j=null),jh(t),t.b.cancel(),t.h&&("number"==typeof t.h&&au.clearTimeout(t.h),t.h=null)}function Ah(t,e){t.g.push(new Xl(t.Pa++,e)),3==t.v&&Ph(t)}function Ph(t){nh(t.b)||t.h||(t.h=!0,Nc(t.Ca,t),t.u=0)}function Rh(t,e){var n;n=e?e.f:t.R++;var r=Rl(t.B);Fl(r,"SID",t.J),Fl(r,"RID",n),Fl(r,"AID",t.P),Nh(t,r),t.i&&t.l&&Sh(r,t.i,t.l),n=new fl(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Dh(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),oh(t.b,n),ml(n,r,e)}function Nh(t,e){t.f&&El({},function(t,n){Fl(e,n,t)})}function Dh(t,e,n){n=Math.min(t.g.length,n);var r=t.f?gu(t.f.Ka,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{lh(l,s,"req"+c+"_")}catch(If){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Mh(t){t.a||t.j||(t.T=1,Nc(t.Ba,t),t.o=0)}function Lh(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=nl(gu(t.Ba,t),qh(t,t.o)),t.o++,0))}function Fh(t){null!=t.s&&(au.clearTimeout(t.s),t.s=null)}function Uh(t){t.a=new fl(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Rl(t.ma);Fl(e,"RID","rpc"),Fl(e,"SID",t.J),Fl(e,"CI",t.G?"0":"1"),Fl(e,"AID",t.P),Nh(t,e),Fl(e,"TYPE","xmlhttp"),t.i&&t.l&&Sh(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=Ul(Rl(e)),n.j=null,n.I=!0,yl(n,t)}function jh(t){null!=t.m&&(au.clearTimeout(t.m),t.m=null)}function Vh(t,e){var n=null;if(t.a==e){jh(t),Fh(t),t.a=null;var r=2}else{if(!ih(t.b,e))return;n=e.s,sh(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=yu()-e.u;var i=t.u;Sc(r=Yc(),new el(r,n,e,i)),Ph(t)}else Mh(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(rh(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=nl(gu(t.Ca,t,e),qh(t,t.u)),t.u++,0)))}(t,e)||2==r&&Lh(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Zh(t,5);break;case 4:Zh(t,10);break;case 3:Zh(t,6);break;default:Zh(t,2)}}function qh(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function Zh(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=gu(t.cb,t);n||(n=new Pl("//www.google.com/images/cleardot.gif"),au.location&&"http"==au.location.protocol||Nl(n,"https"),Ul(n)),function(t,e){var n=new Gc;if(au.Image){var r=new Image;r.onload=mu(hh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=mu(hh,n,r,"TestLoadImage: error",!1,e),r.onabort=mu(hh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=mu(hh,n,r,"TestLoadImage: timeout",!1,e),au.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else tl(2);t.v=0,t.f&&t.f.sa(e),Bh(t),Ih(t)}function Bh(t){t.v=0,t.I=-1,t.f&&(0==ah(t.b).length&&0==t.g.length||(t.b.c.length=0,Cu(t.g),t.g.length=0),t.f.ra())}function zh(t,e,n){var r=function(t){return t instanceof Pl?Rl(t):new Pl(t,void 0)}(n);if(""!=r.c)e&&Dl(r,e+"."+r.c),Ml(r,r.h);else{var i=au.location;r=function(t,e,n,r){var i=new Pl(null,void 0);return t&&Nl(i,t),e&&Dl(i,e),n&&Ml(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Pu(t.V,function(t,e){Fl(r,e,t)}),n=t.oa,(e=t.A)&&n&&Fl(r,e,n),Fl(r,"VER",t.ia),Nh(t,r),r}function Hh(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dh(t.Oa)).G=t.C,e}function Gh(){}function $h(){if(ju&&!(10<=Number(Yu)))throw Error("Environmental error: no available transport.")}function Jh(t,e){Cc.call(this),this.a=new Eh(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Su(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Su(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Kh(this)}function Wh(t){cl.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Yh(){ll.call(this),this.status=1}function Kh(t){this.a=t}function Qh(t){this.f=t}function Xh(t){Cc.call(this),this.u=t,this.h=void 0,this.readyState=tf,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(iu=dh.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():al.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:al),this.a.onreadystatechange=gu(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void vh(this,o)}t=n||"";var i=new kl(this.headers);r&&El(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=yh,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=au.FormData&&t instanceof au.FormData,!(0<=_u(mh,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{xh(this),0<this.s&&((this.F=function(t){return ju&&Wu(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=gu(this.ya,this)):this.o=jc(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(o){vh(this,o)}},iu.ya=function(){void 0!==su&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,Sc(this,"timeout"),this.abort(8))},iu.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Sc(this,"complete"),Sc(this,"abort"),wh(this))},iu.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),wh(this,!0)),dh.X.H.call(this)},iu.Aa=function(){this.j||(this.B||this.m||this.g?_h(this):this.Za())},iu.Za=function(){_h(this)},iu.W=function(){try{return 2<Ch(this)?this.a.status:-1}catch(Fu){return-1}},iu.$=function(){try{return this.a?this.a.responseText:""}catch(Fu){return""}},iu.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),fh(e)}},iu.va=function(){return this.h},iu.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(iu=Eh.prototype).ia=8,iu.v=1,iu.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new fl(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Du(r=Ru(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Dh(this,n,e),Fl(i=Rl(this.B),"RID",t),Fl(i,"CVER",22),this.A&&Fl(i,"X-HTTP-Session-Id",this.A),Nh(this,i),this.i&&r&&Sh(i,this.i,r),oh(this.b,n),this.Ja&&Fl(i,"TYPE","init"),this.ea?(Fl(i,"$req",e),Fl(i,"SID","null"),n.U=!0,ml(n,i,null)):ml(n,i,e),this.v=2}}else 3==this.v&&(t?Rh(this,t):0==this.g.length||nh(this.b)||Rh(this))},iu.Ba=function(){if(this.j=null,Uh(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=nl(gu(this.Ya,this),t)}},iu.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,tl(10),Oh(this),Uh(this))},iu.Xa=function(){null!=this.m&&(this.m=null,Oh(this),Lh(this),tl(19))},iu.cb=function(t){t?(this.c.info("Successfully pinged google.com"),tl(2)):(this.c.info("Failed to ping google.com"),tl(1))},(iu=Gh.prototype).ua=function(){},iu.ta=function(){},iu.sa=function(){},iu.ra=function(){},iu.Ka=function(){},$h.prototype.a=function(t,e){return new Jh(t,e)},vu(Jh,Cc),Jh.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;tl(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=zh(t,null,t.ga),Ph(t)},Jh.prototype.close=function(){kh(this.a)},Jh.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,Ah(this.a,e)}else this.m?((e={}).__data__=Ec(t),Ah(this.a,e)):Ah(this.a,t)},Jh.prototype.H=function(){this.a.f=null,delete this.f,kh(this.a),delete this.a,Jh.X.H.call(this)},vu(Wh,cl),vu(Yh,ll),vu(Kh,Gh),Kh.prototype.ua=function(){Sc(this.a,"a")},Kh.prototype.ta=function(t){Sc(this.a,new Wh(t))},Kh.prototype.sa=function(t){Sc(this.a,new Yh(t))},Kh.prototype.ra=function(){Sc(this.a,"b")},vu(Qh,ol),Qh.prototype.a=function(){return new Xh(this.f)},Qh.prototype.c=function(t){return function(){return t}}({}),vu(Xh,Cc);var tf=0;function ef(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function nf(t){t.readyState=4,t.g=null,t.f=null,t.m=null,rf(t)}function rf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(iu=Xh.prototype).open=function(t,e){if(this.readyState!=tf)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,rf(this)},iu.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},iu.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,nf(this)),this.readyState=tf},iu.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,rf(this)),this.a&&(this.readyState=3,rf(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==au.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,ef(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},iu.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?nf(this):rf(this),3==this.readyState&&ef(this)}},iu.Va=function(t){this.a&&(this.responseText=t,nf(this))},iu.Ua=function(){this.a&&nf(this)},iu.ca=function(){this.a&&nf(this)},iu.setRequestHeader=function(t,e){this.l.append(t,e)},iu.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},iu.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Xh.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),$h.prototype.createWebChannel=$h.prototype.a,Jh.prototype.send=Jh.prototype.l,Jh.prototype.open=Jh.prototype.h,Jh.prototype.close=Jh.prototype.close,rl.NO_ERROR=0,rl.TIMEOUT=8,rl.HTTP_ERROR=6,il.COMPLETE="complete",sl.EventType=ul,ul.OPEN="a",ul.CLOSE="b",ul.ERROR="c",ul.MESSAGE="d",Cc.prototype.listen=Cc.prototype.wa,dh.prototype.listenOnce=dh.prototype.xa,dh.prototype.getLastError=dh.prototype.Ra,dh.prototype.getLastErrorCode=dh.prototype.va,dh.prototype.getStatus=dh.prototype.W,dh.prototype.getResponseJson=dh.prototype.Qa,dh.prototype.getResponseText=dh.prototype.$,dh.prototype.send=dh.prototype.ba;var of=rl,sf=il,af=Jc,uf=Qh,cf=sl,lf=dh,hf=n(4762),ff=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();ff.o=-1;var df={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,hf.ZT)(e,t),e}(Error),gf=new eu.Yd("@firebase/firestore");function mf(){return gf.logLevel}function yf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gf.logLevel<=eu.in.DEBUG){var r=e.map(_f);gf.debug.apply(gf,(0,hf.ev)(["Firestore (8.6.5): "+t],r))}}function vf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gf.logLevel<=eu.in.ERROR){var r=e.map(_f);gf.error.apply(gf,(0,hf.ev)(["Firestore (8.6.5): "+t],r))}}function bf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gf.logLevel<=eu.in.WARN){var r=e.map(_f);gf.warn.apply(gf,(0,hf.ev)(["Firestore (8.6.5): "+t],r))}}function _f(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(vx){return t}}function wf(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.5) INTERNAL ASSERTION FAILED: "+t;throw vf(e),new Error(e)}function xf(t,e){t||wf()}function Cf(t,e){return t}function Sf(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Tf=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Sf(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ef(t,e){return t<e?-1:t>e?1:0}function kf(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Of(t){return t+"\0"}var If=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new pf(df.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pf(df.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new pf(df.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pf(df.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Ef(this.nanoseconds,t.nanoseconds):Ef(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Af=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new If(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Pf(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nf(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Df=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&wf(),void 0===n?n=t.length-e:n>t.length-e&&wf(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Mf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,hf.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new pf(df.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Df),Lf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ff=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,hf.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Lf.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new pf(df.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new pf(df.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new pf(df.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new pf(df.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Df),Uf=function(){function t(t){this.fields=t,t.sort(Ff.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return kf(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),jf=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Ef(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();jf.EMPTY_BYTE_STRING=new jf("");var Vf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qf(t){if(xf(!!t),"string"==typeof t){var e=0,n=Vf.exec(t);if(xf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zf(t.seconds),nanos:Zf(t.nanos)}}function Zf(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Bf(t){return"string"==typeof t?jf.fromBase64String(t):jf.fromUint8Array(t)}function zf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hf(t){var e=t.mapValue.fields.__previous_value__;return zf(e)?Hf(e):e}function Gf(t){var e=qf(t.mapValue.fields.__local_write_time__.timestampValue);return new If(e.seconds,e.nanos)}function $f(t){return null==t}function Jf(t){return 0===t&&1/t==-1/0}function Wf(t){return"number"==typeof t&&Number.isInteger(t)&&!Jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Yf=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Mf.fromString(e))},t.fromName=function(e){return new t(Mf.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Mf.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Mf.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Mf(e.slice()))},t}();function Kf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zf(t)?4:10:wf()}function Qf(t,e){var n=Kf(t);if(n!==Kf(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gf(t).isEqual(Gf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=qf(t.timestampValue),r=qf(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Bf(t.bytesValue).isEqual(Bf(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Zf(t.geoPointValue.latitude)===Zf(e.geoPointValue.latitude)&&Zf(t.geoPointValue.longitude)===Zf(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Zf(t.integerValue)===Zf(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Zf(t.doubleValue),r=Zf(e.doubleValue);return n===r?Jf(n)===Jf(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return kf(t.arrayValue.values||[],e.arrayValue.values||[],Qf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Pf(n)!==Pf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Qf(n[i],r[i])))return!1;return!0}(t,e);default:return wf()}}function Xf(t,e){return void 0!==(t.values||[]).find(function(t){return Qf(t,e)})}function td(t,e){var n=Kf(t),r=Kf(e);if(n!==r)return Ef(n,r);switch(n){case 0:return 0;case 1:return Ef(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Zf(t.integerValue||t.doubleValue),r=Zf(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ed(t.timestampValue,e.timestampValue);case 4:return ed(Gf(t),Gf(e));case 5:return Ef(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Bf(t),r=Bf(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ef(n[i],r[i]);if(0!==o)return o}return Ef(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ef(Zf(t.latitude),Zf(e.latitude));return 0!==n?n:Ef(Zf(t.longitude),Zf(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=td(n[i],r[i]);if(o)return o}return Ef(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Ef(r[s],o[s]);if(0!==a)return a;var u=td(n[r[s]],i[o[s]]);if(0!==u)return u}return Ef(r.length,o.length)}(t.mapValue,e.mapValue);default:throw wf()}}function ed(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ef(t,e);var n=qf(t),r=qf(e),i=Ef(n.seconds,r.seconds);return 0!==i?i:Ef(n.nanos,r.nanos)}function nd(t){return rd(t)}function rd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=qf(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Bf(t.bytesValue).toBase64():"referenceValue"in t?Yf.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=rd(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+rd(t.fields[o])}return e+"}"}(t.mapValue):wf();var e}function id(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function od(t){return!!t&&"integerValue"in t}function sd(t){return!!t&&"arrayValue"in t}function ad(t){return!!t&&"nullValue"in t}function ud(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cd(t){return!!t&&"mapValue"in t}function ld(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},qf(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return Rf(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=ld(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ld(t.arrayValue.values[r]);return n}return Object.assign({},t)}var hd=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!cd(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ld(e)},t.prototype.setAll=function(t){var e=this,n=Ff.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=ld(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());cd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Qf(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];cd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Rf(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(ld(this.value))},t}();function fd(t){var e=[];return Rf(t.fields,function(t,n){var r=new Ff([t]);if(cd(n)){var i=fd(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Uf(e)}var dd=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Af.min(),hd.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,hd.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,hd.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=hd.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=hd.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),pd=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function gd(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new pd(t,e,n,r,i,o,s)}function md(t){var e=Cf(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+nd(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),$f(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Id(e.startAt)),e.endAt&&(n+="|ub:",n+=Id(e.endAt)),e.h=n}return e.h}function yd(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Pd(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Qf(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Nd(t.startAt,e.startAt)&&Nd(t.endAt,e.endAt)}function vd(t){return Yf.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var bd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,hf.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new _d(t,n,r):"array-contains"===n?new Sd(t,r):"in"===n?new Td(t,r):"not-in"===n?new Ed(t,r):"array-contains-any"===n?new kd(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new wd(t,n):new xd(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(td(e,this.value)):null!==e&&Kf(this.value)===Kf(e)&&this.m(td(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return wf()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),_d=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Yf.fromName(r.referenceValue),i}return(0,hf.ZT)(e,t),e.prototype.matches=function(t){var e=Yf.comparator(t.key,this.key);return this.m(e)},e}(bd),wd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Cd(0,n),r}return(0,hf.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(bd),xd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Cd(0,n),r}return(0,hf.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(bd);function Cd(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Yf.fromName(t.referenceValue)})}var Sd=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,hf.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return sd(e)&&Xf(e.arrayValue,this.value)},e}(bd),Td=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,hf.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Xf(this.value.arrayValue,e)},e}(bd),Ed=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,hf.ZT)(e,t),e.prototype.matches=function(t){if(Xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Xf(this.value.arrayValue,e)},e}(bd),kd=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,hf.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!sd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Xf(e.value.arrayValue,t)})},e}(bd),Od=function(t,e){this.position=t,this.before=e};function Id(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return nd(t)}).join(",")}var Ad=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Pd(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Rd(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Yf.comparator(Yf.fromName(s.referenceValue),n.key):td(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Nd(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Qf(t.position[n],e.position[n]))return!1;return!0}var Dd=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Md(t,e,n,r,i,o,s,a){return new Dd(t,e,n,r,i,o,s,a)}function Ld(t){return new Dd(t)}function Fd(t){return!$f(t.limit)&&"F"===t.limitType}function Ud(t){return!$f(t.limit)&&"L"===t.limitType}function jd(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Vd(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function qd(t){return null!==t.collectionGroup}function Zd(t){var e=Cf(t);if(null===e.p){e.p=[];var n=Vd(e),r=jd(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Ad(n)),e.p.push(new Ad(Ff.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ad(Ff.keyField(),u))}}}return e.p}function Bd(t){var e=Cf(t);if(!e.T)if("F"===e.limitType)e.T=gd(e.path,e.collectionGroup,Zd(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Zd(e);r<i.length;r++){var o=i[r];n.push(new Ad(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Od(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Od(e.startAt.position,!e.startAt.before):null;e.T=gd(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function zd(t,e,n){return new Dd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hd(t,e){return yd(Bd(t),Bd(e))&&t.limitType===e.limitType}function Gd(t){return md(Bd(t))+"|lt:"+t.limitType}function $d(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+nd(e.value);var e}).join(", ")+"]"),$f(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Id(t.startAt)),t.endAt&&(e+=", endAt: "+Id(t.endAt)),"Target("+e+")"}(Bd(t))+"; limitType="+t.limitType+")"}function Jd(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Yf.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Rd(t.startAt,Zd(t),e)||t.endAt&&Rd(t.endAt,Zd(t),e))}(t,e)}function Wd(t){return function(e,n){for(var r=!1,i=0,o=Zd(t);i<o.length;i++){var s=o[i],a=Yd(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Yd(t,e,n){var r=t.field.isKeyField()?Yf.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?td(r,i):wf()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return wf()}}function Kd(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function Qd(t){return{integerValue:""+t}}function Xd(t,e){return Wf(e)?Qd(e):Kd(t,e)}var tp=function(){this._=void 0};function ep(t,e,n){return t instanceof ip?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof op?sp(t,e):t instanceof ap?up(t,e):function(t,e){var n=rp(t,e),r=lp(n)+lp(t.A);return od(n)&&od(t.A)?Qd(r):Kd(t.R,r)}(t,e)}function np(t,e,n){return t instanceof op?sp(t,e):t instanceof ap?up(t,e):n}function rp(t,e){return t instanceof cp?od(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,hf.ZT)(e,t),e}(tp),op=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,hf.ZT)(e,t),e}(tp);function sp(t,e){for(var n=hp(e),r=function(t){n.some(function(e){return Qf(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ap=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,hf.ZT)(e,t),e}(tp);function up(t,e){for(var n=hp(e),r=function(t){n=n.filter(function(e){return!Qf(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var cp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,hf.ZT)(e,t),e}(tp);function lp(t){return Zf(t.integerValue||t.doubleValue)}function hp(t){return sd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var fp=function(t,e){this.field=t,this.transform=e},dp=function(t,e){this.version=t,this.transformResults=e},pp=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function gp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var mp=function(){};function yp(t,e,n){t instanceof xp?function(t,e,n){var r=t.value.clone(),i=Tp(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Cp?function(t,e,n){if(gp(t.precondition,e)){var r=Tp(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Sp(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function vp(t,e,n){t instanceof xp?function(t,e,n){if(gp(t.precondition,e)){var r=t.value.clone(),i=Ep(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(wp(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Cp?function(t,e,n){if(gp(t.precondition,e)){var r=Ep(t.fieldTransforms,n,e),i=e.data;i.setAll(Sp(t)),i.setAll(r),e.convertToFoundDocument(wp(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){gp(t.precondition,e)&&e.convertToNoDocument(Af.min())}(t,e)}function bp(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=rp(o.transform,s||null);null!=a&&(null==n&&(n=hd.empty()),n.set(o.field,a))}return n||null}function _p(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&kf(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof op&&e instanceof op||t instanceof ap&&e instanceof ap?kf(t.elements,e.elements,Qf):t instanceof cp&&e instanceof cp?Qf(t.A,e.A):t instanceof ip&&e instanceof ip}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function wp(t){return t.isFoundDocument()?t.version:Af.min()}var xp=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,hf.ZT)(e,t),e}(mp),Cp=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,hf.ZT)(e,t),e}(mp);function Sp(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Tp(t,e,n){var r=new Map;xf(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,np(s,a,n[i]))}return r}function Ep(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,ep(a,u,e))}return r}var kp,Op,Ip=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,hf.ZT)(e,t),e}(mp),Ap=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,hf.ZT)(e,t),e}(mp),Pp=function(t){this.count=t};function Rp(t){switch(t){case df.OK:return wf();case df.CANCELLED:case df.UNKNOWN:case df.DEADLINE_EXCEEDED:case df.RESOURCE_EXHAUSTED:case df.INTERNAL:case df.UNAVAILABLE:case df.UNAUTHENTICATED:return!1;case df.INVALID_ARGUMENT:case df.NOT_FOUND:case df.ALREADY_EXISTS:case df.PERMISSION_DENIED:case df.FAILED_PRECONDITION:case df.ABORTED:case df.OUT_OF_RANGE:case df.UNIMPLEMENTED:case df.DATA_LOSS:return!0;default:return wf()}}function Np(t){if(void 0===t)return vf("GRPC error has no .code"),df.UNKNOWN;switch(t){case kp.OK:return df.OK;case kp.CANCELLED:return df.CANCELLED;case kp.UNKNOWN:return df.UNKNOWN;case kp.DEADLINE_EXCEEDED:return df.DEADLINE_EXCEEDED;case kp.RESOURCE_EXHAUSTED:return df.RESOURCE_EXHAUSTED;case kp.INTERNAL:return df.INTERNAL;case kp.UNAVAILABLE:return df.UNAVAILABLE;case kp.UNAUTHENTICATED:return df.UNAUTHENTICATED;case kp.INVALID_ARGUMENT:return df.INVALID_ARGUMENT;case kp.NOT_FOUND:return df.NOT_FOUND;case kp.ALREADY_EXISTS:return df.ALREADY_EXISTS;case kp.PERMISSION_DENIED:return df.PERMISSION_DENIED;case kp.FAILED_PRECONDITION:return df.FAILED_PRECONDITION;case kp.ABORTED:return df.ABORTED;case kp.OUT_OF_RANGE:return df.OUT_OF_RANGE;case kp.UNIMPLEMENTED:return df.UNIMPLEMENTED;case kp.DATA_LOSS:return df.DATA_LOSS;default:return wf()}}(Op=kp||(kp={}))[Op.OK=0]="OK",Op[Op.CANCELLED=1]="CANCELLED",Op[Op.UNKNOWN=2]="UNKNOWN",Op[Op.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Op[Op.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Op[Op.NOT_FOUND=5]="NOT_FOUND",Op[Op.ALREADY_EXISTS=6]="ALREADY_EXISTS",Op[Op.PERMISSION_DENIED=7]="PERMISSION_DENIED",Op[Op.UNAUTHENTICATED=16]="UNAUTHENTICATED",Op[Op.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Op[Op.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Op[Op.ABORTED=10]="ABORTED",Op[Op.OUT_OF_RANGE=11]="OUT_OF_RANGE",Op[Op.UNIMPLEMENTED=12]="UNIMPLEMENTED",Op[Op.INTERNAL=13]="INTERNAL",Op[Op.UNAVAILABLE=14]="UNAVAILABLE",Op[Op.DATA_LOSS=15]="DATA_LOSS";var Dp=function(){function t(t,e){this.comparator=t,this.root=e||Lp.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lp.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lp.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Mp(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Mp(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Mp(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Mp(this.root,t,this.comparator,!0)},t}(),Mp=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Lp=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw wf();if(this.right.isRed())throw wf();var t=this.left.check();if(t!==this.right.check())throw wf();return t+(this.isRed()?0:1)},t}();Lp.EMPTY=null,Lp.RED=!0,Lp.BLACK=!1,Lp.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw wf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw wf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw wf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw wf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw wf()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Lp(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Fp=function(){function t(t){this.comparator=t,this.data=new Dp(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Up(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Up(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Up=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),jp=new Dp(Yf.comparator);function Vp(){return jp}var qp=new Dp(Yf.comparator);function Zp(){return qp}var Bp=new Dp(Yf.comparator);function zp(){return Bp}var Hp=new Fp(Yf.comparator);function Gp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Hp,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var $p=new Fp(Ef);function Jp(){return $p}var Wp=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Yp.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Af.min(),r,Jp(),Vp(),Gp())},t}(),Yp=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(jf.EMPTY_BYTE_STRING,n,Gp(),Gp(),Gp())},t}(),Kp=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Qp=function(t,e){this.targetId=t,this.V=e},Xp=function(t,e,n,r){void 0===n&&(n=jf.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},tg=function(){function t(){this.S=0,this.D=rg(),this.C=jf.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Gp(),e=Gp(),n=Gp();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:wf()}}),new Yp(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=rg()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),eg=function(){function t(t){this.W=t,this.G=new Map,this.H=Vp(),this.J=ng(),this.Y=new Fp(Ef)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:wf()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(vd(i))if(0===n){var o=new Yf(i.path);this.tt(e,o,dd.newNoDocument(o,Af.min()))}else xf(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&vd(o.target)){var s=new Yf(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,dd.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Gp();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Wp(t,n,this.Y,this.H,r);return this.H=Vp(),this.J=ng(),this.Y=new Fp(Ef),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new tg,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Fp(Ef),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||yf("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new tg),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ng(){return new Dp(Yf.comparator)}function rg(){return new Dp(Yf.comparator)}var ig={asc:"ASCENDING",desc:"DESCENDING"},og={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sg=function(t,e){this.databaseId=t,this.I=e};function ag(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ug(t,e){return t.I?e.toBase64():e.toUint8Array()}function cg(t,e){return ag(t,e.toTimestamp())}function lg(t){return xf(!!t),Af.fromTimestamp(function(t){var e=qf(t);return new If(e.seconds,e.nanos)}(t))}function hg(t,e){return function(t){return new Mf(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function fg(t){var e=Mf.fromString(t);return xf(Lg(e)),e}function dg(t,e){return hg(t.databaseId,e.path)}function pg(t,e){var n=fg(e);if(n.get(1)!==t.databaseId.projectId)throw new pf(df.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pf(df.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Yf(vg(n))}function gg(t,e){return hg(t.databaseId,e)}function mg(t){var e=fg(t);return 4===e.length?Mf.emptyPath():vg(e)}function yg(t){return new Mf(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vg(t){return xf(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function bg(t,e,n){return{name:dg(t,e),fields:n.value.mapValue.fields}}function _g(t,e,n){var r=pg(t,e.name),i=lg(e.updateTime),o=new hd({mapValue:{fields:e.fields}}),s=dd.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function wg(t,e){var n;if(e instanceof xp)n={update:bg(t,e.key,e.value)};else if(e instanceof Ip)n={delete:dg(t,e.key)};else if(e instanceof Cp)n={update:bg(t,e.key,e.data),updateMask:Mg(e.fieldMask)};else{if(!(e instanceof Ap))return wf();n={verify:dg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof ip)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof op)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ap)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof cp)return{fieldPath:e.field.canonicalString(),increment:n.A};throw wf()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:cg(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:wf()}(t,e.precondition)),n}function xg(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?pp.updateTime(lg(t.updateTime)):void 0!==t.exists?pp.exists(t.exists):pp.none()}(e.currentDocument):pp.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(xf("REQUEST_TIME"===e.setToServerValue),n=new ip):"appendMissingElements"in e?n=new op(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new ap(e.removeAllFromArray.values||[]):"increment"in e?n=new cp(t,e.increment):wf();var r=Ff.fromServerFormat(e.fieldPath);return new fp(r,n)}(t,e)}):[];if(e.update){var i=pg(t,e.update.name),o=new hd({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Uf((t.fieldPaths||[]).map(function(t){return Ff.fromServerFormat(t)}))}(e.updateMask);return new Cp(i,o,s,n,r)}return new xp(i,o,n,r)}if(e.delete){var a=pg(t,e.delete);return new Ip(a,n)}if(e.verify){var u=pg(t,e.verify);return new Ap(u,n)}return wf()}function Cg(t,e){return{documents:[gg(t,e.path)]}}function Sg(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=gg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=gg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(ud(t.value))return{unaryFilter:{field:Pg(t.field),op:"IS_NAN"}};if(ad(t.value))return{unaryFilter:{field:Pg(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ud(t.value))return{unaryFilter:{field:Pg(t.field),op:"IS_NOT_NAN"}};if(ad(t.value))return{unaryFilter:{field:Pg(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pg(t.field),op:Ag(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Pg(t.field),direction:Ig(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||$f(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=kg(e.startAt)),e.endAt&&(n.structuredQuery.endAt=kg(e.endAt)),n}function Tg(t){var e=mg(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xf(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Eg(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Ad(Rg(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return $f(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Og(n.startAt));var l=null;return n.endAt&&(l=Og(n.endAt)),Md(e,i,a,s,u,"F",c,l)}function Eg(t){return t?void 0!==t.unaryFilter?[Dg(t)]:void 0!==t.fieldFilter?[Ng(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Eg(t)}).reduce(function(t,e){return t.concat(e)}):wf():[]}function kg(t){return{before:t.before,values:t.position}}function Og(t){return new Od(t.values||[],!!t.before)}function Ig(t){return ig[t]}function Ag(t){return og[t]}function Pg(t){return{fieldPath:t.canonicalString()}}function Rg(t){return Ff.fromServerFormat(t.fieldPath)}function Ng(t){return bd.create(Rg(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return wf()}}(t.fieldFilter.op),t.fieldFilter.value)}function Dg(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Rg(t.unaryFilter.field);return bd.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Rg(t.unaryFilter.field);return bd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Rg(t.unaryFilter.field);return bd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Rg(t.unaryFilter.field);return bd.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return wf()}}function Mg(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Lg(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Fg(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=jg(e)),e=Ug(t.get(n),e);return jg(e)}function Ug(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function jg(t){return t+"\x01\x01"}function Vg(t){var e=t.length;if(xf(e>=2),2===e)return xf("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Mf.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&wf(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:wf()}o=s+2}return new Mf(r)}var qg=function(t,e){this.seconds=t,this.nanoseconds=e},Zg=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Zg.store="owner",Zg.key="owner";var Bg=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Bg.store="mutationQueues",Bg.keyPath="userId";var zg=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};zg.store="mutations",zg.keyPath="batchId",zg.userMutationsIndex="userMutationsIndex",zg.userMutationsKeyPath=["userId","batchId"];var Hg=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Fg(e)]},t.key=function(t,e,n){return[t,Fg(e),n]},t}();Hg.store="documentMutations",Hg.PLACEHOLDER=new Hg;var Gg=function(t,e){this.path=t,this.readTime=e},$g=function(t,e){this.path=t,this.version=e},Jg=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Jg.store="remoteDocuments",Jg.readTimeIndex="readTimeIndex",Jg.readTimeIndexPath="readTime",Jg.collectionReadTimeIndex="collectionReadTimeIndex",Jg.collectionReadTimeIndexPath=["parentPath","readTime"];var Wg=function(t){this.byteSize=t};Wg.store="remoteDocumentGlobal",Wg.key="remoteDocumentGlobalKey";var Yg=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Yg.store="targets",Yg.keyPath="targetId",Yg.queryTargetsIndexName="queryTargetsIndex",Yg.queryTargetsKeyPath=["canonicalId","targetId"];var Kg=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Kg.store="targetDocuments",Kg.keyPath=["targetId","path"],Kg.documentTargetsIndex="documentTargetsIndex",Kg.documentTargetsKeyPath=["path","targetId"];var Qg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qg.key="targetGlobalKey",Qg.store="targetGlobal";var Xg=function(t,e){this.collectionId=t,this.parent=e};Xg.store="collectionParents",Xg.keyPath=["collectionId","parent"];var tm=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};tm.store="clientMetadata",tm.keyPath="clientId";var em=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};em.store="bundles",em.keyPath="bundleId";var nm=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};nm.store="namedQueries",nm.keyPath="name";var rm=(0,hf.ev)((0,hf.ev)([],(0,hf.ev)((0,hf.ev)([],(0,hf.ev)((0,hf.ev)([],(0,hf.ev)((0,hf.ev)([],[Bg.store,zg.store,Hg.store,Jg.store,Yg.store,Zg.store,Qg.store,Kg.store]),[tm.store])),[Wg.store])),[Xg.store])),[em.store,nm.store]),im="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",om=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),sm=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},am=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&wf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),um=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new sm,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new hm(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=mm(e.target.error);n.ft.reject(new hm(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new hm(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(yf("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new dm(e)},t}(),cm=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,tu.z$)())&&vf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return yf("SimpleDb","Removing database:",t),pm(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,tu.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,hf.mG)(this,void 0,void 0,function(){var e,n=this;return(0,hf.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(yf("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new hm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new pf(df.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new hm(t,n))},i.onupgradeneeded=function(t){yf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){yf("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,hf.mG)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,hf.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return(0,hf.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=um.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),am.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return yf("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),lm=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return pm(this.Pt.delete())},t}(),hm=function(t){function e(e,n){var r=this;return(r=t.call(this,df.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,hf.ZT)(e,t),e}(pf);function fm(t){return"IndexedDbTransactionError"===t.name}var dm=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(yf("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(yf("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),pm(n)},t.prototype.add=function(t){return yf("SimpleDb","ADD",this.store.name,t,t),pm(this.store.add(t))},t.prototype.get=function(t){var e=this;return pm(this.store.get(t)).next(function(n){return void 0===n&&(n=null),yf("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return yf("SimpleDb","DELETE",this.store.name,t),pm(this.store.delete(t))},t.prototype.count=function(){return yf("SimpleDb","COUNT",this.store.name),pm(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){yf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new am(function(n,r){e.onerror=function(t){var e=mm(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new am(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new lm(i),s=e(i.primaryKey,i.value,o);if(s instanceof am){var a=s.catch(function(t){return o.done(),am.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return am.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function pm(t){return new am(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=mm(t.target.error);n(e)}})}var gm=!1;function mm(t){var e=cm._t((0,tu.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new pf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return gm||(gm=!0,setTimeout(function(){throw r},0)),r}}return t}var ym=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,hf.ZT)(e,t),e}(om);function vm(t,e){var n=Cf(t);return cm.It(n.Mt,e)}var bm=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&yp(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&vp(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&vp(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Af.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Gp())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&kf(this.mutations,t.mutations,function(t,e){return _p(t,e)})&&kf(this.baseMutations,t.baseMutations,function(t,e){return _p(t,e)})},t}(),_m=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){xf(e.mutations.length===r.length);for(var i=zp(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),wm=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Af.min()),void 0===o&&(o=Af.min()),void 0===s&&(s=jf.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),xm=function(t){this.Lt=t};function Cm(t,e){if(e.document)return _g(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Yf.fromSegments(e.noDocument.path),r=Om(e.noDocument.readTime),i=dd.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Yf.fromSegments(e.unknownDocument.path);return r=Om(e.unknownDocument.version),dd.newUnknownDocument(o,r)}return wf()}function Sm(t,e,n){var r=Tm(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:dg(t,e.key),fields:e.data.value.mapValue.fields,updateTime:ag(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Jg(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=km(e.version);return s=e.hasCommittedMutations,new Jg(null,new Gg(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=km(e.version);return new Jg(new $g(c,l),null,null,!0,r,i)}return wf()}function Tm(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Em(t){var e=new If(t[0],t[1]);return Af.fromTimestamp(e)}function km(t){var e=t.toTimestamp();return new qg(e.seconds,e.nanoseconds)}function Om(t){var e=new If(t.seconds,t.nanoseconds);return Af.fromTimestamp(e)}function Im(t,e){for(var n=(e.baseMutations||[]).map(function(e){return xg(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return xg(t.Lt,e)}),o=If.fromMillis(e.localWriteTimeMs);return new bm(e.batchId,o,n,i)}function Am(t){var e,n,r=Om(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Om(t.lastLimboFreeSnapshotVersion):Af.min();return void 0!==t.query.documents?(xf(1===(n=t.query).documents.length),e=Bd(Ld(mg(n.documents[0])))):e=function(t){return Bd(Tg(t))}(t.query),new wm(e,t.targetId,0,t.lastListenSequenceNumber,r,i,jf.fromBase64String(t.resumeToken))}function Pm(t,e){var n,r=km(e.snapshotVersion),i=km(e.lastLimboFreeSnapshotVersion);n=vd(e.target)?Cg(t.Lt,e.target):Sg(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Yg(e.targetId,md(e.target),r,o,e.sequenceNumber,i,n)}function Rm(t){var e=Tg({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?zd(e,e.limit,"L"):e}var Nm=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Dm(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Om(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Dm(t).put({bundleId:(n=e).id,createTime:km(lg(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Mm(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Rm(e.bundledQuery),readTime:Om(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Mm(t).put(function(t){return{name:t.name,readTime:km(lg(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Dm(t){return vm(t,em.store)}function Mm(t){return vm(t,nm.store)}var Lm=function(){function t(){this.Bt=new Fm}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),am.resolve()},t.prototype.getCollectionParents=function(t,e){return am.resolve(this.Bt.getEntries(e))},t}(),Fm=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Fp(Mf.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Fp(Mf.comparator)).toArray()},t}(),Um=function(){function t(){this.qt=new Fm}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Fg(i)};return jm(t).put(o)}return am.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Of(e),""],!1,!0);return jm(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Vg(o.parent))}return n})},t}();function jm(t){return vm(t,Xg.store)}var Vm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qm=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Zm(t,e,n){var r=t.store(zg.store),i=t.store(Hg.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){xf(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Hg.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return am.waitFor(o).next(function(){return c})}function Bm(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw wf();e=t.noDocument}return JSON.stringify(e).length}qm.DEFAULT_COLLECTION_PERCENTILE=10,qm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qm.DEFAULT=new qm(41943040,qm.DEFAULT_COLLECTION_PERCENTILE,qm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qm.DISABLED=new qm(-1,0,0);var zm=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return xf(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gm(t).$t({index:zg.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=$m(t),s=Gm(t);return s.add({}).next(function(a){xf("number"==typeof a);for(var u=new bm(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return wg(t.Lt,e)}),i=n.mutations.map(function(e){return wg(t.Lt,e)});return new zg(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Fp(function(t,e){return Ef(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Hg.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Hg.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),am.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Gm(t).get(e).next(function(t){return t?(xf(t.userId===n.userId),Im(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?am.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Gm(t).$t({index:zg.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(xf(e.batchId>=r),o=Im(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Gm(t).$t({index:zg.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gm(t).Nt(zg.userMutationsIndex,n).next(function(t){return t.map(function(t){return Im(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Hg.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return $m(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=Vg(r[1]);if(a===n.userId&&e.path.isEqual(c))return Gm(t).get(u).next(function(t){if(!t)throw wf();xf(t.userId===n.userId),o.push(Im(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Fp(Ef),i=[];return e.forEach(function(e){var o=Hg.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=$m(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=Vg(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),am.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Hg.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Fp(Ef);return $m(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=Vg(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Gm(t).get(e).next(function(t){if(null===t)throw wf();xf(t.userId===n.userId),r.push(Im(n.R,t))}))}),am.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Zm(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),am.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return am.resolve();var r=IDBKeyRange.lowerBound(Hg.prefixForUser(e.userId)),i=[];return $m(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=Vg(t[1]);i.push(o)}else r.done()}).next(function(){xf(0===i.length)})})},t.prototype.containsKey=function(t,e){return Hm(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Jm(t).get(this.userId).next(function(t){return t||new Bg(e.userId,-1,"")})},t}();function Hm(t,e,n){var r=Hg.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return $m(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Gm(t){return vm(t,zg.store)}function $m(t){return vm(t,Hg.store)}function Jm(t){return vm(t,Bg.store)}var Wm=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Ym=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Wm(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Af.fromTimestamp(new If(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Km(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return xf(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Km(t).$t(function(s,a){var u=Am(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return am.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Km(t).$t(function(t,n){var r=Am(n);e(r)})},t.prototype.Xt=function(t){return Qm(t).get(Qg.key).next(function(t){return xf(null!==t),t})},t.prototype.Zt=function(t,e){return Qm(t).put(Qg.key,e)},t.prototype.te=function(t,e){return Km(t).put(Pm(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=md(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Km(t).$t({range:r,index:Yg.queryTargetsIndexName},function(t,n,r){var o=Am(n);yd(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Xm(t);return e.forEach(function(e){var s=Fg(e.path);i.push(o.put(new Kg(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),am.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Xm(t);return am.forEach(e,function(e){var o=Fg(e.path);return am.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Xm(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Xm(t),i=Gp();return r.$t({range:n,kt:!0},function(t,e,n){var r=Vg(t[1]),o=new Yf(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Fg(e.path),r=IDBKeyRange.bound([n],[Of(n)],!1,!0),i=0;return Xm(t).$t({index:Kg.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Km(t).get(e).next(function(t){return t?Am(t):null})},t}();function Km(t){return vm(t,Yg.store)}function Qm(t){return vm(t,Qg.store)}function Xm(t){return vm(t,Kg.store)}function ty(t){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){if(t.code!==df.FAILED_PRECONDITION||t.message!==im)throw t;return yf("LocalStore","Unexpectedly lost primary lease"),[2]})})}function ey(t,e){var n=t[1],r=e[1],i=Ef(t[0],e[0]);return 0===i?Ef(n,r):i}var ny=function(){function t(t){this.ne=t,this.buffer=new Fp(ey),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ey(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ry=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;yf("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,hf.mG)(e,void 0,void 0,function(){var e;return(0,hf.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return fm(e=n.sent())?(yf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ty(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),iy=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return am.resolve(ff.o);var r=new ny(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(yf("LruGarbageCollector","Garbage collection skipped; disabled"),am.resolve(Vm)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(yf("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Vm):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(yf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),mf()<=eu.in.DEBUG&&yf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),am.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),oy=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new iy(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return sy(t,n)},t.prototype.removeReference=function(t,e,n){return sy(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return sy(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Jm(t).Ot(function(r){return Hm(t,r,e).next(function(t){return t&&(n=!0),am.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Xm(t).delete([0,Fg(s.path)])})});i.push(u)}}).next(function(){return am.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return sy(t,e)},t.prototype.we=function(t,e){var n,r=Xm(t),i=ff.o;return r.$t({index:Kg.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==ff.o&&e(new Yf(Vg(n)),i),i=s,n=o):i=ff.o}).next(function(){i!==ff.o&&e(new Yf(Vg(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function sy(t,e){return Xm(t).put(function(t,e){return new Kg(0,Fg(t.path),e)}(e,t.currentSequenceNumber))}var ay=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Rf(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Nf(this.inner)},t}(),uy=function(){function t(){this.changes=new ay(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Af.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:dd.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?am.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),cy=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return fy(t).put(dy(e),n)},t.prototype.removeEntry=function(t,e){var n=fy(t),r=dy(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return fy(t).get(dy(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return fy(t).get(dy(e)).next(function(t){return{document:n.ye(e,t),size:Bm(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Vp();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Vp(),i=new Dp(Yf.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Bm(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return am.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return fy(t).$t({range:r},function(t,e,r){for(var s=Yf.fromSegments(t);o&&Yf.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Vp(),o=e.path.length+1,s={};if(n.isEqual(Af.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Tm(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Jg.collectionReadTimeIndex}return fy(t).$t(s,function(t,n,s){if(t.length===o){var a=Cm(r.R,n);e.path.isPrefixOf(a.key.path)?Jd(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new ly(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return hy(t).get(Wg.key).next(function(t){return xf(!!t),t})},t.prototype.me=function(t,e){return hy(t).put(Wg.key,e)},t.prototype.ye=function(t,e){if(e){var n=Cm(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Af.min()))return n}return dd.newInvalidDocument(t)},t}(),ly=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new ay(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,hf.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Fp(function(t,e){return Ef(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Sm(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Bm(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Sm(e.Ie.R,dd.newNoDocument(o,Af.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),am.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(uy);function hy(t){return vm(t,Wg.store)}function fy(t){return vm(t,Jg.store)}function dy(t){return t.path.toArray()}var py=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;xf(n<r&&n>=0&&r<=11);var o=new um("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Zg.store)}(t),function(t){t.createObjectStore(Bg.store,{keyPath:Bg.keyPath}),t.createObjectStore(zg.store,{keyPath:zg.keyPath,autoIncrement:!0}).createIndex(zg.userMutationsIndex,zg.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Hg.store)}(t),gy(t),function(t){t.createObjectStore(Jg.store)}(t));var s=am.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Kg.store),t.deleteObjectStore(Yg.store),t.deleteObjectStore(Qg.store)}(t),gy(t)),s=s.next(function(){return function(t){var e=t.store(Qg.store),n=new Qg(0,0,Af.min().toTimestamp(),0);return e.put(Qg.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(zg.store).Nt().next(function(n){t.deleteObjectStore(zg.store),t.createObjectStore(zg.store,{keyPath:zg.keyPath,autoIncrement:!0}).createIndex(zg.userMutationsIndex,zg.userMutationsKeyPath,{unique:!0});var r=e.store(zg.store),i=n.map(function(t){return r.put(t)});return am.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(tm.store,{keyPath:tm.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Wg.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Jg.store);e.createIndex(Jg.readTimeIndex,Jg.readTimeIndexPath,{unique:!1}),e.createIndex(Jg.collectionReadTimeIndex,Jg.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(em.store,{keyPath:em.keyPath})}(t),function(t){t.createObjectStore(nm.store,{keyPath:nm.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Jg.store).$t(function(t,n){e+=Bm(n)}).next(function(){var n=new Wg(e);return t.store(Wg.store).put(Wg.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Bg.store),r=t.store(zg.store);return n.Nt().next(function(n){return am.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(zg.userMutationsIndex,i).next(function(r){return am.forEach(r,function(r){xf(r.userId===n.userId);var i=Im(e.R,r);return Zm(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Kg.store),n=t.store(Jg.store);return t.store(Qg.store).get(Qg.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Mf(n),s=function(t){return[0,Fg(t)]}(o);r.push(e.get(s).next(function(n){return n?am.resolve():function(n){return e.put(new Kg(0,Fg(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return am.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Xg.store,{keyPath:Xg.keyPath});var n=e.store(Xg.store),r=new Fm,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Fg(i)})}};return e.store(Jg.store).$t({kt:!0},function(t,e){var n=new Mf(t);return i(n.popLast())}).next(function(){return e.store(Hg.store).$t({kt:!0},function(t,e){var n=Vg(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Yg.store);return n.$t(function(t,r){var i=Am(r),o=Pm(e.R,i);return n.put(o)})},t}();function gy(t){t.createObjectStore(Kg.store,{keyPath:Kg.keyPath}).createIndex(Kg.documentTargetsIndex,Kg.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Yg.store,{keyPath:Yg.keyPath}).createIndex(Yg.queryTargetsIndexName,Yg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Qg.store)}var my="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yy=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new pf(df.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oy(this,i),this.Le=n+"main",this.R=new xm(u),this.Be=new cm(this.Le,11,new py(this.R)),this.qe=new Ym(this.referenceDelegate,this.R),this.Ut=new Um,this.Ue=function(t,e){return new cy(t,e)}(this.R,this.Ut),this.Qe=new Nm,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&vf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new pf(df.FAILED_PRECONDITION,my);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new ff(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,hf.mG)(e,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,hf.mG)(e,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,hf.mG)(e,void 0,void 0,function(){return(0,hf.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return by(e).put(new tm(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(fm(e))return yf("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return yf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return vy(t).get(Zg.key).next(function(t){return am.resolve(e.tn(t))})},t.prototype.en=function(t){return by(t).delete(this.clientId)},t.prototype.nn=function(){return(0,hf.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,hf.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=vm(t,tm.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return am.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?am.resolve(!0):vy(t).get(Zg.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new pf(df.FAILED_PRECONDITION,my);return!1}}return!(!e.networkEnabled||!e.inForeground)||by(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&yf("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,hf.mG)(this,void 0,void 0,function(){var t=this;return(0,hf.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Zg.store,tm.store],function(e){var n=new ym(e,ff.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return by(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return zm.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return yf("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",rm,function(o){return r=new ym(o,i.Ne?i.Ne.next():ff.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw vf("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new pf(df.FAILED_PRECONDITION,im);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return vy(t).get(Zg.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new pf(df.FAILED_PRECONDITION,my)})},t.prototype.Ze=function(t){var e=new Zg(this.clientId,this.allowTabSynchronization,Date.now());return vy(t).put(Zg.key,e)},t.yt=function(){return cm.yt()},t.prototype.Xe=function(t){var e=this,n=vy(t);return n.get(Zg.key).next(function(t){return e.tn(t)?(yf("IndexedDbPersistence","Releasing primary lease."),n.delete(Zg.key)):am.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(vf("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return yf("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return vf("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){vf("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function vy(t){return vm(t,Zg.store)}function by(t){return vm(t,tm.store)}function _y(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var wy=function(t,e){this.progress=t,this.wn=e},xy=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Yf.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):qd(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Yf(e)).next(function(t){var e=Zp();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Zp();return this.Ut.getCollectionParents(t,i).next(function(s){return am.forEach(s,function(s){var a=function(t,e){return new Dd(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=dd.newInvalidDocument(c),r=r.insert(c,l)),vp(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Jd(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Gp(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Cp&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Cy=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Gp(),i=Gp(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Sy=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Af.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(Fd(e)||Ud(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(mf()<=eu.in.DEBUG&&yf("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),$d(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Fp(Wd(t));return e.forEach(function(e,r){Jd(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return mf()<=eu.in.DEBUG&&yf("QueryEngine","Using full collection scan to execute query:",$d(e)),this.Sn.getDocumentsMatchingQuery(t,e,Af.min())},t}(),Ty=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Dp(Ef),this.kn=new ay(function(t){return md(t)},yd),this.$n=Af.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new xy(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Ey(t,e,n,r){return new Ty(t,e,n,r)}function ky(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,hf.Jh)(this,function(s){switch(s.label){case 0:return n=Cf(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new xy(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Gp(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Oy(t,e){var n=Cf(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=am.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);xf(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Iy(t){var e=Cf(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Ay(t,e){var n=Cf(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return xf(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=Vp();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Py(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Af.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return am.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Py(t,e,n,r,i){var o=Gp();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Vp();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Af.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):yf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Ry(t,e){var n=Cf(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Ny(t,e){var n=Cf(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?am.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new wm(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Dy(t,e,n){return(0,hf.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,hf.Jh)(this,function(a){switch(a.label){case 0:r=Cf(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!fm(s=a.sent()))throw s;return yf("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function My(t,e,n){var r=Cf(t),i=Af.min(),o=Gp();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Cf(t),i=r.kn.get(n);return void 0!==i?am.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Bd(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Af.min(),n?o:Gp())}).next(function(t){return{documents:t,Bn:o}})})}function Ly(t,e){var n=Cf(t),r=Cf(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Fy(t){var e=Cf(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Cf(t),i=Vp(),o=Tm(n),s=fy(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Jg.readTimeIndex,range:a},function(t,e){var n=Cm(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Em(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function Uy(t){return(0,hf.mG)(this,void 0,void 0,function(){var e;return(0,hf.Jh)(this,function(n){return[2,(e=Cf(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=fy(t),n=Af.min();return e.$t({index:Jg.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Em(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function jy(t,e,n,r){return(0,hf.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return(0,hf.Jh)(this,function(p){switch(p.label){case 0:for(i=Cf(t),o=Gp(),s=Vp(),a=zp(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Ny(i,function(t){return Bd(Ld(Mf.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Py(t,f,s,Af.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Vy(t,e,n){return void 0===n&&(n=Gp()),(0,hf.mG)(this,void 0,void 0,function(){var r,i;return(0,hf.Jh)(this,function(o){switch(o.label){case 0:return[4,Ny(t,Bd(Rm(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Cf(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=lg(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(jf.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var qy=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return am.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:lg(n.createTime)}),am.resolve()},t.prototype.getNamedQuery=function(t,e){return am.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Rm(t.bundledQuery),readTime:lg(t.readTime)}}(e)),am.resolve()},t}(),Zy=function(){function t(){this.Wn=new Fp(By.Gn),this.zn=new Fp(By.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new By(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new By(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Yf(new Mf([])),r=new By(n,t),i=new By(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Yf(new Mf([])),n=new By(e,t),r=new By(e,t+1),i=Gp();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new By(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),By=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Yf.comparator(t.key,e.key)||Ef(t.ns,e.ns)},t.Hn=function(t,e){return Ef(t.ns,e.ns)||Yf.comparator(t.key,e.key)},t}(),zy=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Fp(By.Gn)}return t.prototype.checkEmpty=function(t){return am.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new bm(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new By(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return am.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return am.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return am.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return am.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return am.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new By(e,0),i=new By(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),am.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Fp(Ef);return e.forEach(function(t){var e=new By(t,0),i=new By(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),am.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Yf.isDocumentKey(i)||(i=i.child(""));var o=new By(new Yf(i),0),s=new Fp(Ef);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),am.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;xf(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return am.forEach(e.mutations,function(i){var o=new By(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new By(e,0),r=this.rs.firstAfterOrEqual(n);return am.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return am.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Hy=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Dp(Yf.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return am.resolve(n?n.document.clone():dd.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Vp();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():dd.newInvalidDocument(t))}),am.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Vp(),i=new Yf(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Jd(e,u)&&(r=r.insert(u.key,u.clone()))}return am.resolve(r)},t.prototype.fs=function(t,e){return am.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Gy(this)},t.prototype.getSize=function(t){return am.resolve(this.size)},t}(),Gy=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,hf.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),am.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(uy),$y=function(){function t(t){this.persistence=t,this.ds=new ay(function(t){return md(t)},yd),this.lastRemoteSnapshotVersion=Af.min(),this.highestTargetId=0,this.ws=0,this._s=new Zy,this.targetCount=0,this.ys=Wm.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),am.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return am.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return am.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),am.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),am.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Wm(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,am.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),am.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,am.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),am.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return am.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return am.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),am.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),am.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),am.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return am.resolve(n)},t.prototype.containsKey=function(t,e){return am.resolve(this._s.containsKey(e))},t}(),Jy=function(){function t(t,e){var n=this;this.gs={},this.Ne=new ff(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new $y(this),this.Ut=new Lm,this.Ue=function(t,e){return new Hy(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new xm(e),this.Qe=new qy(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new zy(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;yf("MemoryPersistence","Starting transaction:",t);var i=new Wy(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return am.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Wy=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,hf.ZT)(e,t),e}(om),Yy=function(){function t(t){this.persistence=t,this.As=new Zy,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw wf()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),am.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),am.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),am.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return am.forEach(this.vs,function(r){var i=Yf.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return am.or([function(){return am.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Ky=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Qy(t,e){return"firestore_clients_"+t+"_"+e}function Xy(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function tv(t,e){return"firestore_targets_"+t+"_"+e}Ky.UNAUTHENTICATED=new Ky(null),Ky.GOOGLE_CREDENTIALS=new Ky("google-credentials-uid"),Ky.FIRST_PARTY=new Ky("first-party-uid");var ev=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new pf(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(vf("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),nv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new pf(i.error.code,i.error.message)),o?new t(e,i.state,r):(vf("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),rv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Jp(),s=0;i&&s<r.activeTargetIds.length;++s)i=Wf(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(vf("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),iv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(vf("SharedClientState","Failed to parse online state: "+e),null)},t}(),ov=function(){function t(){this.activeTargetIds=Jp()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),sv=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Dp(Ef),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Qy(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ov),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,hf.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return(0,hf.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Qy(this.persistenceKey,r)))&&(o=rv.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(tv(this.persistenceKey,t));if(n){var r=nv.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(tv(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return yf("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){yf("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){yf("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(yf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void vf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,hf.mG)(e,void 0,void 0,function(){var t,e,r,i,o,s;return(0,hf.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=ff.o;if(null!=t)try{var n=JSON.parse(t);xf("number"==typeof n),e=n}catch(t){vf("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ff.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new ev(this.currentUser,t,e,n),i=Xy(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Xy(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=tv(this.persistenceKey,t),i=new nv(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return rv.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return ev.Vs(new Ky(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return nv.Vs(r,e)},t.prototype.js=function(t){return iv.Vs(t)},t.prototype.ii=function(t){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(yf("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Jp();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),av=function(){function t(){this.li=new ov,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new ov,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),uv=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),cv=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){yf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){yf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),lv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},hv=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),fv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,hf.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new lf;s.listenOnce(sf.COMPLETE,function(){try{switch(s.getLastErrorCode()){case of.NO_ERROR:var e=s.getResponseJson();yf("Connection","XHR received:",JSON.stringify(e)),i(e);break;case of.TIMEOUT:yf("Connection",'RPC "'+t+'" timed out'),o(new pf(df.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:var n=s.getStatus();if(yf("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(df).indexOf(e)>=0?e:df.UNKNOWN}(r.status);o(new pf(a,r.message))}else o(new pf(df.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new pf(df.UNAVAILABLE,"Connection failed."));break;default:wf()}}finally{yf("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new $h,i=Yc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new uf({})),this.Fi(o.initMessageHeaders,e),(0,tu.uI)()||(0,tu.b$)()||(0,tu.d)()||(0,tu.w1)()||(0,tu.Mn)()||(0,tu.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");yf("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new hv({Ei:function(t){c?yf("Connection","Not sending because WebChannel is closed:",t):(u||(yf("Connection","Opening WebChannel transport."),a.open(),u=!0),yf("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,cf.EventType.OPEN,function(){c||yf("Connection","WebChannel transport opened.")}),h(a,cf.EventType.CLOSE,function(){c||(c=!0,yf("Connection","WebChannel transport closed"),l.Vi())}),h(a,cf.EventType.ERROR,function(t){c||(c=!0,bf("Connection","WebChannel transport errored:",t),l.Vi(new pf(df.UNAVAILABLE,"The operation could not be completed")))}),h(a,cf.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];xf(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){yf("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=kp[t];if(void 0!==e)return Np(e)}(i),s=r.message;void 0===o&&(o=df.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new pf(o,s)),a.close()}else yf("Connection","WebChannel received:",n),l.Si(n)}}),h(i,af.STAT_EVENT,function(t){10===t.stat?yf("Connection","Detected buffering proxy"):11===t.stat&&yf("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);yf("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return yf("RestConnection","Received: ",t),t},function(e){throw bf("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.5",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+lv[t]},t}());function dv(){return"undefined"!=typeof window?window:null}function pv(){return"undefined"!=typeof document?document:null}function gv(t){return new sg(t,!0)}var mv=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&yf("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),yv=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new mv(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===df.RESOURCE_EXHAUSTED?(vf(e.toString()),vf("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===df.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new pf(df.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,hf.mG)(t,void 0,void 0,function(){return(0,hf.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return yf("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(yf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),vv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,hf.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:wf()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(xf(void 0===e||"string"==typeof e),jf.fromBase64String(e||"")):(xf(void 0===e||e instanceof Uint8Array),jf.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?df.UNKNOWN:Np(t.code);return new pf(e,t.message||"")}(a);n=new Xp(r,i,o,s||null)}else if("documentChange"in e){i=pg(t,(r=e.documentChange).document.name),o=lg(r.document.updateTime);var a=new hd({mapValue:{fields:r.document.fields}}),u=(s=dd.newFoundDocument(i,o,a),r.targetIds||[]);n=new Kp(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=pg(t,(r=e.documentDelete).document),o=r.readTime?lg(r.readTime):Af.min(),a=dd.newNoDocument(i,o),n=new Kp([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=pg(t,(r=e.documentRemove).document),n=new Kp([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return wf();var c=e.filter;i=new Pp(r=c.count||0),n=new Qp(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Af.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Af.min():e.readTime?lg(e.readTime):Af.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=yg(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=vd(r)?{documents:Cg(t,r)}:{query:Sg(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ug(t,e.resumeToken):e.snapshotVersion.compareTo(Af.min())>0&&(n.readTime=ag(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wf()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=yg(this.R),e.removeTarget=t,this.cr(e)},e}(yv),bv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,hf.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(xf(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(xf(void 0!==e),t.map(function(t){return function(t,e){var n=lg(t.updateTime?t.updateTime:e);return n.isEqual(Af.min())&&(n=lg(e)),new dp(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=lg(t.commitTime);return this.listener.Tr(n,e)}return xf(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=yg(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return wg(e.R,t)})};this.cr(n)},e}(yv),_v=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,hf.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new pf(df.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===df.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new pf(df.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===df.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new pf(df.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),wv=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(vf(e),this.Vr=!1):yf("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),xv=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,hf.mG)(o,void 0,void 0,function(){return(0,hf.Jh)(this,function(t){switch(t.label){case 0:return Pv(this)?(yf("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,hf.mG)(this,void 0,void 0,function(){var e;return(0,hf.Jh)(this,function(n){switch(n.label){case 0:return(e=Cf(t)).Or.add(4),[4,Sv(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Cv(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new wv(n,r)};function Cv(t){return(0,hf.mG)(this,void 0,void 0,function(){var e,n;return(0,hf.Jh)(this,function(r){switch(r.label){case 0:if(!Pv(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Sv(t){return(0,hf.mG)(this,void 0,void 0,function(){var e,n;return(0,hf.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Tv(t,e){var n=Cf(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Av(n)?Iv(n):Gv(n).er()&&kv(n,e))}function Ev(t,e){var n=Cf(t),r=Gv(n);n.$r.delete(e),r.er()&&Ov(n,e),0===n.$r.size&&(r.er()?r.ir():Pv(n)&&n.Br.set("Unknown"))}function kv(t,e){t.qr.U(e.targetId),Gv(t).mr(e)}function Ov(t,e){t.qr.U(e),Gv(t).yr(e)}function Iv(t){t.qr=new eg({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Gv(t).start(),t.Br.Sr()}function Av(t){return Pv(t)&&!Gv(t).tr()&&t.$r.size>0}function Pv(t){return 0===Cf(t).Or.size}function Rv(t){t.qr=void 0}function Nv(t){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){return t.$r.forEach(function(e,n){kv(t,e)}),[2]})})}function Dv(t,e){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(n){return Rv(t),Av(t)?(t.Br.Nr(e),Iv(t)):t.Br.set("Unknown"),[2]})})}function Mv(t,e,n){return(0,hf.mG)(this,void 0,void 0,function(){var r,i,o;return(0,hf.Jh)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Xp&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,hf.Jh)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),yf("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Lv(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Kp?t.qr.X(e):e instanceof Qp?t.qr.rt(e):t.qr.et(e),n.isEqual(Af.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Iy(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(jf.EMPTY_BYTE_STRING,n.snapshotVersion)),Ov(t,e);var r=new wm(n.target,e,1,n.sequenceNumber);kv(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return yf("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Lv(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Lv(t,e,n){return(0,hf.mG)(this,void 0,void 0,function(){var r=this;return(0,hf.Jh)(this,function(i){switch(i.label){case 0:if(!fm(e))throw e;return t.Or.add(1),[4,Sv(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Iy(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,hf.mG)(r,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){switch(e.label){case 0:return yf("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Cv(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Fv(t,e){return e().catch(function(n){return Lv(t,n,e)})}function Uv(t){return(0,hf.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,hf.Jh)(this,function(s){switch(s.label){case 0:e=Cf(t),n=$v(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Pv(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Ry(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=$v(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Lv(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return jv(e)&&Vv(e),[2]}})})}function jv(t){return Pv(t)&&!$v(t).tr()&&t.kr.length>0}function Vv(t){$v(t).start()}function qv(t){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){return $v(t).Ar(),[2]})})}function Zv(t){return(0,hf.mG)(this,void 0,void 0,function(){var e,n,r;return(0,hf.Jh)(this,function(i){for(e=$v(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Bv(t,e,n){return(0,hf.mG)(this,void 0,void 0,function(){var r,i;return(0,hf.Jh)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=_m.from(r,e,n),[4,Fv(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Uv(t)];case 2:return o.sent(),[2]}})})}function zv(t,e){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(n){switch(n.label){case 0:return e&&$v(t).pr?[4,function(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r;return(0,hf.Jh)(this,function(i){switch(i.label){case 0:return Rp(r=e.code)&&r!==df.ABORTED?(n=t.kr.shift(),$v(t).sr(),[4,Fv(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Uv(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return jv(t)&&Vv(t),[2]}})})}function Hv(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n;return(0,hf.Jh)(this,function(r){switch(r.label){case 0:return n=Cf(t),e?(n.Or.delete(2),[4,Cv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Sv(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Gv(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Cf(t);return r.br(),new vv(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Nv.bind(null,t),Ri:Dv.bind(null,t),_r:Mv.bind(null,t)}),t.Mr.push(function(n){return(0,hf.mG)(e,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Av(t)?Iv(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Rv(t),e.label=3;case 3:return[2]}})})})),t.Ur}function $v(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Cf(t);return r.br(),new bv(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:qv.bind(null,t),Ri:zv.bind(null,t),Ir:Zv.bind(null,t),Tr:Bv.bind(null,t)}),t.Mr.push(function(n){return(0,hf.mG)(e,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Uv(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(yf("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Jv=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new sm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pf(df.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Wv(t,e){if(vf("AsyncQueue",e+": "+t),fm(t))return new pf(df.UNAVAILABLE,e+": "+t);throw t}var Yv=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Yf.comparator(e.key,n.key)}:function(t,e){return Yf.comparator(t.key,e.key)},this.keyedMap=Zp(),this.sortedSet=new Dp(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Kv=function(){function t(){this.Kr=new Dp(Yf.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):wf():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Qv=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Yv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Xv=function(){this.Wr=void 0,this.listeners=[]},tb=function(){this.queries=new ay(function(t){return Gd(t)},Hd),this.onlineState="Unknown",this.Gr=new Set};function eb(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,hf.Jh)(this,function(c){switch(c.label){case 0:if(n=Cf(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Xv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Wv(a,"Initialization of query '"+$d(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&ob(n),[2]}})})}function nb(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,hf.Jh)(this,function(a){return n=Cf(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function rb(t,e){for(var n=Cf(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&ob(n)}function ib(t,e,n){var r=Cf(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function ob(t){t.Gr.forEach(function(t){t.next()})}var sb=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Qv(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Qv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),ab=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),ub=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return pg(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?_g(this.R,t.document,!1):dd.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return lg(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new ub(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Gp()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,hf.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,hf.Jh)(this,function(o){switch(o.label){case 0:return[4,jy(this.localStore,new ub(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Vy(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new wy(Object.assign({},this.progress),t))]}})})}}();var cb=function(t){this.key=t},lb=function(t){this.key=t},hb=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Gp(),this.mutatedKeys=Gp(),this.lo=Wd(t),this.fo=new Yv(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Kv,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Fd(this.query)&&i.size===this.query.limit?i.last():null,c=Ud(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Jd(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Fd(this.query)||Ud(this.query))for(;s.size>this.query.limit;){var l=Fd(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wf()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new Qv(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Kv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Gp(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new lb(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new cb(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Gp();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Qv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),fb=function(t,e,n){this.query=t,this.targetId=e,this.view=n},db=function(t){this.key=t,this.bo=!1},pb=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ay(function(t){return Gd(t)},Hd),this.Vo=new Map,this.So=new Set,this.Do=new Dp(Yf.comparator),this.Co=new Map,this.No=new Zy,this.xo={},this.Fo=new Map,this.ko=Wm.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function gb(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,hf.Jh)(this,function(a){switch(a.label){case 0:return n=zb(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Ny(n.localStore,Bd(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,mb(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Tv(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function mb(t,e,n,r){return(0,hf.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,hf.Jh)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,hf.mG)(this,void 0,void 0,function(){var i,o,s;return(0,hf.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,My(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Ib(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,My(t.localStore,e,!0)];case 1:return i=l.sent(),o=new hb(e,i.Bn),s=o._o(i.documents),a=Yp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Ib(t,n,u.To),c=new fb(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function yb(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i;return(0,hf.Jh)(this,function(o){switch(o.label){case 0:return n=Cf(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Hd(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Dy(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Ev(n.remoteStore,r.targetId),kb(n,r.targetId)}).catch(ty)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return kb(n,r.targetId),[4,Dy(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function vb(t,e,n){return(0,hf.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,hf.Jh)(this,function(a){switch(a.label){case 0:r=Hb(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Cf(t),i=If.now(),o=e.reduce(function(t,e){return t.add(e.key)},Gp());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=bp(c,n.get(c.key));null!=l&&s.push(new Cp(c.key,l,fd(l.value.mapValue),pp.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Dp(Ef)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Rb(r,i.changes)];case 3:return a.sent(),[4,Uv(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Wv(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function bb(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r;return(0,hf.Jh)(this,function(i){switch(i.label){case 0:n=Cf(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ay(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(xf(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?xf(r.bo):t.removedDocuments.size>0&&(xf(r.bo),r.bo=!1))}),[4,Rb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ty(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function _b(t,e,n){var r=Cf(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Cf(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&ob(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wb(t,e,n){return(0,hf.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,hf.Jh)(this,function(c){switch(c.label){case 0:return(r=Cf(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Dp(Yf.comparator)).insert(o,dd.newNoDocument(o,Af.min())),a=Gp().add(o),u=new Wp(Af.min(),new Map,new Fp(Ef),s,a),[4,bb(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Pb(r),[3,4];case 2:return[4,Dy(r.localStore,e,!1).then(function(){return kb(r,e,n)}).catch(ty)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function xb(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i;return(0,hf.Jh)(this,function(o){switch(o.label){case 0:n=Cf(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Oy(n.localStore,e)];case 2:return i=o.sent(),Eb(n,r,null),Tb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Rb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ty(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Cb(t,e,n){return(0,hf.mG)(this,void 0,void 0,function(){var r,i;return(0,hf.Jh)(this,function(o){switch(o.label){case 0:r=Cf(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Cf(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return xf(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Eb(r,e,n),Tb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Rb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ty(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Sb(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,hf.Jh)(this,function(a){switch(a.label){case 0:Pv((n=Cf(t)).remoteStore)||yf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Cf(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Wv(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Tb(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Eb(t,e,n){var r=Cf(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function kb(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Ob(t,e)})}function Ob(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Ev(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Pb(t))}function Ib(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof cb?(t.No.addReference(o.key,e),Ab(t,o)):o instanceof lb?(yf("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Ob(t,o.key)):wf()}}function Ab(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(yf("SyncEngine","New document in limbo: "+n),t.So.add(r),Pb(t))}function Pb(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Yf(Mf.fromString(e)),r=t.ko.next();t.Co.set(r,new db(n)),t.Do=t.Do.insert(n,r),Tv(t.remoteStore,new wm(Bd(Ld(n.path)),r,2,ff.o))}}function Rb(t,e,n){return(0,hf.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,hf.Jh)(this,function(a){switch(a.label){case 0:return r=Cf(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Cy.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,hf.Jh)(this,function(l){switch(l.label){case 0:n=Cf(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return am.forEach(e,function(e){return am.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return am.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!fm(r=l.sent()))throw r;return yf("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Nb(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r;return(0,hf.Jh)(this,function(i){switch(i.label){case 0:return(n=Cf(t)).currentUser.isEqual(e)?[3,3]:(yf("SyncEngine","User change. New user:",e.toKey()),[4,ky(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new pf(df.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Rb(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Db(t,e){var n=Cf(t),r=n.Co.get(e);if(r&&r.bo)return Gp().add(r.key);var i=Gp(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Mb(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i;return(0,hf.Jh)(this,function(o){switch(o.label){case 0:return[4,My((n=Cf(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Ib(n,e.targetId,i.To),i)]}})})}function Lb(t){return(0,hf.mG)(this,void 0,void 0,function(){var e;return(0,hf.Jh)(this,function(n){return[2,Fy((e=Cf(t)).localStore).then(function(t){return Rb(e,t)})]})})}function Fb(t,e,n,r){return(0,hf.mG)(this,void 0,void 0,function(){var i,o;return(0,hf.Jh)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Cf(t),r=Cf(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):am.resolve(null)})})}((i=Cf(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Uv(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Eb(i,e,r||null),Tb(i,e),function(t,e){Cf(Cf(t)._n).Gt(e)}(i.localStore,e)):wf(),s.label=4;case 4:return[4,Rb(i,o)];case 5:return s.sent(),[3,7];case 6:yf("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Ub(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,hf.Jh)(this,function(c){switch(c.label){case 0:return zb(n=Cf(t)),Hb(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,jb(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Hv(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Tv(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return kb(n,e),Dy(n.localStore,e,!0)}),Ev(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,jb(n,a)];case 5:return c.sent(),function(t){var e=Cf(t);e.Co.forEach(function(t,n){Ev(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Dp(Yf.comparator)}(n),n.$o=!1,[4,Hv(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function jb(t,e,n){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return(0,hf.Jh)(this,function(g){switch(g.label){case 0:n=Cf(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Ny(n.localStore,Bd(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Mb(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ly(n.localStore,a)];case 8:return p=g.sent(),[4,Ny(n.localStore,p)];case 9:return u=g.sent(),[4,mb(n,Vb(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Vb(t){return Md(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function qb(t){var e=Cf(t);return Cf(Cf(e.localStore).persistence).fn()}function Zb(t,e,n,r){return(0,hf.mG)(this,void 0,void 0,function(){var i,o,s;return(0,hf.Jh)(this,function(a){switch(a.label){case 0:return(i=Cf(t)).$o?(yf("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Fy(i.localStore)];case 3:return o=a.sent(),s=Wp.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Rb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Dy(i.localStore,e,!0)];case 6:return a.sent(),kb(i,e,r),[3,8];case 7:wf(),a.label=8;case 8:return[2]}})})}function Bb(t,e,n){return(0,hf.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return(0,hf.Jh)(this,function(f){switch(f.label){case 0:if(!(r=zb(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(yf("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ly(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Ny(r.localStore,a)];case 3:return u=f.sent(),[4,mb(r,Vb(a),u.targetId,!1)];case 4:f.sent(),Tv(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,hf.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Dy(r.localStore,t,!1).then(function(){Ev(r.remoteStore,t),kb(r,t)}).catch(ty)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function zb(t){var e=Cf(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Db.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wb.bind(null,e),e.vo._r=rb.bind(null,e.eventManager),e.vo.Mo=ib.bind(null,e.eventManager),e}function Hb(t){var e=Cf(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cb.bind(null,e),e}var Gb=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){switch(e.label){case 0:return this.R=gv(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Ey(this.persistence,new Sy,t.initialUser,this.R)},t.prototype.qo=function(t){return new Jy(Yy.bs,this.R)},t.prototype.Bo=function(t){return new av},t.prototype.terminate=function(){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),$b=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,hf.ZT)(e,t),e.prototype.initialize=function(e){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Uy(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Hb(this.Ko.syncEngine)];case 4:return n.sent(),[4,Uv(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Ey(this.persistence,new Sy,t.initialUser,this.R)},e.prototype.Uo=function(t){return new ry(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=_y(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?qm.withCacheSize(this.cacheSizeBytes):qm.DEFAULT;return new yy(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,dv(),pv(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new av},e}(Gb),Jb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,hf.ZT)(e,t),e.prototype.initialize=function(e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r=this;return(0,hf.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof sv?(this.sharedClientState.syncEngine={ui:Fb.bind(null,n),ai:Zb.bind(null,n),hi:Bb.bind(null,n),fn:qb.bind(null,n),ci:Lb.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,hf.mG)(r,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){switch(e.label){case 0:return[4,Ub(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=dv();if(!sv.yt(e))throw new pf(df.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=_y(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new sv(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}($b),Wb=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n=this;return(0,hf.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return _b(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Nb.bind(null,this.syncEngine),[4,Hv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new tb},t.prototype.createDatastore=function(t){var e=gv(t.databaseInfo.databaseId),n=new fv(t.databaseInfo);return function(t,e,n){return new _v(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return _b(s.syncEngine,t,0)},o=cv.yt()?new cv:new uv,new xv(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new pb(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,hf.mG)(this,void 0,void 0,function(){var e;return(0,hf.Jh)(this,function(n){switch(n.label){case 0:return e=Cf(t),yf("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Sv(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Yb=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Kb=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new sm,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,hf.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,hf.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new ab(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,hf.mG)(this,void 0,void 0,function(){var t,e;return(0,hf.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,hf.mG)(this,void 0,void 0,function(){var e;return(0,hf.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,hf.mG)(this,void 0,void 0,function(){var t,e;return(0,hf.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,hf.mG)(this,void 0,void 0,function(){var e,n=this;return(0,hf.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new pf(df.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,hf.Jh)(this,function(u){switch(u.label){case 0:return n=Cf(t),r=yg(n.R)+"/documents",i={documents:e.map(function(t){return dg(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){xf(!!e.found);var n=pg(t,e.found.name),r=lg(e.found.updateTime),i=new hd({mapValue:{fields:e.found.fields}});return dd.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){xf(!!e.missing),xf(!!e.readTime);var n=pg(t,e.missing),r=lg(e.readTime);return dd.newNoDocument(n,r)}(t,e):wf()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());xf(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Ip(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,hf.mG)(this,void 0,void 0,function(){var t,e=this;return(0,hf.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Yf.fromPath(n);e.mutations.push(new Ap(r,e.precondition(r)))}),[4,function(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i;return(0,hf.Jh)(this,function(o){switch(o.label){case 0:return n=Cf(t),r=yg(n.R)+"/documents",i={writes:e.map(function(t){return wg(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw wf();e=Af.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new pf(df.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?pp.updateTime(e):pp.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Af.min()))throw new pf(df.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pp.updateTime(e)}return pp.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Qb=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new mv(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,hf.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,hf.Jh)(this,function(r){return t=new Kb(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!$f(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Rp(e)}return!1},t}(),Xb=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Ky.UNAUTHENTICATED,this.clientId=Tf.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,hf.mG)(r,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){switch(e.label){case 0:return yf("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new pf(df.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new sm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,hf.mG)(t,void 0,void 0,function(){var t,n;return(0,hf.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Wv(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function t_(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,hf.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),yf("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,hf.mG)(i,void 0,void 0,function(){return(0,hf.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,ky(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function e_(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r;return(0,hf.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,n_(t)];case 1:return n=i.sent(),yf("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,hf.mG)(this,void 0,void 0,function(){var n,r;return(0,hf.Jh)(this,function(i){switch(i.label){case 0:return(n=Cf(t)).asyncQueue.verifyOperationInProgress(),yf("RemoteStore","RemoteStore received new credentials"),r=Pv(n),n.Or.add(3),[4,Sv(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Cv(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function n_(t){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(yf("FirestoreClient","Using default OfflineComponentProvider"),[4,t_(t,new Gb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function r_(t){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(yf("FirestoreClient","Using default OnlineComponentProvider"),[4,e_(t,new Wb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function i_(t){return n_(t).then(function(t){return t.persistence})}function o_(t){return n_(t).then(function(t){return t.localStore})}function s_(t){return r_(t).then(function(t){return t.remoteStore})}function a_(t){return r_(t).then(function(t){return t.syncEngine})}function u_(t){return(0,hf.mG)(this,void 0,void 0,function(){var e,n;return(0,hf.Jh)(this,function(r){switch(r.label){case 0:return[4,r_(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=gb.bind(null,e.syncEngine),n.onUnlisten=yb.bind(null,e.syncEngine),n)]}})})}function c_(t,e,n){var r=this;void 0===n&&(n={});var i=new sm;return t.asyncQueue.enqueueAndForget(function(){return(0,hf.mG)(r,void 0,void 0,function(){var r;return(0,hf.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Yb({next:function(o){e.enqueueAndForget(function(){return nb(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new pf(df.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new pf(df.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new sb(Ld(n.path),o,{includeMetadataChanges:!0,so:!0});return eb(t,s)},[4,u_(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function l_(t,e,n){var r=this;void 0===n&&(n={});var i=new sm;return t.asyncQueue.enqueueAndForget(function(){return(0,hf.mG)(r,void 0,void 0,function(){var r;return(0,hf.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Yb({next:function(n){e.enqueueAndForget(function(){return nb(t,s)}),n.fromCache&&"server"===r.source?i.reject(new pf(df.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new sb(n,o,{includeMetadataChanges:!0,so:!0});return eb(t,s)},[4,u_(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var h_=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},f_=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),d_=new Map,p_=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},g_=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Ky.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),m_=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),y_=function(){function t(t){var e=this;this.currentUser=Ky.UNAUTHENTICATED,this.oc=new sm,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.uc=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.ac=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.uc&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){yf("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.ac)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.uc&&(yf("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)}))}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(yf("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xf("string"==typeof n.accessToken),new p_(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.uc=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.ac),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return xf(null===t||"string"==typeof t),new Ky(t)},t.prototype.lc=function(){var t=this;this.uc&&(this.uc=!1,this.asyncQueue.enqueueRetryable(function(){return(0,hf.mG)(t,void 0,void 0,function(){return(0,hf.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.uc=!0,[2]}})})}))},t}(),v_=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=Ky.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),b_=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new v_(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Ky.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function __(t,e,n){if(!n)throw new pf(df.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function w_(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new pf(df.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function x_(t,e,n,r){if(!0===e&&!0===r)throw new pf(df.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function C_(t){if(!Yf.isDocumentKey(t))throw new pf(df.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function S_(t){if(Yf.isDocumentKey(t))throw new pf(df.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function T_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":wf()}function E_(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pf(df.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=T_(t);throw new pf(df.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function k_(t,e){if(e<=0)throw new pf(df.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var O_=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new pf(df.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new pf(df.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,x_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),I_=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O_({}),this._settingsFrozen=!1,t instanceof f_?(this._databaseId=t,this._credentials=new g_):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new pf(df.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new f_(t.options.projectId)}(t),this._credentials=new y_(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new pf(df.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new pf(df.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O_(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new g_;switch(t.type){case"gapi":var e=t.client;return xf(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new b_(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new pf(df.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=d_.get(this))&&(yf("ComponentProvider","Removing Datastore"),d_.delete(this),t.terminate()),Promise.resolve();var t},t}(),A_=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new R_(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),P_=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),R_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ld(r))||this)._path=r,i.type="collection",i}return(0,hf.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new A_(this.firestore,null,new Yf(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(P_);function N_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,tu.m9)(t),__("collection","path",e),t instanceof I_)return S_(n=Mf.fromString.apply(Mf,(0,hf.ev)([e],r))),new R_(t,null,n);if(!(t instanceof A_||t instanceof R_))throw new pf(df.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return S_(n=Mf.fromString.apply(Mf,(0,hf.ev)([t.path],r)).child(Mf.fromString(e))),new R_(t.firestore,null,n)}function D_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,tu.m9)(t),1===arguments.length&&(e=Tf.u()),__("doc","path",e),t instanceof I_)return C_(n=Mf.fromString.apply(Mf,(0,hf.ev)([e],r))),new A_(t,null,new Yf(n));if(!(t instanceof A_||t instanceof R_))throw new pf(df.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return C_(n=t._path.child(Mf.fromString.apply(Mf,(0,hf.ev)([e],r)))),new A_(t.firestore,t instanceof R_?t.converter:null,new Yf(n))}function M_(t,e){return t=(0,tu.m9)(t),e=(0,tu.m9)(e),(t instanceof A_||t instanceof R_)&&(e instanceof A_||e instanceof R_)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function L_(t,e){return t=(0,tu.m9)(t),e=(0,tu.m9)(e),t instanceof P_&&e instanceof P_&&t.firestore===e.firestore&&Hd(t._query,e._query)&&t.converter===e.converter}var F_=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new mv(this,"async_queue_retry"),this.Ac=function(){var e=pv();e&&yf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=pv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=pv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise(function(t){}):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.mc.push(t),e.vc()})},t.prototype.vc=function(){return(0,hf.mG)(this,void 0,void 0,function(){var t,e=this;return(0,hf.Jh)(this,function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!fm(t=n.sent()))throw t;return yf("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji(function(){return e.vc()}),n.label=5;case 5:return[2]}})})},t.prototype.bc=function(t){var e=this,n=this._c.then(function(){return e.Tc=!0,t().catch(function(t){throw e.Ec=t,e.Tc=!1,vf("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Tc=!1,t})});return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=Jv.createAndSchedule(this,t,e,n,function(t){return r.Pc(t)});return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&wf()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return(0,hf.mG)(this,void 0,void 0,function(){var t;return(0,hf.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then(function(){e.gc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()})},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function U_(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new sm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var j_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new F_,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,hf.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||q_(this),this._firestoreClient.terminate()},e}(I_);function V_(t){return t._firestoreClient||q_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function q_(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new h_(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Xb(t._credentials,t._queue,r)}function Z_(t,e,n){var r=this,i=new sm;return t.asyncQueue.enqueue(function(){return(0,hf.mG)(r,void 0,void 0,function(){var r;return(0,hf.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,t_(t,n)];case 1:return o.sent(),[4,e_(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===df.FAILED_PRECONDITION||t.code===df.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function B_(t){if(t._initialized||t._terminated)throw new pf(df.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var z_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new pf(df.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ff(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),H_=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(jf.fromBase64String(e))}catch(e){throw new pf(df.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(jf.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),G_=function(t){this._methodName=t},$_=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new pf(df.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new pf(df.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Ef(this._lat,t._lat)||Ef(this._long,t._long)},t}(),J_=/^__.*__$/,W_=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Cp(t,this.data,this.fieldMask,e,this.fieldTransforms):new xp(t,this.data,e,this.fieldTransforms)},t}(),Y_=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Cp(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function K_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wf()}}var Q_=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Oc(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,$c:!0})},t.prototype.Bc=function(t){return vw(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Oc(this.path.get(t))},t.prototype.Oc=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(K_(this.xc)&&J_.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),X_=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||gv(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new Q_({xc:t,methodName:e,Uc:n,path:Ff.emptyPath(),$c:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function tw(t){var e=t._freezeSettings(),n=gv(t._databaseId);return new X_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ew(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);pw("Data must be an object, but it was:",s,r);var a,u,c=fw(r,s);if(o.merge)a=new Uf(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=gw(e,f[h],n);if(!s.contains(d))throw new pf(df.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");bw(l,d)||l.push(d)}a=new Uf(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new W_(new hd(c),a,u)}var nw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,hf.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw t.Bc(1===t.xc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(G_);function rw(t,e,n){return new Q_({xc:3,Uc:e.settings.Uc,methodName:t._methodName,$c:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var iw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,hf.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new fp(t.path,new ip)},e.prototype.isEqual=function(t){return t instanceof e},e}(G_),ow=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,hf.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=rw(this,t,!0),n=this.Kc.map(function(t){return hw(t,e)}),r=new op(n);return new fp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(G_),sw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,hf.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=rw(this,t,!0),n=this.Kc.map(function(t){return hw(t,e)}),r=new ap(n);return new fp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(G_),aw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return(0,hf.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new cp(t.R,Xd(t.R,this.jc));return new fp(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(G_);function uw(t,e,n,r){var i=t.Qc(1,e,n);pw("Data must be an object, but it was:",i,r);var o=[],s=hd.empty();Rf(r,function(t,r){var a=yw(e,t,n);r=(0,tu.m9)(r);var u=i.Mc(a);if(r instanceof nw)o.push(a);else{var c=hw(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Uf(o);return new Y_(s,a,i.fieldTransforms)}function cw(t,e,n,r,i,o){var s=t.Qc(1,e,n),a=[gw(e,r,n)],u=[i];if(o.length%2!=0)throw new pf(df.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(gw(e,o[c])),u.push(o[c+1]);for(var l=[],h=hd.empty(),f=a.length-1;f>=0;--f)if(!bw(l,a[f])){var d=a[f],p=u[f];p=(0,tu.m9)(p);var g=s.Mc(d);if(p instanceof nw)l.push(d);else{var m=hw(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new Uf(l);return new Y_(h,y,s.fieldTransforms)}function lw(t,e,n,r){return void 0===r&&(r=!1),hw(n,t.Qc(r?4:3,e))}function hw(t,e){if(dw(t=(0,tu.m9)(t)))return pw("Unsupported field value:",e,t),fw(t,e);if(t instanceof G_)return function(t,e){if(!K_(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.$c&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=hw(o[i],e.Lc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,tu.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xd(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=If.fromDate(t);return{timestampValue:ag(e.R,n)}}if(t instanceof If)return n=new If(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ag(e.R,n)};if(t instanceof $_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof H_)return{bytesValue:ug(e.R,t._byteString)};if(t instanceof A_){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:hg(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+T_(t))}(t,e)}function fw(t,e){var n={};return Nf(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rf(t,function(t,r){var i=hw(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function dw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof If||t instanceof $_||t instanceof H_||t instanceof A_||t instanceof G_)}function pw(t,e,n){if(!dw(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=T_(n);throw e.Bc("an object"===r?t+" a custom object":t+" "+r)}}function gw(t,e,n){if((e=(0,tu.m9)(e))instanceof z_)return e._internalPath;if("string"==typeof e)return yw(t,e);throw vw("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var mw=new RegExp("[~\\*/\\[\\]]");function yw(t,e,n){if(e.search(mw)>=0)throw vw("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(z_.bind.apply(z_,(0,hf.ev)([void 0],e.split(".")))))._internalPath}catch(vu){throw vw("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function vw(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new pf(df.INVALID_ARGUMENT,(a+=". ")+t+u)}function bw(t,e){return t.some(function(t){return t.isEqual(e)})}var _w=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new A_(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new ww(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(xw("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),ww=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,hf.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(_w);function xw(t,e){return"string"==typeof e?yw(t,e):e instanceof z_?e._internalPath:e._delegate._internalPath}var Cw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Sw=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,hf.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Tw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(xw("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(_w),Tw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,hf.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Sw),Ew=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Cw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Tw(n._firestore,n._userDataWriter,r.key,r,new Cw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pf(df.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Tw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Cw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Tw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Cw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:kw(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function kw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wf()}}function Ow(t,e){return t instanceof Sw&&e instanceof Sw?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ew&&e instanceof Ew&&t._firestore===e._firestore&&L_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Iw(t){if(Ud(t)&&0===t.explicitOrderBy.length)throw new pf(df.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Aw=function(){};function Pw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Rw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return(0,hf.ZT)(e,t),e.prototype._apply=function(t){var e=tw(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new pf(df.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){jw(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Uw(r,t,l[c]));a={arrayValue:{values:u}}}else a=Uw(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||jw(s,o),a=lw(n,"where",s,"in"===o||"not-in"===o);var h=bd.create(i,o,a);return function(t,e){if(e.g()){var n=Vd(t);if(null!==n&&!n.isEqual(e.field))throw new pf(df.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=jd(t);null!==r&&Vw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new pf(df.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new P_(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Dd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Aw),Nw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return(0,hf.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new pf(df.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new pf(df.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ad(e,n);return function(t,e){if(null===jd(t)){var n=Vd(t);null!==n&&Vw(0,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new P_(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Dd(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Aw),Dw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return(0,hf.ZT)(e,t),e.prototype._apply=function(t){return new P_(t.firestore,t.converter,zd(t._query,this.Jc,this.Yc))},e}(Aw),Mw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return(0,hf.ZT)(e,t),e.prototype._apply=function(t){var e=Fw(t,this.type,this.Xc,this.Zc);return new P_(t.firestore,t.converter,function(t,e){return new Dd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Aw),Lw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return(0,hf.ZT)(e,t),e.prototype._apply=function(t){var e=Fw(t,this.type,this.Xc,this.Zc);return new P_(t.firestore,t.converter,function(t,e){return new Dd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Aw);function Fw(t,e,n,r){if(n[0]=(0,tu.m9)(n[0]),n[0]instanceof _w)return function(t,e,n,r,i){if(!r)throw new pf(df.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Zd(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(id(e,r.key));else{var c=r.data.field(u.field);if(zf(c))throw new pf(df.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new pf(df.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Od(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=tw(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new pf(df.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new pf(df.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!qd(t)&&-1!==c.indexOf("/"))throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Mf.fromString(c));if(!Yf.isDocumentKey(l))throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Yf(l);a.push(id(e,h))}else{var f=lw(n,r,c);a.push(f)}}return new Od(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Uw(t,e,n){if("string"==typeof(n=(0,tu.m9)(n))){if(""===n)throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!qd(e)&&-1!==n.indexOf("/"))throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Mf.fromString(n));if(!Yf.isDocumentKey(r))throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return id(t,new Yf(r))}if(n instanceof A_)return id(t,n._key);throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+T_(n)+".")}function jw(t,e){if(!Array.isArray(t)||0===t.length)throw new pf(df.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new pf(df.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Vw(t,e,n){if(!n.isEqual(e))throw new pf(df.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var qw=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Kf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zf(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Bf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw wf()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Rf(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new $_(Zf(t.latitude),Zf(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Hf(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Gf(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=qf(t);return new If(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Mf.fromString(t);xf(Lg(n));var r=new f_(n.get(1),n.get(3)),i=new Yf(n.popFirst(5));return r.isEqual(e)||vf("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Zw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Bw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,hf.ZT)(e,t),e.prototype.convertBytes=function(t){return new H_(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new A_(this.firestore,null,e)},e}(qw),zw=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=tw(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Hw(t,this._firestore),i=Zw(r.converter,e,n),o=ew(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,pp.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Hw(t,this._firestore);return o="string"==typeof(e=(0,tu.m9)(e))||e instanceof z_?cw(this._dataReader,"WriteBatch.update",s._key,e,n,r):uw(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,pp.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Hw(t,this._firestore);return this._mutations=this._mutations.concat(new Ip(e._key,pp.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new pf(df.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Hw(t,e){if((t=(0,tu.m9)(t)).firestore!==e)throw new pf(df.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Gw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,hf.ZT)(e,t),e.prototype.convertBytes=function(t){return new H_(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new A_(this.firestore,null,e)},e}(qw);function $w(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=E_(t,A_);var o=E_(t.firestore,j_),s=tw(o);return Ww(o,[("string"==typeof(e=(0,tu.m9)(e))||e instanceof z_?cw(s,"updateDoc",t._key,e,n,r):uw(s,"updateDoc",t._key,e)).toMutation(t._key,pp.exists(!0))])}function Jw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,tu.m9)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||U_(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(U_(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof A_)c=E_(t.firestore,j_),l=Ld(t._key.path),u={next:function(e){i[a]&&i[a](Yw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=E_(t,P_);c=E_(d.firestore,j_),l=d._query;var p=new Gw(c);u={next:function(t){i[a]&&i[a](new Ew(c,p,d,t))},error:i[a+1],complete:i[a+2]},Iw(t._query)}return function(t,e,n,r){var i=this,o=new Yb(r),s=new sb(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,hf.mG)(i,void 0,void 0,function(){var e;return(0,hf.Jh)(this,function(n){switch(n.label){case 0:return e=eb,[4,u_(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,hf.mG)(i,void 0,void 0,function(){var e;return(0,hf.Jh)(this,function(n){switch(n.label){case 0:return e=nb,[4,u_(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(V_(c),l,h,u)}function Ww(t,e){return function(t,e){var n=this,r=new sm;return t.asyncQueue.enqueueAndForget(function(){return(0,hf.mG)(n,void 0,void 0,function(){var n;return(0,hf.Jh)(this,function(i){switch(i.label){case 0:return n=vb,[4,a_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(V_(t),e)}function Yw(t,e,n){var r=n.docs.get(e._key),i=new Gw(t);return new Sw(t,i,e._key,r,new Cw(n.hasPendingWrites,n.fromCache),e.converter)}var Kw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,hf.ZT)(e,t),e.prototype.get=function(e){var n=this,r=Hw(e,this._firestore),i=new Gw(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Sw(n._firestore,i,r._key,t._document,new Cw(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=tw(t)}return t.prototype.get=function(t){var e=this,n=Hw(t,this._firestore),r=new Bw(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return wf();var i=t[0];if(i.isFoundDocument())return new _w(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new _w(e._firestore,r,n._key,null,n.converter);throw wf()})},t.prototype.set=function(t,e,n){var r=Hw(t,this._firestore),i=Zw(r.converter,e,n),o=ew(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Hw(t,this._firestore);return o="string"==typeof(e=(0,tu.m9)(e))||e instanceof z_?cw(this._dataReader,"Transaction.update",s._key,e,n,r):uw(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Hw(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Qw(){if("undefined"==typeof Uint8Array)throw new pf(df.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Xw(){if("undefined"==typeof atob)throw new pf(df.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var tx=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Xw(),new t(H_.fromBase64String(e))},t.fromUint8Array=function(e){return Qw(),new t(H_.fromUint8Array(e))},t.prototype.toBase64=function(){return Xw(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Qw(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),ex=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){B_(t=E_(t,j_));var n=V_(t),r=t._freezeSettings(),i=new Wb;return Z_(n,i,new $b(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){B_(t=E_(t,j_));var e=V_(t),n=t._freezeSettings(),r=new Wb;return Z_(e,r,new Jb(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new pf(df.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new sm;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,hf.mG)(e,void 0,void 0,function(){var e;return(0,hf.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,hf.mG)(this,void 0,void 0,function(){return(0,hf.Jh)(this,function(e){switch(e.label){case 0:return cm.yt()?[4,cm.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(_y(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),nx=function(){function t(t,e,n){var r=this;this._delegate=e,this.tu=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof f_||(this.eu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||bf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=E_(t,I_))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&bf("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=(0,tu.Sg)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new pf(df.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new m_(new p_(o,new Ky(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,hf.mG)(e,void 0,void 0,function(){var e,n;return(0,hf.Jh)(this,function(r){switch(r.label){case 0:return[4,i_(t)];case 1:return e=r.sent(),[4,s_(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Cf(t);return e.Or.delete(0),Cv(e)}(n))]}})})})}(V_(E_(this._delegate,j_)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,hf.mG)(e,void 0,void 0,function(){var e,n;return(0,hf.Jh)(this,function(r){switch(r.label){case 0:return[4,i_(t)];case 1:return e=r.sent(),[4,s_(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,hf.mG)(this,void 0,void 0,function(){var e;return(0,hf.Jh)(this,function(n){switch(n.label){case 0:return(e=Cf(t)).Or.add(0),[4,Sv(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(V_(E_(this._delegate,j_)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&x_("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tu.enableMultiTabIndexedDbPersistence(this):this.tu.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.tu.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.eu&&(this.eu._removeServiceInstance("firestore"),this.eu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new sm;return t.asyncQueue.enqueueAndForget(function(){return(0,hf.mG)(e,void 0,void 0,function(){var e;return(0,hf.Jh)(this,function(r){switch(r.label){case 0:return e=Sb,[4,a_(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(V_(E_(this._delegate,j_)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Yb(e);return t.asyncQueue.enqueueAndForget(function(){return(0,hf.mG)(n,void 0,void 0,function(){var e;return(0,hf.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Cf(t).Gr.add(e),e.next()},[4,u_(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,hf.mG)(n,void 0,void 0,function(){var e;return(0,hf.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Cf(t).Gr.delete(e)},[4,u_(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(V_(t=E_(t,j_)),U_(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.eu)throw new pf(df.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.eu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new mx(this,N_(this._delegate,t))}catch(t){throw ux(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new ax(this,D_(this._delegate,t))}catch(t){throw ux(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new dx(this,function(t,e){if(t=E_(t,I_),__("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new pf(df.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new P_(t,null,function(t){return new Dd(Mf.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw ux(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new sm;return t.asyncQueue.enqueueAndForget(function(){return(0,hf.mG)(n,void 0,void 0,function(){var n;return(0,hf.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return r_(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Qb(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(V_(t),function(n){return e(new Kw(t,n))})}(this._delegate,function(n){return t(new ix(e,n))})},t.prototype.batch=function(){var t=this;return V_(this._delegate),new ox(new zw(this._delegate,function(e){return Ww(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new pf(df.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new pf(df.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),rx=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,hf.ZT)(e,t),e.prototype.convertBytes=function(t){return new tx(new H_(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return ax.nu(e,this.firestore,null)},e}(qw),ix=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new rx(t)}return t.prototype.get=function(t){var e=this,n=yx(t);return this._delegate.get(n).then(function(t){return new hx(e._firestore,new Sw(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=yx(t);return n?(w_("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=yx(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,hf.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=yx(t);return this._delegate.delete(e),this},t}(),ox=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=yx(t);return n?(w_("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=yx(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,hf.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=yx(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),sx=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Tw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new fx(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.su=function(e,n){var r=t.iu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new rx(e),n),i.set(n,o)),o},t}();sx.iu=new WeakMap;var ax=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new rx(t)}return t.ru=function(e,n,r){if(e.length%2!=0)throw new pf(df.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new A_(n._delegate,r,new Yf(e)))},t.nu=function(e,n,r){return new t(n,new A_(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new mx(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new mx(this.firestore,N_(this._delegate,t))}catch(t){throw ux(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,tu.m9)(t))instanceof A_&&M_(this._delegate,t)},t.prototype.set=function(t,e){e=w_("DocumentReference.set",e);try{return function(t,e,n){t=E_(t,A_);var r=E_(t.firestore,j_),i=Zw(t.converter,e,n);return Ww(r,[ew(tw(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,pp.none())])}(this._delegate,t,e)}catch(t){throw ux(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?$w(this._delegate,t):$w.apply(void 0,(0,hf.ev)([this._delegate,t,e],n))}catch(t){throw ux(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Ww(E_((t=this._delegate).firestore,j_),[new Ip(t._key,pp.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=cx(e),i=lx(e,function(e){return new hx(t.firestore,new Sw(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Jw(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=E_(t,A_);var e=E_(t.firestore,j_),n=V_(e),r=new Gw(e);return function(t,e){var n=this,r=new sm;return t.asyncQueue.enqueueAndForget(function(){return(0,hf.mG)(n,void 0,void 0,function(){var n;return(0,hf.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,hf.mG)(this,void 0,void 0,function(){var r,i;return(0,hf.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Cf(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new pf(df.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Wv(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,o_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Sw(e,r,t._key,n,new Cw(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=E_(t,A_);var e=E_(t.firestore,j_);return c_(V_(e),t._key,{source:"server"}).then(function(n){return Yw(e,t,n)})}(this._delegate):function(t){t=E_(t,A_);var e=E_(t.firestore,j_);return c_(V_(e),t._key).then(function(n){return Yw(e,t,n)})}(this._delegate)).then(function(t){return new hx(e.firestore,new Sw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?sx.su(this.firestore,e):null))},t}();function ux(t,e,n){return t.message=t.message.replace(e,n),t}function cx(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!U_(r))return r}return{}}function lx(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=U_(t[0])?t[0]:U_(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var hx=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new ax(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Ow(this._delegate,t._delegate)},t}(),fx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,hf.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(hx),dx=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new rx(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Pw(this._delegate,function(t,e,n){var r=e,i=xw("where",t);return new Rw(i,r,n)}(e,n,r)))}catch(e){throw ux(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Pw(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=xw("orderBy",t);return new Nw(r,n)}(e,n)))}catch(e){throw ux(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Pw(this._delegate,function(t){return k_("limit",t),new Dw("limit",t,"F")}(e)))}catch(e){throw ux(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Pw(this._delegate,function(t){return k_("limitToLast",t),new Dw("limitToLast",t,"L")}(e)))}catch(e){throw ux(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Pw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mw("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw ux(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Pw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mw("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw ux(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Pw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lw("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw ux(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Pw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Lw("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw ux(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return L_(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=E_(t,P_);var e=E_(t.firestore,j_),n=V_(e),r=new Gw(e);return function(t,e){var n=this,r=new sm;return t.asyncQueue.enqueueAndForget(function(){return(0,hf.mG)(n,void 0,void 0,function(){var n;return(0,hf.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,hf.mG)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,hf.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,My(t,e,!0)];case 1:return a=u.sent(),r=new hb(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Wv(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,o_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Ew(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=E_(t,P_);var e=E_(t.firestore,j_),n=V_(e),r=new Gw(e);return l_(n,t._query,{source:"server"}).then(function(n){return new Ew(e,r,t,n)})}(this._delegate):function(t){t=E_(t,P_);var e=E_(t.firestore,j_),n=V_(e),r=new Gw(e);return Iw(t._query),l_(n,t._query).then(function(n){return new Ew(e,r,t,n)})}(this._delegate)).then(function(t){return new gx(e.firestore,new Ew(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=cx(e),i=lx(e,function(e){return new gx(t.firestore,new Ew(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Jw(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?sx.su(this.firestore,e):null))},t}(),px=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new fx(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),gx=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new dx(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new fx(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new px(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new fx(n._firestore,r))})},t.prototype.isEqual=function(t){return Ow(this._delegate,t._delegate)},t}(),mx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,hf.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new ax(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ax(this.firestore,void 0===t?D_(this._delegate):D_(this._delegate,t))}catch(t){throw ux(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=E_(t.firestore,j_),r=D_(t),i=Zw(t.converter,e);return Ww(n,[ew(tw(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,pp.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new ax(e.firestore,t)})},e.prototype.isEqual=function(t){return M_(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?sx.su(this.firestore,t):null))},e}(dx);function yx(t){return E_(t,A_)}var vx,bx=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(z_.bind.apply(z_,(0,hf.ev)([void 0],t)))}return t.documentId=function(){return new t(Ff.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,tu.m9)(t))instanceof z_&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),_x=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new iw("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new nw("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ow("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sw("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new aw("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),wx=n(5119),xx={Firestore:nx,GeoPoint:$_,Timestamp:If,Blob:tx,Transaction:ix,WriteBatch:ox,DocumentReference:ax,DocumentSnapshot:hx,Query:dx,QueryDocumentSnapshot:fx,QuerySnapshot:gx,CollectionReference:mx,FieldPath:bx,FieldValue:_x,setLogLevel:function(t){gf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new wx.wA("firestore",function(t){return function(t,e){return new nx(t,new j_(t,e),new ex)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},xx)))})(vx=Xa.Z),vx.registerVersion("@firebase/firestore","2.3.4");var Cx=n(1906),Sx=n(8489),Tx=n(9291);class Ex extends rn.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new kx(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new on.N;if(this.isStopped||this.hasError?o=sr.w.EMPTY:(this.observers.push(t),o=new Tx.W(this,t)),r&&t.add(t=new Ya.ht(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Sx.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class kx{constructor(t,e){this.time=t,this.value=e}}function Ox(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Ex(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Ix(t,e){return e?kn(()=>t,e):kn(()=>t)}var Ax=n(2893);const Px=new i.OlP("angularfire2.auth.use-emulator"),Rx=new i.OlP("angularfire2.auth.settings"),Nx=new i.OlP("angularfire2.auth.tenant-id"),Dx=new i.OlP("angularfire2.auth.langugage-code"),Mx=new i.OlP("angularfire2.auth.use-device-language"),Lx=new i.OlP("angularfire.auth.persistence");let Fx=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Ka.HU(i),f=(0,Ka.ss)(h),d=new rn.xQ,p=(0,nn.of)(void 0).pipe((0,Ya.QV)(h.outsideAngular),kn(()=>i.runOutsideAngular(()=>n.e(420).then(n.bind(n,7420)))),(0,Tn.U)(()=>(0,Ka.on)(t,i,e)),(0,Tn.U)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return(0,Ka.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Ox({bufferSize:1,refCount:!1}));if(j(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,nn.of)(null);else{p.pipe(rr()).subscribe();const t=p.pipe(kn(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Ox({bufferSize:1,refCount:!1})),e=t=>new dn.y(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(kn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(kn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Ix(n),(0,Ax.R)(h.outsideAngular),(0,Ya.QV)(h.insideAngular)),this.user=t.pipe(Ix(r),(0,Ax.R)(h.outsideAngular),(0,Ya.QV)(h.insideAngular)),this.idToken=this.user.pipe(kn(t=>t?(0,en.D)(t.getIdToken()):(0,nn.of)(null))),this.idTokenResult=this.user.pipe(kn(t=>t?(0,en.D)(t.getIdTokenResult()):(0,nn.of)(null))),this.credential=(0,Cx.T)(t,d,this.authState.pipe(Un(t=>!t))).pipe((0,Tn.U)(t=>(null==t?void 0:t.user)?t:null),(0,Ax.R)(h.outsideAngular),(0,Ya.QV)(h.insideAngular))}return(0,Ka.pX)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ka.Dh),i.LFG(Ka.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Px,8),i.LFG(Rx,8),i.LFG(Nx,8),i.LFG(Dx,8),i.LFG(Mx,8),i.LFG(Lx,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(Ka.Dh),i.LFG(Ka.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Px,8),i.LFG(Rx,8),i.LFG(Nx,8),i.LFG(Dx,8),i.LFG(Mx,8),i.LFG(Lx,8))},token:t,providedIn:"any"}),t})();(0,Ka.GT)(Fx,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let Ux=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Fx]}),t})();function jx(t,e){return function(t,e=za.z){return new dn.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Vx(t,e){return jx(t,e).pipe((0,Tn.U)(t=>({payload:t,type:"query"})))}function qx(t,e){return Vx(t,e).pipe(Dn(void 0),Ha(),(0,Tn.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Zx(t,e,n){return qx(t,n).pipe(Mn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Bx(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Bx(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Bx(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Ja(void 0,void 0)),(0,Tn.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function Bx(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function zx(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Hx{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=qx(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Tn.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Dn(void 0),Ha(),Un(([t,e])=>e.length>0||!t),(0,Tn.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Mn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=zx(t);return Zx(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Vx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tn.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,en.D)(this.query.get(t)).pipe((0,Ya.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Gx(this.ref.doc(t),this.afs)}}class Gx{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Qx(n,e);return new Hx(r,i,this.afs)}snapshotChanges(){return jx(this.ref,this.afs.schedulers.outsideAngular).pipe(Dn(void 0),Ha(),(0,Tn.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Tn.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,en.D)(this.ref.get(t)).pipe((0,Ya.QV)(this.afs.schedulers.insideAngular))}}class $x{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?qx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tn.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Un(t=>t.length>0),this.afs.keepUnstableUntilFirst):qx(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Mn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=zx(t);return Zx(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Vx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tn.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,en.D)(this.query.get(t)).pipe((0,Ya.QV)(this.afs.schedulers.insideAngular))}}const Jx=new i.OlP("angularfire2.enableFirestorePersistence"),Wx=new i.OlP("angularfire2.firestore.persistenceSettings"),Yx=new i.OlP("angularfire2.firestore.settings"),Kx=new i.OlP("angularfire2.firestore.use-emulator");function Qx(t,e=(t=>t)){return{query:e(t),ref:t}}let Xx=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Ka.HU(o),this.keepUnstableUntilFirst=(0,Ka.ss)(this.schedulers);const c=(0,Ka.on)(t,o,e);!Qa.Z.auth&&u&&(0,Ka.yq)();const l=a;[this.firestore,this.persistenceEnabled$]=(0,Ka.sI)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!j(i)){const e=()=>{try{return(0,en.D)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(vx){return"undefined"!=typeof console&&console.warn(vx),(0,nn.of)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,(0,nn.of)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Qx(n,e),o=this.schedulers.ngZone.run(()=>r);return new Hx(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new $x(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Gx(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ka.Dh),i.LFG(Ka.xv,8),i.LFG(Jx,8),i.LFG(Yx,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Wx,8),i.LFG(Kx,8),i.LFG(Px,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(Ka.Dh),i.LFG(Ka.xv,8),i.LFG(Jx,8),i.LFG(Yx,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Wx,8),i.LFG(Kx,8),i.LFG(Px,8))},token:t,providedIn:"any"}),t})(),tC=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Jx,useValue:!0},{provide:Wx,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Xx]}),t})(),eC=(()=>{class t{constructor(t){this.http=t}getHeaders(){const t=localStorage.getItem("user");if(!t)return new Ys;const e=JSON.parse(t);return console.log(e),(new Ys).set("Authorization",`Bearer ${e.stsTokenManager.accessToken}`)}addNewUser(){return this.http.post("http://localhost:3000/users",{},{headers:this.getHeaders()})}updateUserUID(t,e){let n={firebase_uid:e};return console.log(this.getHeaders()),this.http.post("http://localhost:3000/users",n,{headers:this.getHeaders()})}getAllBooks(){return this.http.get("http://localhost:3000/books",{headers:this.getHeaders()})}getShelvesByUser(){return this.http.get("http://localhost:3000/shelves",{headers:this.getHeaders()})}getBooksFromShelf(t){return this.http.get(`http://localhost:3000/shelves/${t}`,{headers:this.getHeaders()})}getAllNotes(){return this.http.get("http://localhost:3000/notes",{headers:this.getHeaders()})}getNotesByBook(t){return this.http.get(`http://localhost:3000/notes/${t}`,{headers:this.getHeaders()})}addNote(t,e){return this.http.post(`http://localhost:3000/notes/${t}`,{note:e},{headers:this.getHeaders()})}changeNote(t,e,n){return this.http.put(`http://localhost:3000/notes/${t}/${e}`,{note:n},{headers:this.getHeaders()})}addUser(t){return this.http.post("http://localhost:3000/users",{email:t},{headers:this.getHeaders()})}addBookToShelf(t,e){return this.http.post(`http://localhost:3000/shelves/${e}/books`,t,{headers:this.getHeaders()})}deleteNote(t){return this.http.delete(`http://localhost:3000/notes/${t}`,{headers:this.getHeaders()})}deleteShelf(t){return this.http.delete(`http://localhost:3000/shelves/${t}`,{headers:this.getHeaders()})}removeBookFromShelf(t,e){return this.http.delete(`http://localhost:3000/books/${t}/${e}`,{headers:this.getHeaders()})}removeUser(){return this.http.delete("http://localhost:3000/users",{headers:this.getHeaders()})}getReviewsByBook(t){return this.http.get(`http://localhost:3000/reviews/${t}`,{headers:this.getHeaders()})}getUserReview(t){return this.http.get(`http://localhost:3000/reviews/user/${t}`,{headers:this.getHeaders()})}addReview(t,e){return this.http.post(`http://localhost:3000/reviews/${e}`,{review:t},{headers:this.getHeaders()})}updateReview(t,e){return this.http.put(`http://lovalhost:3000/${e}`,{review:t},{headers:this.getHeaders()})}removeReview(t){return this.http.put(`http://lovalhost:3000/${t}`,{headers:this.getHeaders()})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(fa))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nC=(()=>{class t{constructor(t,e,n,r,i){this.afs=t,this.afAuth=e,this.router=n,this.ngZone=r,this.NovelishBackendService=i,this.subscription=null,this.afAuth.authState.subscribe(t=>{t?(this.userData=t,localStorage.setItem("user",JSON.stringify(this.userData))):localStorage.removeItem("user")})}SignIn(t,e){this.afAuth.setPersistence("session").then(()=>{this.afAuth.signInWithEmailAndPassword(t,e).then(t=>{console.log("starting"),this.SetUserData(t.user),this.ngZone.run(()=>{this.router.navigate(["home"])}),console.log(t.user)})}).catch(t=>{window.alert(t.message)})}SignUp(t,e){return this.afAuth.createUserWithEmailAndPassword(t,e).then(t=>{this.SetUserData(t.user),this.ngZone.run(()=>{this.router.navigate(["sign-in"])})}).catch(t=>{window.alert(t.message)})}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(t=>{window.alert(t)})}get isLoggedIn(){return null!==localStorage.getItem("user")}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(t=>{this.ngZone.run(()=>{this.router.navigate(["explore"])}),this.SetUserData(t.user)}).catch(t=>{window.alert(t)})}SetUserData(t){var e=this;return function(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){Ba(o,r,i,s,a,"next",t)}function a(t){Ba(o,r,i,s,a,"throw",t)}s(void 0)})}}(function*(){const n=e.afs.doc(`users/${t.uid}`);e.userData={uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},console.log("before local storage set item"),localStorage.setItem("User",JSON.stringify(e.userData)),console.log("after local storage in setUserData"),yield n.set(e.userData,{merge:!0}),console.log("end of setuserdata")})()}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("User"),this.router.navigate(["sign-in"])})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Xx),i.LFG(Fx),i.LFG(jo),i.LFG(i.R0b),i.LFG(eC))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rC=(()=>{class t{constructor(t){this.authService=t,this.faBookReader=Aa}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(nC))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-sign-in"]],decls:30,vars:0,consts:[[1,"whole"],[1,"sign"],[1,"welcome"],[1,"displayTableCell"],[1,"authBlock"],[1,"formGroup"],["type","text","placeholder","Username","required","",1,"formControl"],["userName",""],["type","password","placeholder","Password","required","",1,"formControl"],["userPassword",""],[1,"forgotPassword"],["type","button","value","Log In",1,"login",3,"click"],["id","forgot","routerLink","/forgot-password"],[1,"redirectToLogin"],["routerLink","/register-user",1,"redirect"],["id","sign"],["id","intro"],["id","text"],["src","../../../assets/Novelish blue cropped.png","alt","Novelish logo","routerLink","/home"],[1,"displayTable"]],template:function(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"section",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"h3"),i._uU(6,"Sign In"),i.qZA(),i.TgZ(7,"div",5),i._UZ(8,"input",6,7),i.qZA(),i.TgZ(10,"div",5),i._UZ(11,"input",8,9),i.qZA(),i._UZ(13,"div",10),i.TgZ(14,"div",5),i.TgZ(15,"input",11),i.NdJ("click",function(){i.CHM(t);const n=i.MAs(9),r=i.MAs(12);return e.authService.SignIn(n.value,r.value)}),i.qZA(),i.TgZ(16,"span",12),i._uU(17,"Forgot Password?"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(18,"div",13),i.TgZ(19,"span"),i._uU(20,"Don't have an account? "),i.TgZ(21,"span",14),i.TgZ(22,"button",15),i._uU(23,"Sign up"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(24,"section",16),i.TgZ(25,"div",17),i._UZ(26,"img",18),i.TgZ(27,"p"),i._uU(28,"A book review site that is powered by you, the user!"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i._UZ(29,"div",19)}},directives:[Vo],styles:["*[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif}.whole[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;justify-content:center;text-align:center}.sign[_ngcontent-%COMP%]{background-color:#f4faf8}#intro[_ngcontent-%COMP%]{background-color:#3793cd;color:#f4faf8;text-align:center;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}#text[_ngcontent-%COMP%]{margin:30px}h3[_ngcontent-%COMP%]{font-size:20px}h3[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:#314749}span[_ngcontent-%COMP%]{font-size:12px}#forgot[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.welcome[_ngcontent-%COMP%]{margin:40px}.formControl[_ngcontent-%COMP%]{display:flex;width:250px;font-size:15px;border-radius:25px;padding:10px;margin-bottom:15px;border:2px solid #e4e4e4;color:#435c5f;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}.formGroup[_ngcontent-%COMP%]{display:flex;justify-content:center}.formControl[_ngcontent-%COMP%]:hover{transform:scale(1.05)}label[_ngcontent-%COMP%]{font-size:12px;padding-left:15px;text-indent:-15px;display:block;margin-bottom:15px}.login[_ngcontent-%COMP%]{background-color:#3793cd;color:#f4faf8;border:#3793cd;border-radius:25px;width:130px;text-align:center;margin-right:40px;padding:8px;font-size:16px;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}.login[_ngcontent-%COMP%]:hover{transform:scale(1.05)}#sign[_ngcontent-%COMP%]{background-color:#f4faf8;color:#3793cd;border:1px solid #3793cd;border-radius:25px;text-align:center;width:100px;padding:8px;font-size:12px}#sign[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.circle[_ngcontent-%COMP%]{visibility:hidden}img[_ngcontent-%COMP%]{max-width:180px}img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.redirectToLogin[_ngcontent-%COMP%]{padding-top:20px}@media only screen and (min-width:720px){.whole[_ngcontent-%COMP%]{width:900px;box-shadow:1px 4px 100px grey;top:50%;left:50%;transform:translate(-50%,-50%)}.sign[_ngcontent-%COMP%], .whole[_ngcontent-%COMP%]{height:500px;position:fixed}.sign[_ngcontent-%COMP%]{background-color:#f4faf8;right:0;width:65%}#intro[_ngcontent-%COMP%]{color:#f4faf8;position:absolute;left:0;width:35%;height:500px;text-align:left}#text[_ngcontent-%COMP%]{margin-top:160px;margin-left:60px;margin-right:80px}h3[_ngcontent-%COMP%]{font-size:20px}span[_ngcontent-%COMP%]{font-size:12px}.welcome[_ngcontent-%COMP%]{margin-top:140px;margin-left:180px}.formControl[_ngcontent-%COMP%]{width:250px;font-size:15px;border-radius:25px;padding:10px;border:2px solid #e4e4e4;color:#435c5f}.formControl[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:block;margin-bottom:15px}label[_ngcontent-%COMP%]{font-size:12px;padding-left:15px;text-indent:-15px}.login[_ngcontent-%COMP%]{background-color:#3793cb;color:#f4faf8;border:#3793cb;border-radius:25px;width:130px;margin-right:40px;font-size:16px}#sign[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{text-align:center;padding:8px}#sign[_ngcontent-%COMP%]{color:#3793cb;border:1px solid #3793cb;border-radius:25px;width:100px;font-size:12px}#sign[_ngcontent-%COMP%], .circle[_ngcontent-%COMP%]{background-color:#f4faf8}.circle[_ngcontent-%COMP%]{visibility:visible;position:fixed;height:70px;border-radius:100px;padding:10px;left:283px;top:50%;transform:translateY(-50%);color:#3793cd}img[_ngcontent-%COMP%]{max-width:180px}.redirectToLogin[_ngcontent-%COMP%]{padding-top:20px}}"]}),t})(),iC=(()=>{class t{constructor(t){this.authService=t,this.faBookReader=Aa}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(nC))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-sign-up"]],decls:27,vars:0,consts:[[1,"whole"],[1,"sign"],[1,"welcome"],[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["userEmail",""],["type","password","placeholder","Password","required","",1,"formControl"],["userPwd",""],["type","button","value","Sign Up",1,"login",3,"click"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"],["id","sign"],["id","intro"],["id","text"],["src","../../../assets/Novelish blue cropped.png","alt","Novelish logo","routerLink","/home"]],template:function(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"section",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i.TgZ(6,"h3"),i._uU(7,"Sign Up"),i.qZA(),i.TgZ(8,"div",6),i._UZ(9,"input",7,8),i.qZA(),i.TgZ(11,"div",6),i._UZ(12,"input",9,10),i.qZA(),i.TgZ(14,"div",6),i.TgZ(15,"input",11),i.NdJ("click",function(){i.CHM(t);const n=i.MAs(10),r=i.MAs(13);return e.authService.SignUp(n.value,r.value)}),i.qZA(),i.qZA(),i.TgZ(16,"div",12),i.TgZ(17,"span"),i._uU(18,"Already have an account? "),i.TgZ(19,"span",13),i.TgZ(20,"button",14),i._uU(21,"Log In"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(22,"section",15),i.TgZ(23,"div",16),i._UZ(24,"img",17),i.TgZ(25,"p"),i._uU(26,"A book review site that is powered by you, the user!"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}},directives:[Vo],styles:["*[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif}.whole[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;justify-content:center;text-align:center}.sign[_ngcontent-%COMP%]{background-color:#f4faf8}#intro[_ngcontent-%COMP%]{background-color:#3793cd;color:#f4faf8;text-align:center;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}#text[_ngcontent-%COMP%]{margin:30px}h3[_ngcontent-%COMP%]{font-size:20px}span[_ngcontent-%COMP%]{font-size:12px}.welcome[_ngcontent-%COMP%]{margin:40px}.formControl[_ngcontent-%COMP%]{display:flex;width:250px;font-size:15px;border-radius:25px;padding:10px;margin-bottom:15px;border:2px solid #e4e4e4;color:#435c5f;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}.formControl[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.formGroup[_ngcontent-%COMP%]{display:flex;justify-content:center}label[_ngcontent-%COMP%]{font-size:12px;padding-left:15px;text-indent:-15px;display:block;margin-bottom:15px}.login[_ngcontent-%COMP%]{background-color:#3793cb;color:#f4faf8;border:#3793cb;border-radius:25px;width:130px;text-align:center;margin-right:40px;padding:8px;font-size:16px;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}.login[_ngcontent-%COMP%]:hover{transform:scale(1.05)}#sign[_ngcontent-%COMP%]{background-color:#f4faf8;color:#3793cb;border:1px solid #3793cb;border-radius:25px;text-align:center;width:100px;padding:8px;font-size:12px;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}#sign[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.circle[_ngcontent-%COMP%]{visibility:hidden}img[_ngcontent-%COMP%]{max-width:180px}img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.redirectToLogin[_ngcontent-%COMP%]{padding-top:20px}@media only screen and (min-width:720px){.whole[_ngcontent-%COMP%]{width:900px;box-shadow:1px 4px 100px grey;top:50%;left:50%;transform:translate(-50%,-50%)}.sign[_ngcontent-%COMP%], .whole[_ngcontent-%COMP%]{height:500px;position:fixed}.sign[_ngcontent-%COMP%]{right:0;width:65%}#intro[_ngcontent-%COMP%]{position:absolute;left:0;width:35%;height:500px;text-align:left}#text[_ngcontent-%COMP%]{margin-top:160px;margin-left:60px;margin-right:80px}h3[_ngcontent-%COMP%]{font-size:20px}span[_ngcontent-%COMP%]{font-size:12px}.welcome[_ngcontent-%COMP%]{margin-top:140px;margin-left:180px}.formControl[_ngcontent-%COMP%]{width:250px;font-size:15px;border-radius:25px;padding:10px}.formControl[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:block;margin-bottom:15px}label[_ngcontent-%COMP%]{font-size:12px;padding-left:15px;text-indent:-15px}.login[_ngcontent-%COMP%]{background-color:#3793cb;color:#f4faf8;border:#3793cb;border-radius:25px;width:130px;margin-right:40px;font-size:16px}#sign[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{text-align:center;padding:8px}#sign[_ngcontent-%COMP%]{color:#3793cb;border:1px solid #3793cb;border-radius:25px;width:100px;font-size:12px}#sign[_ngcontent-%COMP%], .circle[_ngcontent-%COMP%]{background-color:#f4faf8}.circle[_ngcontent-%COMP%]{visibility:visible;position:fixed;height:70px;color:#3793cd;border-radius:100px;padding:10px;left:283px;top:50%;transform:translateY(-50%)}img[_ngcontent-%COMP%]{max-width:180px}.redirectToLogin[_ngcontent-%COMP%]{padding-top:20px}}"]}),t})();function oC(t){return(oC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){sC(t,e,n[e])})}return t}function uC(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var cC={},lC={};try{"undefined"!=typeof window&&(cC=window),"undefined"!=typeof document&&(lC=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(vx){}var hC=(cC.navigator||{}).userAgent,fC=void 0===hC?"":hC,dC=cC,pC=lC,gC=!!pC.documentElement&&!!pC.head&&"function"==typeof pC.addEventListener&&"function"==typeof pC.createElement,mC=(~fC.indexOf("MSIE")||fC.indexOf("Trident/"),"svg-inline--fa"),yC=[1,2,3,4,5,6,7,8,9,10],vC=yC.concat([11,12,13,14,15,16,17,18,19,20]),bC={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},_C=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",bC.GROUP,bC.SWAP_OPACITY,bC.PRIMARY,bC.SECONDARY].concat(yC.map(function(t){return"".concat(t,"x")})).concat(vC.map(function(t){return"w-".concat(t)})),dC.FontAwesomeConfig||{});pC&&"function"==typeof pC.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=uC(t,2),n=e[1],r=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=pC.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=r&&(_C[n]=r)});var wC=aC({},{familyPrefix:"fa",replacementClass:mC,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},_C);wC.autoReplaceSvg||(wC.observeMutations=!1);var xC=aC({},wC);dC.FontAwesomeConfig=xC;var CC=dC||{};CC.___FONT_AWESOME___||(CC.___FONT_AWESOME___={}),CC.___FONT_AWESOME___.styles||(CC.___FONT_AWESOME___.styles={}),CC.___FONT_AWESOME___.hooks||(CC.___FONT_AWESOME___.hooks={}),CC.___FONT_AWESOME___.shims||(CC.___FONT_AWESOME___.shims=[]);var SC=CC.___FONT_AWESOME___,TC=[];gC&&((pC.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(pC.readyState)||pC.addEventListener("DOMContentLoaded",function t(){pC.removeEventListener("DOMContentLoaded",t),TC.map(function(t){return t()})}));var EC,kC="pending",OC="settled",IC="fulfilled",AC="rejected",PC=function(){},RC="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,NC="undefined"==typeof setImmediate?setTimeout:setImmediate,DC=[];function MC(){for(var t=0;t<DC.length;t++)DC[t][0](DC[t][1]);DC=[],EC=!1}function LC(t,e){DC.push([t,e]),EC||(EC=!0,NC(MC,0))}function FC(t){var e=t.owner,n=e._state,r=e._data,i=t[n],o=t.then;if("function"==typeof i){n=IC;try{r=i(r)}catch(vx){qC(o,vx)}}UC(o,r)||(n===IC&&jC(o,r),n===AC&&qC(o,r))}function UC(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===oC(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(r){n||(n=!0,e===r?VC(t,r):jC(t,r))},function(e){n||(n=!0,qC(t,e))}),!0}}catch(vx){return n||qC(t,vx),!0}return!1}function jC(t,e){t!==e&&UC(t,e)||VC(t,e)}function VC(t,e){t._state===kC&&(t._state=OC,t._data=e,LC(BC,t))}function qC(t,e){t._state===kC&&(t._state=OC,t._data=e,LC(zC,t))}function ZC(t){t._then=t._then.forEach(FC)}function BC(t){t._state=IC,ZC(t)}function zC(t){t._state=AC,ZC(t),!t._handled&&RC&&global.process.emit("unhandledRejection",t._data,t)}function HC(t){global.process.emit("rejectionHandled",t)}function GC(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof GC==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){qC(e,t)}try{t(function(t){jC(e,t)},n)}catch(vx){n(vx)}}(t,this)}GC.prototype={constructor:GC,_state:kC,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(PC),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===AC&&RC&&LC(HC,this)),this._state===IC||this._state===AC?LC(FC,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},GC.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new GC(function(e,n){var r=[],i=0;function o(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),n):r[a]=s;i||e(r)})},GC.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new GC(function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)})},GC.resolve=function(t){return t&&"object"===oC(t)&&t.constructor===GC?t:new GC(function(e){e(t)})},GC.reject=function(t){return new GC(function(e,n){n(t)})};var $C={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function JC(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function WC(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function YC(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function KC(t){return t.size!==$C.size||t.x!==$C.x||t.y!==$C.y||t.rotate!==$C.rotate||t.flipX||t.flipY}function QC(t){var e=t.transform,n=t.iconWidth,r={transform:"translate(".concat(t.containerWidth/2," 256)")},i="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(i," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var XC={x:0,y:0,width:"100%",height:"100%"};function tS(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function eS(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,a=t.symbol,u=t.title,c=t.maskId,l=t.titleId,h=t.extra,f=t.watchable,d=void 0!==f&&f,p=r.found?r:n,g=p.width,m=p.height,y="fak"===i,v=y?"":"fa-w-".concat(Math.ceil(g/m*16)),b=[xC.replacementClass,o?"".concat(xC.familyPrefix,"-").concat(o):"",v].filter(function(t){return-1===h.classes.indexOf(t)}).filter(function(t){return""!==t||!!t}).concat(h.classes).join(" "),_={children:[],attributes:aC({},h.attributes,{"data-prefix":i,"data-icon":o,class:b,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},w=y&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};d&&(_.attributes["data-fa-i2svg"]=""),u&&_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(l||JC())},children:[u]});var x=aC({},_,{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:s,symbol:a,styles:aC({},w,h.styles)}),C=r.found&&n.found?function(t){var e,n=t.children,r=t.attributes,i=t.main,o=t.mask,s=t.maskId,a=i.icon,u=o.icon,c=QC({transform:t.transform,containerWidth:o.width,iconWidth:i.width}),l={tag:"rect",attributes:aC({},XC,{fill:"white"})},h=a.children?{children:a.children.map(tS)}:{},f={tag:"g",attributes:aC({},c.inner),children:[tS(aC({tag:a.tag,attributes:aC({},a.attributes,c.path)},h))]},d={tag:"g",attributes:aC({},c.outer),children:[f]},p="mask-".concat(s||JC()),g="clip-".concat(s||JC()),m={tag:"mask",attributes:aC({},XC,{id:p,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[l,d]},y={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(e=u,"g"===e.tag?e.children:[e])},m]};return n.push(y,{tag:"rect",attributes:aC({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(p,")")},XC)}),{children:n,attributes:r}}(x):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,o=YC(t.styles);if(o.length>0&&(n.style=o),KC(i)){var s=QC({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:aC({},s.outer),children:[{tag:"g",attributes:aC({},s.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:aC({},r.icon.attributes,s.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(x),S=C.attributes;return x.children=C.children,x.attributes=S,a?function(t){var e=t.iconName,n=t.children,r=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:aC({},t.attributes,{id:!0===r?"".concat(t.prefix,"-").concat(xC.familyPrefix,"-").concat(e):r}),children:n}]}]}(x):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(KC(s)&&n.found&&!r.found){var a={x:n.width/n.height/2,y:.5};i.style=YC(aC({},o,{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(x)}var nS=function(t,e,n,r){var i,o,s,a=Object.keys(t),u=a.length,c=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,s=t[a[0]]):(i=0,s=n);i<u;i++)s=c(s,t[o=a[i]],o,t);return s};function rS(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,o=Object.keys(e).reduce(function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t},{});"function"!=typeof SC.hooks.addPack||i?SC.styles[t]=aC({},SC.styles[t]||{},o):SC.hooks.addPack(t,o),"fas"===t&&rS("fa",e)}var iS=SC.styles,oS=SC.shims,sS=function(){var t=function(t){return nS(iS,function(e,n,r){return e[r]=nS(n,t,{}),e},{})};t(function(t,e,n){return e[3]&&(t[e[3]]=n),t}),t(function(t,e,n){var r=e[2];return t[n]=n,r.forEach(function(e){t[e]=n}),t});var e="far"in iS;nS(oS,function(t,n){var r=n[1];return"far"!==r||e||(r="fas"),t[n[0]]={prefix:r,iconName:n[2]},t},{})};function aS(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function uS(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?WC(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(WC(t[n]),'" ')},"").trim()}(r),">").concat(o.map(uS).join(""),"</").concat(e,">")}function cS(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}sS(),(cS.prototype=Object.create(Error.prototype)).constructor=cS;var lS={fill:"currentColor"},hS={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},fS=(aC({},lS,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),aC({},hS,{attributeName:"opacity"}));function dS(t){var e=t[0],n=t[1],r=uC(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(xC.familyPrefix,"-").concat(bC.GROUP)},children:[{tag:"path",attributes:{class:"".concat(xC.familyPrefix,"-").concat(bC.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(xC.familyPrefix,"-").concat(bC.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}function pS(){xC.autoAddCss&&!bS&&(function(t){if(t&&gC){var e=pC.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=pC.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}pC.head.insertBefore(e,r)}}(function(){var t="fa",e=mC,n=xC.familyPrefix,r=xC.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}()),bS=!0)}function gS(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return uS(t)})}}),Object.defineProperty(t,"node",{get:function(){if(gC){var e=pC.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function mS(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return aS(vS.definitions,n,r)||aS(SC.styles,n,r)}aC({},lS,{cx:"256",cy:"364",r:"28"}),aC({},hS,{attributeName:"r",values:"28;14;28;28;14;28;"}),aC({},fS,{values:"1;0;1;1;0;1;"}),aC({},lS,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),aC({},fS,{values:"1;0;0;0;0;1;"}),aC({},lS,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),aC({},fS,{values:"0;0;1;1;0;0;"});var yS,vS=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(e){t.definitions[e]=aC({},t.definitions[e]||{},i[e]),rS(e,i[e]),sS()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var r=n[e],i=r.prefix,o=r.iconName,s=r.icon;t[i]||(t[i]={}),t[i][o]=s}),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()),bS=!1,_S=(yS=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?$C:n,i=e.symbol,o=void 0!==i&&i,s=e.mask,a=void 0===s?null:s,u=e.maskId,c=void 0===u?null:u,l=e.title,h=void 0===l?null:l,f=e.titleId,d=void 0===f?null:f,p=e.classes,g=void 0===p?[]:p,m=e.attributes,y=void 0===m?{}:m,v=e.styles,b=void 0===v?{}:v;if(t){var _=t.prefix,w=t.iconName,x=t.icon;return gS(aC({type:"icon"},t),function(){return pS(),xC.autoA11y&&(h?y["aria-labelledby"]="".concat(xC.replacementClass,"-title-").concat(d||JC()):(y["aria-hidden"]="true",y.focusable="false")),eS({icons:{main:dS(x),mask:a?dS(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:w,transform:aC({},$C,r),symbol:o,title:h,maskId:c,titleId:d,extra:{attributes:y,styles:b,classes:g}})})}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:mS(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:mS(r||{})),yS(n,aC({},e,{mask:r}))});const wS=["*"];let xS=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),CS=(()=>{class t{constructor(){this.definitions={}}addIcons(...t){for(const e of t)e.prefix in this.definitions||(this.definitions[e.prefix]={}),this.definitions[e.prefix][e.iconName]=e}addIconPacks(...t){for(const e of t){const t=Object.keys(e).map(t=>e[t]);this.addIcons(...t)}}getIconDefinition(t,e){return t in this.definitions&&e in this.definitions[t]?this.definitions[t][e]:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();const SS=t=>{const e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let TS=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[i.TTD]}),t})(),ES=(()=>{class t{constructor(t,e){this.renderer=t,this.elementRef=e}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq))},t.\u0275cmp=i.Xpm({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[i.TTD],ngContentSelectors:wS,decls:1,vars:0,template:function(t,e){1&t&&(i.F$t(),i.Hsn(0))},encapsulation:2}),t})(),kS=(()=>{class t{constructor(t,e,n,r,i){this.sanitizer=t,this.config=e,this.iconLibrary=n,this.stackItem=r,this.classes=[],null!=i&&null==r&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let e=null;if(e=null==this.icon?this.config.fallbackIcon:this.icon,t){const t=this.findIconDefinition(e);if(null!=t){const e=this.buildParams();this.renderIcon(t,e)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const e=((t,e)=>{return void 0!==(n=t).prefix&&void 0!==n.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0;var n})(t,this.config.defaultPrefix);if("icon"in e)return e;const n=this.iconLibrary.getIconDefinition(e.prefix,e.iconName);if(null!=n)return n;const r=mS(e);if(null!=r){const t="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+t);else if(!this.config.globalLibrary)throw new Error(t);return r}return(t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(e),null}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},e="string"==typeof this.transform?function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t},e):e}(this.transform):this.transform;return{title:this.title,transform:e,classes:[...SS(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,e){const n=_S(t,e);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(yt),i.Y36(xS),i.Y36(CS),i.Y36(TS,8),i.Y36(ES,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,e){2&t&&(i.Ikx("innerHTML",e.renderedIconHTML,i.oJD),i.uIk("title",e.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[i.TTD],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),OS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function IS(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"ul",10),i.TgZ(1,"li"),i.TgZ(2,"a",11),i._uU(3,"Home"),i.qZA(),i.qZA(),i.TgZ(4,"li"),i.TgZ(5,"a",12),i.NdJ("click",function(){return i.CHM(t),i.oxw().authService.SignOut()}),i._uU(6,"Log out"),i.qZA(),i.qZA(),i.TgZ(7,"li"),i.TgZ(8,"a",13),i._uU(9,"About"),i.qZA(),i.qZA(),i.qZA()}}let AS=(()=>{class t{constructor(t,e,n){this.authService=t,this.router=e,this.ngZone=n,this.faBook=Ia,this.faUserCircle=Za,this.faBars=Oa,this.menuState="in",this.faStarHalfAlt=Va,this.menuToggle=!1,this.hideShowMenu=()=>{this.menuToggle=!this.menuToggle}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(nC),i.Y36(jo),i.Y36(i.R0b))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-main-header"]],decls:13,vars:3,consts:[[1,"nav-parent"],[1,"top-container"],[1,"novelish-logo"],["src","assets/Novelish blue cropped.png","alt","Novelish logo","routerLink","/home",1,"novelish-logo"],[1,"icon-nav"],["size","lg","routerLink","/shelves",1,"nav-icon",3,"icon"],["size","lg","routerLink","/dashboard",1,"nav-icon",3,"icon"],["id","menuToggle"],["type","checkbox",3,"click"],["id","menu",4,"ngIf"],["id","menu"],["routerLink","/home"],["id","hover",3,"click"],["routerLink","/about"]],template:function(t,e){1&t&&(i.TgZ(0,"header",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._UZ(3,"img",3),i.qZA(),i.qZA(),i.TgZ(4,"nav",4),i._UZ(5,"fa-icon",5),i._UZ(6,"fa-icon",6),i.TgZ(7,"div",7),i.TgZ(8,"input",8),i.NdJ("click",function(){return e.hideShowMenu()}),i.qZA(),i._UZ(9,"span"),i._UZ(10,"span"),i._UZ(11,"span"),i.YNc(12,IS,10,0,"ul",9),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(5),i.Q6J("icon",e.faBook),i.xp6(1),i.Q6J("icon",e.faUserCircle),i.xp6(6),i.Q6J("ngIf",e.menuToggle))},directives:[Vo,kS,D,qo],styles:["*[_ngcontent-%COMP%]{background-color:#3793cd;font-family:Josefin Sans,sans-serif;color:#f5f5f5}.novelish-logo[_ngcontent-%COMP%]{width:180px}a[_ngcontent-%COMP%]{text-decoration:none}#hover[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover{color:#000}#hover[_ngcontent-%COMP%]:hover, .novelish-logo[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.shelf[_ngcontent-%COMP%]{font-size:12px;font-weight:500;padding:2px 5px;border-radius:5px;background-color:#fff;border:2px solid #435c5f;color:#98a09e}.shelf[_ngcontent-%COMP%]:hover{color:#fff;background-color:#435c5f}.icon-nav[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100vw;display:flex;align-items:center;justify-content:space-around;border-top:1px solid #cecece;padding:15px 70px 10px 0}nav[_ngcontent-%COMP%]{z-index:9}.nav-icon[_ngcontent-%COMP%]{color:#f5f5f5}.nav-icon[_ngcontent-%COMP%]:hover{color:#d3d3d3;transform:scale(1.1)}.top-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:15px}#menuToggle[_ngcontent-%COMP%]{top:15px;right:10px;padding-right:25px;z-index:5;-webkit-user-select:none;user-select:none}#menuToggle[_ngcontent-%COMP%], #menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;position:absolute}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px;height:32px;top:-7px;left:-5px;cursor:pointer;opacity:0;z-index:2;-webkit-touch-callout:none}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:28px;height:3px;margin-bottom:5px;position:relative;background:#fff;color:#f5f5f5;border-radius:3px;z-index:1;transform-origin:4px 0;transition:transform .5s cubic-bezier(.77,.2,.05,1),background .5s cubic-bezier(.77,.2,.05,1),opacity .55s ease}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{transform-origin:0 0}#menuToggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-last-child(2){transform-origin:0 100%}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]{opacity:1;transform:rotate(45deg) translate(-2px,-1px);background:#000}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(3){opacity:0;transform:rotate(0deg) scale(.2)}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ span[_ngcontent-%COMP%]:nth-last-child(2){opacity:1;transform:rotate(-45deg) translateY(-1px)}#menu[_ngcontent-%COMP%]{visibility:hidden;position:absolute;width:275px;margin:-100px 0 0;padding:10px 10px 200px;right:-100px;border-radius:4px;list-style-type:none;-webkit-font-smoothing:antialiased;transform-origin:0 0;transform:translate(100%);transition:transform .5s cubic-bezier(.77,.2,.05,1)}#menu[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{pointer-events:none}#menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;font-size:15px}#menuToggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ ul[_ngcontent-%COMP%]{visibility:visible;transform:none;opacity:1}@media only screen and (min-width:720px){.nav-parent[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 50px}.icon-nav[_ngcontent-%COMP%]{position:relative;width:30vw}.top-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.icon-nav[_ngcontent-%COMP%]{border:none}#menu[_ngcontent-%COMP%]{transform:none;opacity:0;transition:opacity .5s cubic-bezier(.77,.2,.05,1);position:absolute;width:275px;margin:-100px 0 0;padding:80px 10px 10px}#menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:22px}}"]}),t})(),PS=(()=>{class t{constructor(t){this.http=t,this.resultList=[],this.subject=new sn([])}searchTitle(t){let e=t.replace(/\s/g,"+");return this.http.get(`http://openlibrary.org/search.json?title=${e}`).pipe((0,Tn.U)(t=>this.subject.next(t.docs.filter(t=>void 0!==t.isbn))))}searchAuthor(t){let e=t.replace(/\s/g,"+");return this.http.get(`http://openlibrary.org/search.json?author=${e}`).pipe((0,Tn.U)(t=>this.subject.next(t)))}getCover(t){return this.http.get(`http://covers.openlibrary.org/b/isbn/${t}-m.jpg`)}getBook(t){return this.http.get(`https://openlibrary.org/api/books?bibkeys=ISBN:${t}&jscmd=data&format=json`)}sendResult(t){this.subject.next(t)}getSubject(){return this.subject.asObservable()}addResults(t){this.resultList=t}getResults(){return this.resultList}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(fa))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var RS=n(2056);function NS(t,e){return new dn.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=(0,en.D)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let DS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t}),t})(),MS=(()=>{class t extends DS{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,features:[i.qOj]}),t})();const LS=new i.OlP("NgValueAccessor"),FS={provide:LS,useExisting:(0,i.Gpc)(()=>jS),multi:!0},US=new i.OlP("CompositionEventMode");let jS=(()=>{class t extends DS{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(US,8))},t.\u0275dir=i.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[i._Bn([FS]),i.qOj]}),t})();const VS=new i.OlP("NgValidators"),qS=new i.OlP("NgAsyncValidators");function ZS(t){return null!=t}function BS(t){const e=(0,i.QGY)(t)?(0,en.D)(t):t;return(0,i.CqO)(e),e}function zS(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function HS(t,e){return e.map(e=>e(t))}function GS(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function $S(t){return null!=t?function(t){if(!t)return null;const e=t.filter(ZS);return 0==e.length?null:function(t){return zS(HS(t,e))}}(GS(t)):null}function JS(t){return null!=t?function(t){if(!t)return null;const e=t.filter(ZS);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if((0,un.k)(e))return NS(e,null);if((0,RS.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return NS(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return NS(t=1===t.length&&(0,un.k)(t[0])?t[0]:t,null).pipe((0,Tn.U)(t=>e(...t)))}return NS(t,null)}(HS(t,e).map(BS)).pipe((0,Tn.U)(zS))}}(GS(t)):null}function WS(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let YS=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$S(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=JS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t}),t})(),KS=(()=>{class t extends YS{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,features:[i.qOj]}),t})();class QS extends YS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let XS=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(QS,2))},t.\u0275dir=i.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.qOj]}),t})();function tT(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const rT="VALID",iT="INVALID",oT="PENDING",sT="DISABLED";function aT(t){return(hT(t)?t.validators:t)||null}function uT(t){return Array.isArray(t)?$S(t):t||null}function cT(t,e){return(hT(e)?e.asyncValidators:t)||null}function lT(t){return Array.isArray(t)?JS(t):t||null}function hT(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class fT{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=uT(this._rawValidators),this._composedAsyncValidatorFn=lT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===rT}get invalid(){return this.status===iT}get pending(){return this.status==oT}get disabled(){return this.status===sT}get enabled(){return this.status!==sT}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=uT(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=lT(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=oT,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=sT,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=rT,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==rT&&this.status!==oT||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sT:rT}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=oT,this._hasOwnPendingAsyncValidator=!0;const e=BS(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof pT?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof gT&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?sT:this.errors?iT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oT)?oT:this._anyControlsHaveStatus(iT)?iT:rT}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){hT(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class dT extends fT{constructor(t=null,e,n){super(aT(e),cT(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){nT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){nT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class pT extends fT{constructor(t,e,n){super(aT(e),cT(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof dT?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class gT extends fT{constructor(t,e,n){super(aT(e),cT(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof dT?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const mT={provide:QS,useExisting:(0,i.Gpc)(()=>vT)},yT=(()=>Promise.resolve(null))();let vT=(()=>{class t extends QS{constructor(t,e,n,r){super(),this.control=new dT,this._registered=!1,this.update=new i.vpe,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===jS?n=t:Object.getPrototypeOf(t.constructor)===MS?r=t:i=t}),i||r||n||null}(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(WS(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(WS(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();tT(e._rawValidators,i),tT(e._rawAsyncValidators,i)})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&eT(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&eT(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){yT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;yT.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(KS,9),i.Y36(VS,10),i.Y36(qS,10),i.Y36(LS,10))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([mT]),i.qOj,i.TTD]}),t})(),bT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();const _T={provide:LS,useExisting:(0,i.Gpc)(()=>xT),multi:!0};function wT(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let xT=(()=>{class t extends MS{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this.setProperty("selectedIndex",-1);const n=wT(e,t);this.setProperty("value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&i.NdJ("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([_T]),i.qOj]}),t})(),CT=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(wT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(xT,9))},t.\u0275dir=i.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const ST={provide:LS,useExisting:(0,i.Gpc)(()=>ET),multi:!0};function TT(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ET=(()=>{class t extends MS{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&i.NdJ("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([ST]),i.qOj]}),t})(),kT=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(TT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(TT(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(ET,9))},t.\u0275dir=i.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),OT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[bT]]}),t})(),IT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[OT]}),t})(),AT=(()=>{class t{constructor(t,e){this.OLService=t,this.router=e,this.faSearch=Fa,this.searchTerm="",this.subscription=null,this.book=!0,this.author=!1}ngOnInit(){}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}search(){this.book&&(console.log("in title search"),this.subscription=this.OLService.searchTitle(this.searchTerm).subscribe(()=>{this.router.navigate(["/results"])}))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(PS),i.Y36(jo))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-search-bar"]],decls:15,vars:2,consts:[[1,"search-filter-component"],[1,"search-bar-container"],[1,"search-bar-with-icon"],[1,"faSearch",3,"icon"],["type","text","name","book search","placeholder","Search for a book...","id","search-input",3,"ngModel","ngModelChange"],[1,"search-dropdown"],["id","search-button",3,"click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._UZ(3,"fa-icon",3),i.TgZ(4,"input",4),i.NdJ("ngModelChange",function(t){return e.searchTerm=t}),i.qZA(),i.TgZ(5,"div",5),i.TgZ(6,"label"),i._uU(7,"by: "),i.qZA(),i.TgZ(8,"select"),i.TgZ(9,"option"),i._uU(10,"title"),i.qZA(),i.TgZ(11,"option"),i._uU(12,"author"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"button",6),i.NdJ("click",function(){return e.search()}),i._uU(14,"Search"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(3),i.Q6J("icon",e.faSearch),i.xp6(1),i.Q6J("ngModel",e.searchTerm))},directives:[kS,jS,XS,vT,CT,kT],styles:["*[_ngcontent-%COMP%]{background-color:#3793cd}.search-bar-container[_ngcontent-%COMP%]{display:flex;width:100%;margin-bottom:10px;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}.search-bar-with-icon[_ngcontent-%COMP%]{display:flex;background-color:#f7f7f7;width:100%;border-bottom-left-radius:5px;border-top-left-radius:5px;border:1px solid #98a09e;border-right:none;padding:8px 5px}#search-input[_ngcontent-%COMP%]{background-color:#f7f7f7;border:none;width:100%;padding:0 5px}#search-button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}label[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{color:#9d9d9d;background-color:#f7f7f7}select[_ngcontent-%COMP%]{border:1px solid #9d9d9d}.search-dropdown[_ngcontent-%COMP%]{display:flex;flex-direction:row;border:none!important;background-color:#9d9d9d!important}#search-button[_ngcontent-%COMP%]{background-color:#f7f7f7;padding:8px 5px;margin:0;border:1px solid #98a09e;border-bottom-right-radius:5px;border-top-right-radius:5px;font-weight:500;color:#3793cb}.faSearch[_ngcontent-%COMP%]{padding:0 20px 0 10px;color:#9d9d9d;background-color:#f5f5f5!important}@media only screen and (min-width:720px){.search-filter-component[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center;margin-bottom:10px}.search-bar-container[_ngcontent-%COMP%]{height:42px;max-width:600px;margin-right:15px}}"]}),t})();function PT(t,e){if(1&t&&(i.TgZ(0,"div",1),i.TgZ(1,"div",14),i.TgZ(2,"div",15),i._UZ(3,"img",16),i.TgZ(4,"div",17),i.TgZ(5,"h1"),i._uU(6,"Hello: "),i.TgZ(7,"strong"),i._uU(8),i.qZA(),i.qZA(),i.TgZ(9,"p"),i._uU(10,"User ID: "),i.TgZ(11,"strong"),i._uU(12),i.qZA(),i.qZA(),i.TgZ(13,"p"),i._uU(14,"Email: "),i.TgZ(15,"strong"),i._uU(16),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t){const t=e.ngIf;i.xp6(3),i.s9C("src",t.photoURL?t.photoURL:"/assets/dummy-user.png",i.LSH),i.s9C("alt",t.displayName),i.xp6(5),i.Oqu(t.displayName?t.displayName:"You"),i.xp6(4),i.Oqu(t.uid),i.xp6(4),i.Oqu(t.email)}}let RT=(()=>{class t{constructor(t,e,n){this.authService=t,this.router=e,this.ngZone=n,this.faUserCircle=Za,this.faSignOutAlt=Ua}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(nC),i.Y36(jo),i.Y36(i.R0b))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-dashboard"]],decls:21,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-2","d-md-block","bg-light","sidebar"],[1,"sidebar-sticky"],[1,"nav","flex-column"],[1,"nav-item"],["routerLink","/dashboard"],["size","lg",1,"user-icon",3,"icon"],[3,"click"],["role","main",1,"col-md-9","ml-sm-auto","col-lg-10","px-4"],[1,"inner-adjust"],[1,"pt-3","pb-2","mb-3","border-bottom"],[1,"h2"],["class","row",4,"ngIf"],[1,"col-md-12"],[1,"media"],[1,"align-self-start","mr-5","img-thumbnail","rounded-circle",3,"src","alt"],[1,"media-body"]],template:function(t,e){1&t&&(i._UZ(0,"app-main-header"),i._UZ(1,"app-search-bar"),i.TgZ(2,"div",0),i.TgZ(3,"div",1),i.TgZ(4,"nav",2),i.TgZ(5,"div",3),i.TgZ(6,"ul",4),i.TgZ(7,"li",5),i.TgZ(8,"span",6),i._UZ(9,"fa-icon",7),i._uU(10," User Profile"),i.qZA(),i.qZA(),i.TgZ(11,"li",5),i.TgZ(12,"span",8),i.NdJ("click",function(){return e.authService.SignOut()}),i._UZ(13,"fa-icon",7),i._uU(14,"Log out"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(15,"main",9),i.TgZ(16,"div",10),i.TgZ(17,"div",11),i.TgZ(18,"h2",12),i._uU(19,"Welcome to your user profile"),i.qZA(),i.qZA(),i.YNc(20,PT,17,5,"div",13),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(9),i.Q6J("icon",e.faUserCircle),i.xp6(4),i.Q6J("icon",e.faSignOutAlt),i.xp6(7),i.Q6J("ngIf",e.authService.userData))},directives:[AS,AT,Vo,kS,D],styles:["*[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif}.col-md-2[_ngcontent-%COMP%]{display:flex;flex-direction:row;background-color:#3793cd!important;color:#fff;width:100%}li[_ngcontent-%COMP%]{list-style-type:none}.inner-adjust[_ngcontent-%COMP%]{padding-left:80px}h2[_ngcontent-%COMP%]{font-family:Long Cang,cursive;font-size:2em}.nav-item[_ngcontent-%COMP%]{color:#f5f5f5}.nav-item[_ngcontent-%COMP%]:hover{color:#d3d3d3;transform:scale(1.05)}@media only screen and (min-width:720px){.container-fluid[_ngcontent-%COMP%]{height:100%}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col-md-2[_ngcontent-%COMP%]{width:25%}}"]}),t})(),NT=(()=>{class t{constructor(t){this.authService=t,this.faBookReader=Aa}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(nC))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-forgot-password"]],decls:28,vars:1,consts:[[1,"whole"],[1,"sign"],[1,"welcome"],[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"text-center"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl"],["passwordResetEmail",""],["type","submit","value","Reset Password",1,"login",3,"click"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"],["id","sign"],["id","intro"],["id","text"],["src","../../../assets/Novelish blue cropped.png","alt","Novelish logo","routerLink","/home"],["size","3x",1,"circle",3,"icon"]],template:function(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"section",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i.TgZ(6,"h3"),i._uU(7,"Reset Password"),i.qZA(),i.TgZ(8,"p",6),i._uU(9," Please enter your email address to request a password reset. "),i.qZA(),i.TgZ(10,"div",7),i._UZ(11,"input",8,9),i.qZA(),i.TgZ(13,"div",7),i.TgZ(14,"input",10),i.NdJ("click",function(){i.CHM(t);const n=i.MAs(12);return e.authService.ForgotPassword(n.value)}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(15,"div",11),i.TgZ(16,"span"),i._uU(17,"Go back to "),i.TgZ(18,"span",12),i.TgZ(19,"button",13),i._uU(20,"Log In"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(21,"section",14),i.TgZ(22,"div",15),i._UZ(23,"img",16),i.TgZ(24,"p"),i._uU(25,"A book review site that is powered by you, the user!"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(26,"div"),i._UZ(27,"fa-icon",17),i.qZA(),i.qZA()}2&t&&(i.xp6(27),i.Q6J("icon",e.faBookReader))},directives:[Vo,kS],styles:["*[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif}.whole[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;justify-content:center;text-align:center}.sign[_ngcontent-%COMP%]{background-color:#f4faf8}#intro[_ngcontent-%COMP%]{background-color:#3793cd;color:#f4faf8;text-align:center}#text[_ngcontent-%COMP%]{margin:30px}h3[_ngcontent-%COMP%]{font-size:20px}span[_ngcontent-%COMP%]{font-size:12px}.welcome[_ngcontent-%COMP%]{margin:40px}.formControl[_ngcontent-%COMP%]{display:flex;width:250px;font-size:15px;border-radius:25px;padding:10px;margin-bottom:15px;border:2px solid #e4e4e4;color:#435c5f;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}.formGroup[_ngcontent-%COMP%]{display:flex;justify-content:center}.formControl[_ngcontent-%COMP%]:hover{transform:scale(1.05)}label[_ngcontent-%COMP%]{font-size:12px;padding-left:15px;text-indent:-15px;display:block;margin-bottom:15px}.login[_ngcontent-%COMP%]{background-color:#3793cb;color:#f4faf8;border:#3793cb;border-radius:25px;width:130px;text-align:center;margin-right:40px;padding:8px;font-size:16px;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}.login[_ngcontent-%COMP%]:hover{transform:scale(1.05)}#sign[_ngcontent-%COMP%]{background-color:#f4faf8;color:#3793cb;border:1px solid #3793cb;border-radius:25px;text-align:center;width:100px;padding:8px;font-size:12px;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}#sign[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.circle[_ngcontent-%COMP%]{visibility:hidden}img[_ngcontent-%COMP%]{max-width:180px}img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.redirectToLogin[_ngcontent-%COMP%]{padding-top:20px}@media only screen and (min-width:720px){.whole[_ngcontent-%COMP%]{width:900px;box-shadow:1px 4px 100px grey;top:50%;left:50%;transform:translate(-50%,-50%)}.sign[_ngcontent-%COMP%], .whole[_ngcontent-%COMP%]{height:500px;position:fixed}.sign[_ngcontent-%COMP%]{background-color:#f4faf8;right:0;width:65%}#intro[_ngcontent-%COMP%]{position:absolute;left:0;width:35%;height:500px;text-align:left}#text[_ngcontent-%COMP%]{margin-top:160px;margin-left:60px;margin-right:80px}h3[_ngcontent-%COMP%]{font-size:20px}span[_ngcontent-%COMP%]{font-size:12px}.welcome[_ngcontent-%COMP%]{margin-top:140px;margin-left:180px}.formControl[_ngcontent-%COMP%]{width:250px;font-size:15px;border-radius:25px;padding:10px;border:2px solid #e4e4e4;color:#435c5f}.formControl[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:block;margin-bottom:15px}label[_ngcontent-%COMP%]{font-size:12px;padding-left:15px;text-indent:-15px}.login[_ngcontent-%COMP%]{background-color:#3793cb;color:#f4faf8;border:#3793cb;border-radius:25px;width:130px;margin-right:40px;font-size:16px}#sign[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{text-align:center;padding:8px}#sign[_ngcontent-%COMP%]{color:#3793cb;border:1px solid #3793cb;border-radius:25px;width:100px;font-size:12px}#sign[_ngcontent-%COMP%], .circle[_ngcontent-%COMP%]{background-color:#f4faf8}.circle[_ngcontent-%COMP%]{visibility:visible;position:fixed;height:70px;color:#3793cd;border-radius:100px;padding:10px;left:283px;top:50%;transform:translateY(-50%)}img[_ngcontent-%COMP%]{max-width:180px}.redirectToLogin[_ngcontent-%COMP%]{padding-top:20px}}"]}),t})(),DT=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return!0!==this.authService.isLoggedIn&&this.router.navigate(["sign-in"]),!0}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(nC),i.LFG(jo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),MT=(()=>{class t{constructor(t){this.http=t}getList(t){let e=t.replace(/\s/g,"-");return this.http.get(`https://api.nytimes.com/svc/books/v3/lists/current/${e}?api-key=2HQ1GkrWdYaq6CzEMgktkGYjAlqWQ5HC`)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(fa))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function LT(t,e){if(1&t&&i._UZ(0,"img",9),2&t){const t=i.oxw().$implicit;i.Q6J("src",t.url,i.LSH)}}function FT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"a",7),i.YNc(2,LT,1,1,"img",8),i.qZA(),i.BQk()),2&t){const t=e.$implicit,n=e.index,r=i.oxw();i.xp6(1),i.MGl("routerLink","/books/",t.isbn,""),i.xp6(1),i.Q6J("ngIf",n===r.currentSlide)}}let UT=(()=>{class t{constructor(t){this.NyTservice=t,this.subscription=null,this.currentSlide=0}onPreviousClick(){const t=this.currentSlide-1;this.currentSlide=t<0?this.slides.length-1:t,console.log("previous clicked, new current slide is: ",this.currentSlide)}onNextClick(){const t=this.currentSlide+1;this.currentSlide=t===this.slides.length?0:t,console.log("next clicked, new current slide is: ",this.currentSlide)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(MT))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-carousel"]],inputs:{slides:"slides",bookList1:"bookList1",bookList2:"bookList2",bookList3:"bookList3"},decls:7,vars:1,consts:[[1,"container"],[1,"carousel"],[4,"ngFor","ngForOf"],[1,"control","prev",3,"click"],[1,"arrow","left"],[1,"control","next",3,"click"],[1,"arrow","right"],[3,"routerLink"],["class","slide",3,"src",4,"ngIf"],[1,"slide",3,"src"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.YNc(2,FT,3,2,"ng-container",2),i.TgZ(3,"button",3),i.NdJ("click",function(){return e.onPreviousClick()}),i._UZ(4,"span",4),i.qZA(),i.TgZ(5,"button",5),i.NdJ("click",function(){return e.onNextClick()}),i._UZ(6,"span",6),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("ngForOf",e.slides))},directives:[R,qo,D],styles:["*[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]{flex:3}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.carousel[_ngcontent-%COMP%]{position:relative;overflow:hidden;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}.carousel[_ngcontent-%COMP%], .slide[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:.5em}.slide[_ngcontent-%COMP%]{position:absolute;top:0;left:0;object-fit:scale-down;transition:transform .15s cubic-bezier(.25,.46,.45,.84);background-color:#f5f5f5}.slide[_ngcontent-%COMP%]:hover{transform:scale(1.025)}.control[_ngcontent-%COMP%]{border:none;background-color:#f5f5f5;outline:0;position:absolute;cursor:pointer;display:flex;flex-direction:column;justify-content:center;padding:.5em;color:#fff;font-weight:700;font-size:3em;-webkit-user-select:none;user-select:none;height:100%;opacity:80%;transition:opacity .15s cubic-bezier(.25,.46,.45,.84)}.control[_ngcontent-%COMP%]:focus, .control[_ngcontent-%COMP%]:hover{opacity:1}.control.next[_ngcontent-%COMP%]{right:0}.control.prev[_ngcontent-%COMP%]{left:0}.arrow[_ngcontent-%COMP%]{display:block;border-left:.1em solid #3793cd;border-bottom:.1em solid #3793cd;width:.3em;height:.3em}.arrow.left[_ngcontent-%COMP%]{transform:rotate(45deg)}.arrow.right[_ngcontent-%COMP%]{transform:rotate(225deg)}h1[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif;font-size:.3em;text-align:center;color:#314749}@media only screen and (min-width:720px){.arrow[_ngcontent-%COMP%]{width:.5em;height:.5em}.carousel[_ngcontent-%COMP%]{width:500px}.container[_ngcontent-%COMP%]{justify-content:center;flex-direction:row}}"]}),t})(),jT=(()=>{class t{constructor(t,e){this.NyTservice=t,this.NovelishBackendService=e,this.subscription=null,this.subscriptionList2=null,this.subscriptionList3=null,this.userSubscription=null,this.slides=[],this.slides2=[],this.slides3=[]}ngOnInit(){localStorage.user&&(this.userSubscription=this.NovelishBackendService.addNewUser().subscribe(()=>{})),this.subscription=this.NyTservice.getList("Combined Print and E-Book Fiction").subscribe(t=>{console.log(t),this.slides=t.results.books.map(t=>{const e=`http://covers.openlibrary.org/b/isbn/${t.primary_isbn10}-M.jpg`,n=t.primary_isbn10;return console.log(e),{url:e,isbn:n}}),this.bookList1=t}),console.log(this.bookList1),this.subscriptionList2=this.NyTservice.getList("Combined Print and E-Book Nonfiction").subscribe(t=>{console.log(t),this.slides2=t.results.books.map(t=>{const e=`http://covers.openlibrary.org/b/isbn/${t.primary_isbn10}-M.jpg`,n=t.primary_isbn10;return console.log(e),{url:e,isbn:n}}),this.bookList2=t}),this.subscriptionList3=this.NyTservice.getList("Graphic Books and Manga").subscribe(t=>{console.log(t),this.slides3=t.results.books.map(t=>{const e=`http://covers.openlibrary.org/b/isbn/${t.primary_isbn10}-M.jpg`,n=t.primary_isbn10;return console.log(e),{url:e,isbn:n}}),this.bookList3=t})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(MT),i.Y36(eC))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-main-home-page"]],features:[i._Bn([MT])],decls:18,vars:3,consts:[[1,"main"],[1,"carousel_container"],[3,"slides"]],template:function(t,e){1&t&&(i._UZ(0,"app-main-header"),i._UZ(1,"app-search-bar"),i.TgZ(2,"main"),i.TgZ(3,"div",0),i.TgZ(4,"h1"),i._uU(5,"Current NY Times Fiction Best Sellers"),i.qZA(),i.TgZ(6,"div",1),i._UZ(7,"app-carousel",2),i.qZA(),i.qZA(),i.TgZ(8,"div",0),i.TgZ(9,"h1"),i._uU(10,"Current NY Times Nonfiction Best Sellers"),i.qZA(),i.TgZ(11,"div",1),i._UZ(12,"app-carousel",2),i.qZA(),i.qZA(),i.TgZ(13,"div",0),i.TgZ(14,"h1"),i._uU(15,"Current NY Times Graphic Novels & Manga Best Sellers"),i.qZA(),i.TgZ(16,"div",1),i._UZ(17,"app-carousel",2),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(7),i.Q6J("slides",e.slides),i.xp6(5),i.Q6J("slides",e.slides2),i.xp6(5),i.Q6J("slides",e.slides3))},directives:[AS,AT,UT],styles:["main[_ngcontent-%COMP%]{min-height:100vh}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}h1[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif;font-size:1.2em;text-align:center;color:#314749;margin-top:10px}.carousel_container[_ngcontent-%COMP%]{display:block;height:300px;width:100%;justify-content:center}@media only screen and (min-width:720px){h1[_ngcontent-%COMP%]{font-size:1.5em}}"]}),t})(),VT=(()=>{class t{constructor(t,e){this.OLService=t,this.NBService=e,this.bookList=[],this.book=null}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(PS),i.Y36(eC))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-book"]],inputs:{book:"book"},decls:4,vars:3,consts:[[1,"book_container",3,"routerLink"],[1,"book",3,"src"]],template:function(t,e){1&t&&(i.TgZ(0,"a",0),i._UZ(1,"img",1),i.TgZ(2,"p"),i._uU(3),i.qZA(),i.qZA()),2&t&&(i.MGl("routerLink","/books/",null==e.book?null:e.book.isbn,""),i.xp6(1),i.MGl("src","http://covers.openlibrary.org/b/isbn/",null==e.book?null:e.book.isbn,"-M.jpg",i.LSH),i.xp6(2),i.Oqu(null==e.book?null:e.book.title))},directives:[qo],styles:[".book_container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.book[_ngcontent-%COMP%]{max-height:10em;max-width:7em;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}p[_ngcontent-%COMP%]{margin-top:5px;color:#314749}@media only screen and (min-width:720px){p[_ngcontent-%COMP%]{max-width:7em;overflow:hidden}}"]}),t})();function qT(t,e){if(1&t&&(i.TgZ(0,"li",2),i._UZ(1,"app-book",3),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.Q6J("book",t)}}let ZT=(()=>{class t{constructor(t){this.NBService=t,this.book=null,this.books=[],this.user=null,this.userId=null,this.shelf="",this.emailsubscription=null,this.subscription=null}ngOnInit(){console.log(this.shelf),this.subscription=this.NBService.getBooksFromShelf(this.shelf).subscribe(t=>{console.log("in get books"),console.log(t),this.books=t})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(eC))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-shelf"]],inputs:{shelf:"shelf"},decls:2,vars:1,consts:[[1,"shelf_container"],["class","books",4,"ngFor","ngForOf"],[1,"books"],[3,"book"]],template:function(t,e){1&t&&(i.TgZ(0,"ul",0),i.YNc(1,qT,2,1,"li",1),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngForOf",e.books))},directives:[R,VT],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Josefin Sans,sans-serif}.shelf_container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin:10px;padding:8px;border:1px solid #3793cb;border-radius:5px;background-color:#f5f5f5}.shelf_container[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}img[_ngcontent-%COMP%]{max-width:80px;margin:5px 20px}.books[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-items:center;padding:5px;justify-content:space-around;width:300px}.books[_ngcontent-%COMP%]:hover{transform:scale(1.05)}@media only screen and (min-width:720px){.shelf_container[_ngcontent-%COMP%]{flex-direction:row;overflow:auto}}"]}),t})();function BT(t,e){if(1&t&&(i.TgZ(0,"div",3),i.TgZ(1,"h2"),i._uU(2),i.qZA(),i._UZ(3,"app-shelf",4),i.qZA()),2&t){const t=e.$implicit;i.xp6(2),i.Oqu(t.shelf),i.xp6(1),i.Q6J("shelf",t.shelf)}}let zT=(()=>{class t{constructor(t,e){this.NBService=t,this.AuthService=e,this.faChevronDown=Ra,this.shelves=[],this.subscription=null}ngOnInit(){this.subscription=this.NBService.getShelvesByUser().subscribe(t=>{console.log(t),this.shelves=t})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(eC),i.Y36(nC))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-shelves"]],decls:7,vars:1,consts:[["id","main"],[1,"container"],["id","shelf",4,"ngFor","ngForOf"],["id","shelf"],[3,"shelf"]],template:function(t,e){1&t&&(i._UZ(0,"app-main-header"),i._UZ(1,"app-search-bar"),i.TgZ(2,"div",0),i.TgZ(3,"h1"),i._uU(4,"Welcome to your library"),i.qZA(),i.TgZ(5,"div",1),i.YNc(6,BT,4,2,"div",2),i.qZA(),i.qZA()),2&t&&(i.xp6(6),i.Q6J("ngForOf",e.shelves))},directives:[AS,AT,R,ZT],styles:["*[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif}#main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#314749}h2[_ngcontent-%COMP%]{font-size:1.3em}.hidden[_ngcontent-%COMP%]{visibility:hidden}.show[_ngcontent-%COMP%]{visibility:visible}"]}),t})();function HT(t,e){if(1&t&&(i.TgZ(0,"div",2),i.TgZ(1,"div",3),i.TgZ(2,"a",4),i._UZ(3,"img",5),i.TgZ(4,"h1"),i._uU(5),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t){const t=e.$implicit;i.xp6(2),i.MGl("routerLink","/books/",null==t?null:t.isbn[0],""),i.xp6(1),i.MGl("src","http://covers.openlibrary.org/b/isbn/",null==t?null:t.isbn[0],"-M.jpg?default=false",i.LSH),i.s9C("alt",null==t?null:t.title),i.xp6(2),i.AsE("",t.title," by ",t.author_name,"")}}let GT=(()=>{class t{constructor(t){this.OLService=t,this.subscription=null,this.resultList=null}ngOnInit(){console.log("In Init"),this.subscription=this.OLService.subject.subscribe(t=>{console.log(t),this.resultList=t})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(PS))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-results"]],decls:4,vars:1,consts:[[1,"results_container"],["class","results",4,"ngFor","ngForOf"],[1,"results"],[1,"book_container"],[3,"routerLink"],["onerror","this.onerror=false;this.src='../assets/Novelish-blank-cover.png'",3,"src","alt"]],template:function(t,e){1&t&&(i._UZ(0,"app-main-header"),i._UZ(1,"app-search-bar"),i.TgZ(2,"div",0),i.YNc(3,HT,6,5,"div",1),i.qZA()),2&t&&(i.xp6(3),i.Q6J("ngForOf",e.resultList))},directives:[AS,AT,R,qo],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Josefin Sans,sans-serif}h1[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;font-size:small;white-space:pre-wrap;overflow:hidden;text-overflow:ellipsis}.results_container[_ngcontent-%COMP%]{display:flex;margin:10px;padding:8px;border-radius:5px;flex-direction:column}img[_ngcontent-%COMP%]{max-width:80px;margin:5px 20px;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}a[_ngcontent-%COMP%]{text-decoration:none;color:#314749}@media only screen and (min-width:720px){.results_container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-flow:wrap}.results[_ngcontent-%COMP%]{flex-wrap:wrap}.book_container[_ngcontent-%COMP%], .results[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.book_container[_ngcontent-%COMP%]{align-content:center;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030;height:200px;width:200px;padding:10px;margin:15px;border-radius:5px;flex-flow:wrap;background-color:#f5f5f5}.book_container[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{flex-direction:column}a[_ngcontent-%COMP%]{display:flex}a[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{align-items:center}img[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%]:hover{white-space:wrap;overflow:visible}}"]}),t})(),$T=(()=>{class t{constructor(t,e,n){this.authService=t,this.router=e,this.ngZone=n,this.faTimes=qa}ngOnInit(){}search(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(nC),i.Y36(jo),i.Y36(i.R0b))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-side-menu"]],decls:13,vars:0,consts:[[1,"main"],["routerLink","/home"],[3,"click"],["routerLink","/about"]],template:function(t,e){1&t&&(i._UZ(0,"app-main-header"),i._UZ(1,"app-search-bar"),i.TgZ(2,"div",0),i.TgZ(3,"ul"),i.TgZ(4,"li"),i.TgZ(5,"a",1),i._uU(6,"Home"),i.qZA(),i.qZA(),i.TgZ(7,"li"),i.TgZ(8,"a",2),i.NdJ("click",function(){return e.authService.SignOut()}),i._uU(9,"Log out"),i.qZA(),i.qZA(),i.TgZ(10,"li"),i.TgZ(11,"a",3),i._uU(12,"About"),i.qZA(),i.qZA(),i.qZA(),i.qZA())},directives:[AS,AT,qo],styles:["*[_ngcontent-%COMP%]{font-size:16px;position:relative;background-color:#3793cd;color:#f5f5f5;font-family:Josefin Sans,sans-serif}h2[_ngcontent-%COMP%]{font-size:1.2em}main[_ngcontent-%COMP%]{padding:15px;max-width:100px}ul[_ngcontent-%COMP%]{margin-left:0;padding-left:15px}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style-type:none}li[_ngcontent-%COMP%]:hover{color:#314749}a[_ngcontent-%COMP%]{text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#314749}"]}),t})();var JT=n(5024);function WT(t,e,n,r){return(0,JT.m)(n)&&(r=n,n=void 0),r?WT(t,e,n).pipe((0,Tn.U)(t=>(0,un.k)(t)?r(...t):r(t))):new dn.y(r=>{YT(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function YT(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)YT(t[o],e,n,r,i)}r.add(o)}var KT=n(2293);function QT(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class XT{call(t,e){return e.subscribe(new tE(t))}}class tE extends ln{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=pn(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n(6054);var eE=n(5686);function nE(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),(0,gn.n)(t,void 0).lift(new rE(e))}class rE{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new iE(t,this.resultSelector))}}class iE extends cn.L{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,un.k)(t)?e.push(new sE(t)):e.push("function"==typeof t[eE.hZ]?new oE(t[eE.hZ]()):new aE(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class oE{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class sE{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[eE.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class aE extends En.Ds{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[eE.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,En.ft)(this.observable,new En.IY(this))}}function uE(t){return e=>e.lift(new cE(t))}class cE{constructor(t){this.notifier=t}call(t,e){const n=new lE(t),r=(0,En.ft)(this.notifier,new En.IY(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class lE extends En.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function hE(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new fE(t,n))}}class fE{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new dE(t,this.observables,this.project))}}class dE extends ln{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(pn(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n(8861),n(1055);const pE=["*"],gE=["dialog"];function mE(t,e){1&t&&i._uU(0),2&t&&i.Oqu(100===e.fill?"\u2605":"\u2606")}function yE(t,e){}function vE(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"span",2),i._uU(1),i.qZA(),i.TgZ(2,"span",3),i.NdJ("mouseenter",function(){const e=i.CHM(t).index;return i.oxw().enter(e+1)})("click",function(){const e=i.CHM(t).index;return i.oxw().handleClick(e+1)}),i.YNc(3,yE,0,0,"ng-template",4),i.qZA()}if(2&t){const t=e.index,n=i.oxw(),r=i.MAs(1);i.xp6(1),i.hij("(",t<n.nextRate?"*":" ",")"),i.xp6(1),i.Udp("cursor",n.isInteractive()?"pointer":"default"),i.xp6(1),i.Q6J("ngTemplateOutlet",n.starTemplate||n.starTemplateFromContent||r)("ngTemplateOutletContext",n.contexts[t])}}function bE(t,e,n=0){return Math.max(Math.min(t,e),n)}function _E(t){return null!=t}function wE(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const xE={animation:!0,transitionTimerDelayMs:5};let CE=(()=>{class t{constructor(){this.animation=xE.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const SE=()=>{},{transitionTimerDelayMs:TE}=xE,EE=new Map,kE=(t,e,n,r)=>{let i=r.context||{};const o=EE.get(e);if(o)switch(r.runningTransition){case"continue":return xn.E;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),EE.delete(e)}const s=n(e,r.animation,i)||SE;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),(0,nn.of)(void 0).pipe(function(t){return e=>new dn.y(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new rn.xQ,u=new rn.xQ,c=a.pipe(function(...t){return e=>wn(e,(0,nn.of)(...t))}(!0));EE.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=WT(e,"transitionend").pipe(uE(c),Un(({target:t})=>t===e));(function(...t){if(1===t.length){if(!(0,un.k)(t[0]))return t[0];t=t[0]}return(0,gn.n)(t,void 0).lift(new XT)})(function(t=0,e,n){let r=-1;return(0,KT.k)(e)?r=Number(e)<1?1:Number(e):(0,an.K)(e)&&(n=e),(0,an.K)(n)||(n=za.P),new dn.y(e=>{const i=(0,KT.k)(t)?t:+t-n.now();return n.schedule(QT,i,{index:0,period:r,subscriber:e})})}(l+TE).pipe(uE(c)),n,u).pipe(uE(c)).subscribe(()=>{EE.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let OE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[U]]}),t})(),IE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[U]]}),t})(),AE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),PE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[U]]}),t})(),RE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();var NE=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const DE=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ME(t){const e=Array.from(t.querySelectorAll(DE)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let f=0,d=0;switch(i){case"top":f=s.top-(e.offsetHeight+u+c);break;case"bottom":f=s.top+s.height;break;case"left":d=s.left-(e.offsetWidth+l+h);break;case"right":d=s.left+s.width}switch(o){case"top":f=s.top;break;case"bottom":f=s.top+s.height-e.offsetHeight;break;case"left":d=s.left;break;case"right":d=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=s.left+s.width/2-e.offsetWidth/2:f=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=m}},new Date(1882,10,12),new Date(2174,10,25);let LE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[U,IT]]}),t})(),FE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),UE=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(CE))},t.\u0275prov=(0,i.Yz7)({factory:function(){return new t((0,i.LFG)(CE))},token:t,providedIn:"root"}),t})();class jE{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const VE=()=>{};let qE=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):VE}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(a))},t.\u0275prov=(0,i.Yz7)({factory:function(){return new t((0,i.LFG)(a))},token:t,providedIn:"root"}),t})(),ZE=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Pn(1)).subscribe(()=>{kE(this._zone,this._el.nativeElement,(t,e)=>{e&&wE(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return kE(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b))},t.\u0275cmp=i.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(i.Tol("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),i.ekj("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class BE{close(t){}dismiss(t){}}class zE{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new rn.xQ,this._dismissed=new rn.xQ,this._hidden=new rn.xQ,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(uE(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(uE(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,nn.of)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),nE(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var HE=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let GE=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new rn.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.vpe,this.shown=new rn.xQ,this.hidden=new rn.xQ}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Pn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=nE(kE(this._zone,t,()=>t.classList.remove("show"),e),kE(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};nE(kE(this._zone,this._elRef.nativeElement,(t,e)=>{e&&wE(t),t.classList.add("show")},t),kE(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{WT(t,"keydown").pipe(uE(this._closed$),Un(t=>t.which===NE.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(HE.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;WT(this._dialogEl.nativeElement,"mousedown").pipe(uE(this._closed$),(0,ir.b)(()=>e=!1),kn(()=>WT(t,"mouseup").pipe(uE(this._closed$),Pn(1))),Un(({target:e})=>t===e)).subscribe(()=>{e=!0}),WT(t,"click").pipe(uE(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(HE.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=ME(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&kE(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(a),i.Y36(i.SBq),i.Y36(i.R0b))},t.\u0275cmp=i.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&i.Gf(gE,7),2&t){let t;i.iGM(t=i.CRH())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(i.uIk("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),i.Tol("modal d-block"+(e.windowClass?" "+e.windowClass:"")),i.ekj("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:pE,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(i.F$t(),i.TgZ(0,"div",0,1),i.TgZ(2,"div",2),i.Hsn(3),i.qZA(),i.qZA()),2&t&&i.Tol("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),$E=(()=>{class t{constructor(t,e,n,r,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=r,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new rn.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new i.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=WT(e,"focusin").pipe(uE(n),(0,Tn.U)(t=>t.target));WT(e,"keydown").pipe(uE(n),Un(t=>t.which===NE.Tab),hE(t)).subscribe(([t,n])=>{const[r,i]=ME(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&WT(e,"click").pipe(uE(n),hE(t),(0,Tn.U)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:_E(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new BE,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new zE(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&(this._applyBackdropOptions(l.instance,r),l.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(ZE).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(GE).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{_E(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{_E(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,r,o){return n?n instanceof i.Rgc?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,o):new jE([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new jE([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new jE([[e]])}_createFromComponent(t,e,n,r,o){const s=t.resolveComponentFactory(n),a=i.zs3.create({providers:[{provide:BE,useValue:r}],parent:e}),u=s.create(a),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new jE([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.z2F),i.LFG(i.zs3),i.LFG(a),i.LFG(qE),i.LFG(i.FYo),i.LFG(i.R0b))},t.\u0275prov=(0,i.Yz7)({factory:function(){return new t((0,i.LFG)(i.z2F),(0,i.LFG)(i.gxx),(0,i.LFG)(a),(0,i.LFG)(qE),(0,i.LFG)(i.FYo),(0,i.LFG)(i.R0b))},token:t,providedIn:"root"}),t})(),JE=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i._Vd),i.LFG(i.zs3),i.LFG($E),i.LFG(UE))},t.\u0275prov=(0,i.Yz7)({factory:function(){return new t((0,i.LFG)(i._Vd),(0,i.LFG)(i.gxx),(0,i.LFG)($E),(0,i.LFG)(UE))},token:t,providedIn:"root"}),t})(),WE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[JE]}),t})(),YE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[U]]}),t})(),KE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[U]]}),t})(),QE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[U]]}),t})(),XE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[U]]}),t})(),tk=(()=>{class t{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),ek=(()=>{class t{constructor(t,e){this._changeDetectorRef=e,this.contexts=[],this.disabled=!1,this.hover=new i.vpe,this.leave=new i.vpe,this.rateChange=new i.vpe(!0),this.onChange=t=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case NE.ArrowDown:case NE.ArrowLeft:this.update(this.rate-1);break;case NE.ArrowUp:case NE.ArrowRight:this.update(this.rate+1);break;case NE.Home:this.update(0);break;case NE.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(t,e)=>({fill:0,index:e})),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,e=!0){const n=bE(t,this.max,0);this.isInteractive()&&this.rate!==n&&(this.rate=n,this.rateChange.emit(this.rate)),e&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((e,n)=>e.fill=Math.round(100*bE(t-n,1,0)))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(tk),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["ngb-rating"]],contentQueries:function(t,e,n){if(1&t&&i.Suo(n,i.Rgc,5),2&t){let t;i.iGM(t=i.CRH())&&(e.starTemplateFromContent=t.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,e){1&t&&i.NdJ("blur",function(){return e.handleBlur()})("keydown",function(t){return e.handleKeyDown(t)})("mouseleave",function(){return e.reset()}),2&t&&(i.Ikx("tabindex",e.disabled?-1:0),i.uIk("aria-valuemax",e.max)("aria-valuenow",e.nextRate)("aria-valuetext",e.ariaValueText())("aria-disabled",!!e.readonly||null))},inputs:{max:"max",readonly:"readonly",rate:"rate",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[i._Bn([{provide:LS,useExisting:(0,i.Gpc)(()=>t),multi:!0}]),i.TTD],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(i.YNc(0,mE,1,1,"ng-template",null,0,i.W1O),i.YNc(2,vE,4,5,"ng-template",1)),2&t&&(i.xp6(2),i.Q6J("ngForOf",e.contexts))},directives:[R,F],encapsulation:2,changeDetection:0}),t})(),nk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[U]]}),t})(),rk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[U]]}),t})(),ik=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[U]]}),t})(),ok=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();new i.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let sk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[U]]}),t})();const ak=[OE,IE,AE,PE,RE,LE,FE,WE,YE,KE,QE,XE,nk,rk,ik,ok,sk];let uk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[ak,OE,IE,AE,PE,RE,LE,FE,WE,YE,KE,QE,XE,nk,rk,ik,ok,sk]}),t})();function ck(t,e){if(1&t&&(i.TgZ(0,"div",11),i.TgZ(1,"p"),i._uU(2," For each category below, click either "),i._UZ(3,"fa-icon",12),i._uU(4," for a pro (or positive aspect of the book) or "),i._UZ(5,"fa-icon",13),i._uU(6," for a con (or negative aspect of the book) if that category applies to this book. Only vote for categories that you feel best apply to the book you are currently reviewing (you do not have to vote in all categories) . "),i.qZA(),i.TgZ(7,"p"),i._uU(8," To unselect a category, just click on the same "),i._UZ(9,"fa-icon",12),i._uU(10," or "),i._UZ(11,"fa-icon",13),i._uU(12," to reset that category. "),i.qZA(),i.TgZ(13,"p"),i._uU(14," Category voting not your thing? Don't worry, we still have the star rating and open note type reviews below. "),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(3),i.Q6J("icon",t.faPlusCircle),i.xp6(2),i.Q6J("icon",t.faMinusCircle),i.xp6(4),i.Q6J("icon",t.faPlusCircle),i.xp6(2),i.Q6J("icon",t.faMinusCircle)}}const lk=function(t){return{pro:t}},hk=function(t){return{con:t}};function fk(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"p",5),i._uU(2),i.TgZ(3,"button",14),i.NdJ("click",function(){const e=i.CHM(t).index;return i.oxw().toggle(!0,e)}),i._UZ(4,"fa-icon",12),i.qZA(),i.TgZ(5,"button",14),i.NdJ("click",function(){const e=i.CHM(t).index;return i.oxw().toggle(!1,e)}),i._UZ(6,"fa-icon",13),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit,n=i.oxw();i.xp6(2),i.hij(" ",t.reviewCategory," "),i.xp6(1),i.Q6J("ngClass",i.VKq(5,lk,!0===t.value)),i.xp6(1),i.Q6J("icon",n.faPlusCircle),i.xp6(1),i.Q6J("ngClass",i.VKq(7,hk,!1===t.value)),i.xp6(1),i.Q6J("icon",n.faMinusCircle)}}function dk(t,e){1&t&&(i.TgZ(0,"ul"),i.TgZ(1,"ol"),i._uU(2,"1 = Burn it!"),i.qZA(),i.TgZ(3,"ol"),i._uU(4,"2 = meh"),i.qZA(),i.TgZ(5,"ol"),i._uU(6,"3 = It's okay"),i.qZA(),i.TgZ(7,"ol"),i._uU(8,"4 = It was good"),i.qZA(),i.TgZ(9,"ol"),i._uU(10,"5 = Awesome-Sauce! 100% would read it again!"),i.qZA(),i.qZA())}let pk=(()=>{class t{constructor(t,e){this.NBService=t,this.router=e,this.faPlusCircle=La,this.faMinusCircle=Da,this.faStar=ja,this.faChevronDown=Ra,this.faCheck=Pa,this.expandInstructions=!1,this.expandRatingScale=!1,this.book=null,this.proCategories=[],this.conCategories=[],this.addedReviews=[],this.rating=null,this.reviewText="",this.submitSubscribe=null,this.reviewSubscribe=null,this.isbn="",this.reviewCategories=[{reviewCategory:"Accuracy",value:null},{reviewCategory:"Character Development",value:null},{reviewCategory:"Editing",value:null},{reviewCategory:"Informative",value:null},{reviewCategory:"Organization",value:null},{reviewCategory:"Pacing",value:null},{reviewCategory:"Plot Development",value:null},{reviewCategory:"Readability",value:null},{reviewCategory:"World-Building",value:null},{reviewCategory:"Worth the Time/Cost",value:null},{reviewCategory:"Writing Style",value:null}],this.starRating=0}ngOnInit(){console.log(this.book)}toggle(t,e){this.reviewCategories[e].value=this.reviewCategories[e].value!==t?t:null}submit(){const t=this.newReview;this.submitSubscribe=this.NBService.addReview(t,this.isbn).subscribe(()=>{this.router.navigate(["/shelves"])}),console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(eC),i.Y36(jo))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-review-toggle-button"]],inputs:{book:"book",isbn:"isbn"},decls:27,vars:11,consts:[[1,"flexRow"],[1,"expand",3,"click"],[3,"icon"],["class","flexColumn",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"leftMargin"],[1,"leftMargin",3,"max","rate","readonly","rateChange"],[4,"ngIf"],[1,"review-container"],["aria-label","Review","type","text","id","review","name","review","placeholder","Write your thoughts here...",3,"ngModel","ngModelChange"],[1,"submit",3,"click"],[1,"flexColumn"],["aria-label","plus",3,"icon"],["aria-label","minus",3,"icon"],[3,"ngClass","click"]],template:function(t,e){1&t&&(i.TgZ(0,"span",0),i.TgZ(1,"h2"),i._uU(2,"How to make a review"),i.qZA(),i.TgZ(3,"button",1),i.NdJ("click",function(){return e.expandInstructions=!e.expandInstructions}),i._UZ(4,"fa-icon",2),i.qZA(),i.qZA(),i.YNc(5,ck,15,4,"div",3),i.TgZ(6,"div",0),i.TgZ(7,"h3"),i._uU(8,"Pro or Con Categories"),i.qZA(),i.qZA(),i.TgZ(9,"div"),i.YNc(10,fk,7,9,"div",4),i.qZA(),i.TgZ(11,"h3",5),i._uU(12,"Star Rating"),i.qZA(),i.TgZ(13,"ngb-rating",6),i.NdJ("rateChange",function(t){return e.starRating=t}),i.qZA(),i.TgZ(14,"span",0),i.TgZ(15,"p"),i._uU(16,"Rating Scale:"),i.qZA(),i.TgZ(17,"button",1),i.NdJ("click",function(){return e.expandRatingScale=!e.expandRatingScale}),i._UZ(18,"fa-icon",2),i.qZA(),i.qZA(),i.YNc(19,dk,11,0,"ul",7),i.TgZ(20,"p",5),i._uU(21),i.qZA(),i.TgZ(22,"div",8),i.TgZ(23,"textarea",9),i.NdJ("ngModelChange",function(t){return e.newReview=t}),i.qZA(),i.qZA(),i.TgZ(24,"button",10),i.NdJ("click",function(){return e.submit()}),i._uU(25,"Submit "),i._UZ(26,"fa-icon",2),i.qZA()),2&t&&(i.xp6(4),i.Q6J("icon",e.faChevronDown),i.xp6(1),i.Q6J("ngIf",e.expandInstructions),i.xp6(5),i.Q6J("ngForOf",e.reviewCategories),i.xp6(3),i.Q6J("max",5)("rate",e.starRating)("readonly",!1),i.xp6(5),i.Q6J("icon",e.faChevronDown),i.xp6(1),i.Q6J("ngIf",e.expandRatingScale),i.xp6(2),i.hij("Your rating: ",e.starRating,""),i.xp6(2),i.Q6J("ngModel",e.newReview),i.xp6(3),i.Q6J("icon",e.faCheck))},directives:[kS,D,R,ek,jS,XS,vT,A],styles:["*[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif}.flexRow[_ngcontent-%COMP%]{flex-direction:row}.flexColumn[_ngcontent-%COMP%], .flexRow[_ngcontent-%COMP%]{display:flex;margin-left:15px;margin-right:15px;padding:4px;width:100%}.flexColumn[_ngcontent-%COMP%]{flex-direction:column}.leftMargin[_ngcontent-%COMP%]{margin-left:15px}.center[_ngcontent-%COMP%]{border-color:red solid 1px}h2[_ngcontent-%COMP%]{text-decoration:underline;font-size:40px}.pro[_ngcontent-%COMP%]{background-color:#3793cb}.con[_ngcontent-%COMP%], .pro[_ngcontent-%COMP%]{color:#f5f5f5}.con[_ngcontent-%COMP%]{background-color:#000}.neutral[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#000}button[_ngcontent-%COMP%]{margin-left:10px;padding:2px 5px;border-radius:50%;height:40px;width:40px}.expand[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{border:2px solid #f5f5f5;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}.expand[_ngcontent-%COMP%]{background-color:#3793cd;color:#f5f5f5}.submit[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:20px;width:auto;border:2px solid #f5f5f5;color:#3793cd;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030;margin-bottom:20px}.hide[_ngcontent-%COMP%]{visibility:hidden}.show[_ngcontent-%COMP%]{visibility:visible}ngb-rating[_ngcontent-%COMP%]{border-color:solid 1px #000;color:#f5f5f5;font-size:80px}.review-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;padding:5px;margin:5px}.review-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}"]}),t})();function gk(t,e){1&t&&(i.TgZ(0,"div",15),i.TgZ(1,"div",16),i._UZ(2,"div",17),i._UZ(3,"div",18),i.qZA(),i.TgZ(4,"div",19),i._UZ(5,"div",17),i._UZ(6,"div",18),i.qZA(),i.TgZ(7,"div",20),i._UZ(8,"div",17),i._UZ(9,"div",18),i.qZA(),i.TgZ(10,"div",21),i._UZ(11,"div",17),i.qZA(),i.qZA())}function mk(t,e){if(1&t&&(i.TgZ(0,"p"),i._uU(1),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.Oqu(t.name)}}function yk(t,e){if(1&t&&(i.TgZ(0,"h4"),i._uU(1),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.Oqu(t.name)}}function vk(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"h4"),i._uU(2,"Pages"),i.qZA(),i.TgZ(3,"p"),i._uU(4),i.qZA(),i.TgZ(5,"h4"),i._uU(6,"Publisher"),i.qZA(),i.YNc(7,mk,2,1,"p",22),i.TgZ(8,"div"),i.TgZ(9,"h3"),i._uU(10,"Author(s)"),i.qZA(),i.YNc(11,yk,2,1,"h4",22),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(4),i.Oqu(null==t.book?null:t.book.number_of_pages),i.xp6(3),i.Q6J("ngForOf",null==t.book?null:t.book.publishers),i.xp6(4),i.Q6J("ngForOf",null==t.book?null:t.book.authors)}}function bk(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"p"),i._uU(2),i.qZA(),i.qZA()),2&t){const t=e.$implicit,n=e.index;i.xp6(2),i.AsE("Reviewer# ",n,': "',null==t?null:t.review,'"')}}function _k(t,e){if(1&t&&(i.TgZ(0,"span"),i.YNc(1,bk,3,2,"div",22),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.reviews)}}function wk(t,e){if(1&t&&i._UZ(0,"app-review-toggle-button",23),2&t){const t=i.oxw();i.Q6J("book",t.book)("isbn",t.isbn)}}const xk=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:jT},{path:"sign-in",component:rC},{path:"register-user",component:iC},{path:"dashboard",component:RT,canActivate:[DT]},{path:"forgot-password",component:NT},{path:"shelves",component:zT},{path:"reviews",component:pk},{path:"results",component:GT},{path:"side-menu",component:$T},{path:"books/:isbn",component:(()=>{class t{constructor(t,e,n,r){this.backend=t,this.OLService=e,this.router=n,this.activatedRoute=r,this.faStarHalfAlt=Va,this.faPlus=Ma,this.faDumpsterFire=Na,this.faChevronDown=Ra,this.showFire=!1,this.showReviewForm=!1,this.expandDetails=!1,this.expandReviews=!1,this.book=null,this.isbn=null,this.OLSubscription=null,this.NBSubscription=null,this.reviewSubscription=null,this.subscription1=null,this.UISubscription=null,this.user_id=null,this.shelf=null,this.result=null,this.book_id=null,this.email=null}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.isbn=t.get("isbn"),this.user_id=t.get("uid")}),this.OLSubscription=this.OLService.getBook(this.isbn).subscribe(t=>{console.log(t),this.book=t[`ISBN:${this.isbn}`]}),this.reviewSubscription=this.backend.getReviewsByBook(this.isbn).subscribe(t=>{this.reviews=t})}reviewIt(){this.reviewSubscription=this.backend.getReviewsByBook(this.isbn).subscribe(t=>{this.reviews=t})}addToShelf(t){this.backend.addBookToShelf({title:this.book.title,author:this.book.authors,isbn:this.isbn,language:"english"},t).subscribe(()=>{this.router.navigate(["/shelves"])})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(eC),i.Y36(PS),i.Y36(jo),i.Y36(mi))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-book-view"]],decls:55,vars:14,consts:[[1,"container"],[1,"outer"],["onerror","this.onerror=false;this.src='../assets/Novelish-blank-cover-L.png'",1,"book",3,"src"],["class","fire",4,"ngIf"],[1,"buttons"],[1,"button-row"],[3,"click"],["size","lg",3,"icon"],[3,"icon"],["size","lg",1,"nav-icon",3,"icon"],[1,"details_container"],[1,"details"],[1,"chevron",3,"click"],[4,"ngIf"],[3,"book","isbn",4,"ngIf"],[1,"fire"],[1,"fire-left"],[1,"main-fire"],[1,"particle-fire"],[1,"fire-main"],[1,"fire-right"],[1,"fire-bottom"],[4,"ngFor","ngForOf"],[3,"book","isbn"]],template:function(t,e){1&t&&(i._UZ(0,"app-main-header"),i._UZ(1,"app-search-bar"),i.TgZ(2,"h2"),i._uU(3),i.qZA(),i.TgZ(4,"div",0),i.TgZ(5,"div",1),i._UZ(6,"img",2),i.YNc(7,gk,12,0,"div",3),i.qZA(),i.TgZ(8,"div",4),i.TgZ(9,"div",5),i.TgZ(10,"button",6),i.NdJ("click",function(){return e.showReviewForm=!e.showReviewForm}),i._UZ(11,"fa-icon",7),i.qZA(),i.TgZ(12,"span"),i._uU(13,"Review It"),i.qZA(),i.qZA(),i.TgZ(14,"div",5),i.TgZ(15,"button",6),i.NdJ("click",function(){return e.addToShelf("Want to Read It")}),i._UZ(16,"fa-icon",8),i.qZA(),i.TgZ(17,"span"),i._uU(18,"Want to Read It"),i.qZA(),i.qZA(),i.TgZ(19,"div",5),i.TgZ(20,"button",6),i.NdJ("click",function(){return e.addToShelf("Have Read It")}),i._UZ(21,"fa-icon",8),i.qZA(),i.TgZ(22,"span"),i._uU(23,"Have Read It"),i.qZA(),i.qZA(),i.TgZ(24,"div",5),i.TgZ(25,"button",6),i.NdJ("click",function(){return e.addToShelf("Did Not Finish It")}),i._UZ(26,"fa-icon",8),i.qZA(),i.TgZ(27,"span"),i._uU(28,"Did Not Finish It"),i.qZA(),i.qZA(),i.TgZ(29,"div",5),i.TgZ(30,"button",6),i.NdJ("click",function(){return e.addToShelf("Currently Reading It")}),i._UZ(31,"fa-icon",8),i.qZA(),i.TgZ(32,"span"),i._uU(33,"Currently Reading It"),i.qZA(),i.qZA(),i.TgZ(34,"div",5),i.TgZ(35,"button",6),i.NdJ("click",function(){return e.addToShelf("Burn It!"),e.showFire=!e.showFire}),i._UZ(36,"fa-icon",9),i.qZA(),i.TgZ(37,"span"),i._uU(38,"Burn It!"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(39,"div",10),i.TgZ(40,"div"),i.TgZ(41,"span",11),i.TgZ(42,"h3"),i._uU(43,"Details"),i.qZA(),i.TgZ(44,"button",12),i.NdJ("click",function(){return e.expandDetails=!e.expandDetails}),i._UZ(45,"fa-icon",7),i.qZA(),i.qZA(),i.YNc(46,vk,12,3,"div",13),i.qZA(),i.qZA(),i.TgZ(47,"div",10),i.TgZ(48,"span",11),i.TgZ(49,"h3"),i._uU(50,"Reviews"),i.qZA(),i.TgZ(51,"button",12),i.NdJ("click",function(){return e.expandReviews=!e.expandReviews}),i._UZ(52,"fa-icon",7),i.qZA(),i.qZA(),i.YNc(53,_k,2,1,"span",13),i.qZA(),i.YNc(54,wk,1,2,"app-review-toggle-button",14)),2&t&&(i.xp6(3),i.Oqu(null==e.book?null:e.book.title),i.xp6(3),i.MGl("src","http://covers.openlibrary.org/b/isbn/",e.isbn,"-M.jpg?default=false",i.LSH),i.xp6(1),i.Q6J("ngIf",e.showFire),i.xp6(4),i.Q6J("icon",e.faStarHalfAlt),i.xp6(5),i.Q6J("icon",e.faPlus),i.xp6(5),i.Q6J("icon",e.faPlus),i.xp6(5),i.Q6J("icon",e.faPlus),i.xp6(5),i.Q6J("icon",e.faPlus),i.xp6(5),i.Q6J("icon",e.faDumpsterFire),i.xp6(9),i.Q6J("icon",e.faChevronDown),i.xp6(1),i.Q6J("ngIf",e.expandDetails),i.xp6(6),i.Q6J("icon",e.faChevronDown),i.xp6(1),i.Q6J("ngIf",e.expandReviews),i.xp6(1),i.Q6J("ngIf",e.showReviewForm))},directives:[AS,AT,D,kS,R,pk],styles:["*[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif}.book[_ngcontent-%COMP%]{width:200px}.book[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}button[_ngcontent-%COMP%]{font-size:1em;padding:2px 5px;border-radius:50%;height:40px;width:40px;background-color:#3793cd;border:2px solid #3793cd;color:#f5f5f5}button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;margin-right:60px}.button-row[_ngcontent-%COMP%]{padding:5px}.container[_ngcontent-%COMP%]{display:flex;margin:10px;padding:20px;height:700px;border-radius:5px;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030;flex-direction:column;justify-content:space-around;background-color:#f5f5f5}h2[_ngcontent-%COMP%]{margin-left:10px}h3[_ngcontent-%COMP%]{font-size:1.5em}.details[_ngcontent-%COMP%]{display:flex;flex-direction:row}.details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-right:10px}.details_container[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{margin-left:10px}.chevron[_ngcontent-%COMP%]{width:30px;height:30px}@keyframes scaleUpDown{0%,to{transform:scaleY(1) scaleX(1)}50%,90%{transform:scaleY(1.1)}75%{transform:scaleY(.95)}80%{transform:scaleX(.95)}}@keyframes shake{0%,to{transform:skewX(0) scale(1)}50%{transform:skewX(5deg) scale(.9)}}@keyframes particleUp{0%{opacity:0}20%{opacity:1}80%{opacity:1}to{opacity:0;top:-100%;transform:scale(.5)}}@keyframes glow{0%,to{background-color:#ef5a00}50%{background-color:#ff7800}}.outer[_ngcontent-%COMP%]{width:150px;height:250px;vertical-align:middle}.fire[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{position:relative}.fire[_ngcontent-%COMP%]{display:block;left:20px;top:-150px;width:100px;height:100px;background-color:initial;margin-left:auto;margin-right:auto}.fire-main[_ngcontent-%COMP%]{animation:scaleUpDown 3s ease-out;animation-iteration-count:infinite;animation-fill-mode:both}.fire-main[_ngcontent-%COMP%], .fire-main[_ngcontent-%COMP%]   .main-fire[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.fire-main[_ngcontent-%COMP%]   .main-fire[_ngcontent-%COMP%]{background-image:radial-gradient(farthest-corner at 10px 0,#d43300 0,#ef5a00 95%);transform:scaleX(.8) rotate(45deg);border-radius:0 40% 60% 40%;filter:drop-shadow(0 0 10px #d43322)}.fire-main[_ngcontent-%COMP%]   .particle-fire[_ngcontent-%COMP%]{position:absolute;top:60%;left:45%;width:10px;height:10px;background-color:#ef5a00;border-radius:50%;filter:drop-shadow(0 0 10px #d43322);animation:particleUp 2s ease-out 0;animation-iteration-count:infinite;animation-fill-mode:both}.fire-right[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;animation:shake 2s ease-out 0;animation-iteration-count:infinite;animation-fill-mode:both}.fire-right[_ngcontent-%COMP%]   .main-fire[_ngcontent-%COMP%]{top:15%;right:-25%;width:80%;height:80%;border-radius:0 40% 60% 40%}.fire-right[_ngcontent-%COMP%]   .main-fire[_ngcontent-%COMP%], .fire-right[_ngcontent-%COMP%]   .particle-fire[_ngcontent-%COMP%]{position:absolute;background-color:#ef5a00;transform:scaleX(.8) rotate(45deg);filter:drop-shadow(0 0 10px #d43322)}.fire-right[_ngcontent-%COMP%]   .particle-fire[_ngcontent-%COMP%]{top:45%;left:50%;width:15px;height:15px;border-radius:50%;animation:particleUp 2s ease-out 0;animation-iteration-count:infinite;animation-fill-mode:both}.fire-left[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;animation:shake 3s ease-out 0;animation-iteration-count:infinite;animation-fill-mode:both}.fire-left[_ngcontent-%COMP%]   .main-fire[_ngcontent-%COMP%]{top:15%;left:-20%;width:80%;height:80%;transform:scaleX(.8) rotate(45deg);border-radius:0 40% 60% 40%}.fire-left[_ngcontent-%COMP%]   .main-fire[_ngcontent-%COMP%], .fire-left[_ngcontent-%COMP%]   .particle-fire[_ngcontent-%COMP%]{position:absolute;background-color:#ef5a00;filter:drop-shadow(0 0 10px #d43322)}.fire-left[_ngcontent-%COMP%]   .particle-fire[_ngcontent-%COMP%]{top:10%;left:20%;width:10%;height:10%;border-radius:50%;animation:particleUp 0 3s ease-out infinite;animation-fill-mode:both}.fire-bottom[_ngcontent-%COMP%]   .main-fire[_ngcontent-%COMP%]{position:absolute;top:30%;left:20%;width:75%;height:75%;background-color:#ff7800;transform:scaleX(.8) rotate(45deg);border-radius:0 40% 100% 40%;filter:blur(10px);animation:glow 2s ease-out 0;animation-iteration-count:infinite;animation-fill-mode:both}@media only screen and (min-width:720px){.container[_ngcontent-%COMP%]{flex-direction:row;height:400px}}"]}),t})()},{path:"about",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-about"]],decls:78,vars:0,consts:[[1,"main"],["href","https://grandcircus.co"],["href","https://openlibrary.org/"],["href","https://developer.nytimes.com/docs/books-product/1/overview"],[1,"us"],[1,"bio"],["src","assets/MaggieOudsema.jpg"],[1,"book"],["href","https://www.linkedin.com/in/maggieoudsema/"],["href","https://github.com/oudsemam"],["src","assets/KWprofile600.jpg"],["href","https://www.linkedin.com/in/kate-woods/"],["href","https://github.com/bailandocubita"],["src","assets/Harrison-91.jpg"],["href","https://www.linkedin.com/in/mechial-harrison/"],["href","https://github.com/MechialH"]],template:function(t,e){1&t&&(i._UZ(0,"app-main-header"),i._UZ(1,"app-search-bar"),i.TgZ(2,"div",0),i.TgZ(3,"h1"),i._uU(4,"About"),i.qZA(),i.TgZ(5,"h2"),i._uU(6,"Welcome to Novelish - the not so novel idea for book lovers everywhere!"),i.qZA(),i.TgZ(7,"p"),i._uU(8,"Novelish is the product of three book loving full stack graduates of "),i.TgZ(9,"a",1),i._uU(10,"Grand Circus"),i.qZA(),i._uU(11,", based in West Michigan, who hadn't yet found a satisfying solution for a book organizing app. We wanted a great user experience that was simple and easy to use, and allowed us to save and organize our book lists. Be sure to check back for new features currently in development, like creating your own shelves, advanced searching, tracking progress in your books, and adding notes."),i.qZA(),i.TgZ(12,"ul"),i.TgZ(13,"h2"),i._uU(14,"Technologies Used:"),i.qZA(),i.TgZ(15,"li"),i.TgZ(16,"a",2),i._uU(17,"Open Library API"),i.qZA(),i.qZA(),i.TgZ(18,"li"),i.TgZ(19,"a",3),i._uU(20,"New York Times Best Sellers API"),i.qZA(),i.qZA(),i.TgZ(21,"li"),i._uU(22,"Backend database created in PostgresSQL and Insomnia using Express framework"),i.qZA(),i.TgZ(23,"li"),i._uU(24,"Firebase user authentication"),i.qZA(),i.TgZ(25,"li"),i._uU(26,"Sentry error tracking"),i.qZA(),i.TgZ(27,"li"),i._uU(28,"Angular 12 platform"),i.qZA(),i.qZA(),i.TgZ(29,"div",4),i.TgZ(30,"div",5),i._UZ(31,"img",6),i.TgZ(32,"p"),i.TgZ(33,"span"),i._uU(34,"Maggie Oudsema"),i.qZA(),i._uU(35," has 12+ years of experience as a research assistant partnered with the hands-on software development skills gained at Grand Circus coding boot camp. Maggie assisted with the development of this app. Her main focus was wire-framing and FireBase Authorization. However, she helped and assisted with all aspects of coding with para-coding and troubleshooting as needed."),i.qZA(),i.TgZ(36,"p",7),i._uU(37,"Current Favorite Book:"),i.qZA(),i.TgZ(38,"p"),i._uU(39,"The Lightbringer Series by Brent Weeks "),i.qZA(),i.TgZ(40,"p"),i.TgZ(41,"a",8),i._uU(42,"LinkedIn"),i.qZA(),i.qZA(),i.TgZ(43,"p"),i.TgZ(44,"a",9),i._uU(45,"GitHub"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(46,"div",5),i._UZ(47,"img",10),i.TgZ(48,"p"),i.TgZ(49,"span"),i._uU(50,"Kate Mora Woods"),i.qZA(),i._uU(51," is a communications professional bringing her 6+ years of project management and internal communications experience in to her coding adventures. Her main focus on Novelish was the creation of the backend database using SQL, as well as creating the initial endpoints. She was thrilled to work with both Maggie and Mechial utilizing pair programming and beer. "),i.qZA(),i.TgZ(52,"p",7),i._uU(53,"Current Favorite Book:"),i.qZA(),i.TgZ(54,"p"),i._uU(55,'"Byzantium" by Stephen R. Lawhead '),i.qZA(),i.TgZ(56,"p"),i.TgZ(57,"a",11),i._uU(58,"LinkedIn"),i.qZA(),i.qZA(),i.TgZ(59,"p"),i.TgZ(60,"a",12),i._uU(61,"GitHub"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(62,"div",5),i._UZ(63,"img",13),i.TgZ(64,"p"),i.TgZ(65,"span"),i._uU(66,"Mechial Harrison"),i.qZA(),i._uU(67," has spent the last 6+ years delivering high quality meals in high traffic kitchens. He brings his passion for details and positive energy to software development. His main focus on this project was connecting to the multiple APIs and creating the services on the backend, as well as Typescriptted JavaScript functions galore. "),i.qZA(),i.TgZ(68,"p",7),i._uU(69,"Current Favorite Book:"),i.qZA(),i.TgZ(70,"p"),i._uU(71,'"The Dresden Files" by Jim Butcher'),i.qZA(),i.TgZ(72,"p"),i.TgZ(73,"a",14),i._uU(74,"LinkedIn"),i.qZA(),i.qZA(),i.TgZ(75,"p"),i.TgZ(76,"a",15),i._uU(77,"GitHub"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA())},directives:[AS,AT],styles:["*[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:15px}h1[_ngcontent-%COMP%]{font-size:2.5em}.bio[_ngcontent-%COMP%], .us[_ngcontent-%COMP%]{display:flex;flex-direction:column}.bio[_ngcontent-%COMP%]{align-items:center;border-radius:10px;margin:15px;padding:10px;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030;background-color:#f5f5f5}.bio[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:1.5em}.bio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}img[_ngcontent-%COMP%]{width:200px;height:200px;margin:5px;box-shadow:0 4px 8px 0 #0003,0 6px 20px 0 #00000030}.bio[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{text-decoration:underline;color:#000}.bio[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700}a[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.book[_ngcontent-%COMP%]{font-weight:700;font-style:italic}@media only screen and (min-width:720px){.us[_ngcontent-%COMP%]{flex-direction:row}}"]}),t})()}];let Ck=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Xo.forRoot(xk)],Xo]}),t})(),Sk=(()=>{class t{constructor(){this.title="Novelish"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"background"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i._UZ(1,"router-outlet"),i.qZA())},directives:[Bo],styles:["*[_ngcontent-%COMP%]{padding:0 0 55px;margin:0}.background[_ngcontent-%COMP%]{color:#000;background-image:linear-gradient(180deg,#f5f5f5,#d3d3d3,#3793cd)}"]}),t})(),Tk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[],imports:[[U]]}),t})();const Ek={apiKey:"AIzaSyASFRSJgq2MZm12I4Nxn7c8kXFtyc5zN9o",authDomain:"novel-ish-app.firebaseapp.com",projectId:"novel-ish-app",storageBucket:"novel-ish-app.appspot.com",messagingSenderId:"153734898826",appId:"1:153734898826:web:812837a286cb826e4bf973",measurementId:"G-QMSDK2S8W3"};let kk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t,bootstrap:[Sk]}),t.\u0275inj=i.cJS({providers:[nC,{provide:i.qLn,useValue:ka({showDialog:!0})},{provide:fs,deps:[jo]},{provide:i.ip1,useFactory:()=>()=>{},deps:[fs],multi:!0},eC,MT,PS],imports:[[xt,Ck,OS,Ka.hO.initializeApp(Ek),Ux,tC,Ta,IT,Tk,uk]]}),t})();var Ok;(Ok={dsn:"https://9b51d6f3250f4fb28a8e38436e324e82@o576647.ingest.sentry.io/5798070",integrations:[new $s.BrowserTracing({tracingOrigins:["localhost","https://yourserver.io/api"],routingInstrumentation:function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0),us=!0,cs=t,ls=n,e&&t({name:window.location.pathname,op:"pageload"})}})],tracesSampleRate:1})._metadata=Ok._metadata||{},Ok._metadata.sdk={name:"sentry.javascript.angular",packages:[{name:"npm:@sentry/angular",version:Ct}],version:Ct},function(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=Qe),void 0===t.release){var e=(0,Pt.Rf)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),function(t,e){var n;!0===e.debug&&Tt.k.enable();var r=(0,St.Gd)();null===(n=r.getScope())||void 0===n||n.update(e.initialScope);var i=new t(e);r.bindClient(i)}(ze,t),t.autoSessionTracking&&function(){if(void 0!==(0,Pt.Rf)().document){var t=(0,St.Gd)();"function"==typeof t.startSession&&"function"==typeof t.captureSession&&(t.startSession({ignoreDuration:!0}),t.captureSession(),(0,Lt.o)({callback:function(e){var n=e.from;void 0!==n&&n!==e.to&&(t.startSession({ignoreDuration:!0}),t.captureSession())},type:"history"}))}else Tt.k.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}(Ok),_t().bootstrapModule(kk).catch(t=>console.error(t))},5944:(t,e,n)=>{"use strict";n.d(e,{pi:()=>r,fl:()=>o});var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function o(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}},9516:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,_T:()=>s,XA:()=>a,CR:()=>u,fl:()=>c});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}},5037:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,XA:()=>s,CR:()=>a});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}}},t=>{"use strict";t(t.s=8438)}]);