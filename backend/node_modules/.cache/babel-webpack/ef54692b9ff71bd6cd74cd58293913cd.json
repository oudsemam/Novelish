{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { API, captureException, withScope } from '@sentry/core';\nimport { addExceptionMechanism, addExceptionTypeValue, logger } from '@sentry/utils';\nvar ignoreOnError = 0;\n/**\n * @hidden\n */\n\nexport function shouldIgnoreOnError() {\n  return ignoreOnError > 0;\n}\n/**\n * @hidden\n */\n\nexport function ignoreNextOnError() {\n  // onerror should trigger before setTimeout\n  ignoreOnError += 1;\n  setTimeout(function () {\n    ignoreOnError -= 1;\n  });\n}\n/**\n * Instruments the given function and sends an event to Sentry every time the\n * function throws an exception.\n *\n * @param fn A function to wrap.\n * @returns The wrapped function.\n * @hidden\n */\n\nexport function wrap(fn, options, before) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (typeof fn !== 'function') {\n    return fn;\n  }\n\n  try {\n    // We don't wanna wrap it twice\n    if (fn.__sentry__) {\n      return fn;\n    } // If this has already been wrapped in the past, return that wrapped function\n\n\n    if (fn.__sentry_wrapped__) {\n      return fn.__sentry_wrapped__;\n    }\n  } catch (e) {\n    // Just accessing custom props in some Selenium environments\n    // can cause a \"Permission denied\" exception (see raven-js#495).\n    // Bail on wrapping and return the function as-is (defers to window.onerror).\n    return fn;\n  }\n  /* eslint-disable prefer-rest-params */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  var sentryWrapped = function () {\n    var args = Array.prototype.slice.call(arguments);\n\n    try {\n      if (before && typeof before === 'function') {\n        before.apply(this, arguments);\n      } // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n\n\n      var wrappedArguments = args.map(function (arg) {\n        return wrap(arg, options);\n      });\n\n      if (fn.handleEvent) {\n        // Attempt to invoke user-land function\n        // NOTE: If you are a Sentry user, and you are seeing this stack frame, it\n        //       means the sentry.javascript SDK caught an error invoking your application code. This\n        //       is expected behavior and NOT indicative of a bug with sentry.javascript.\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        return fn.handleEvent.apply(this, wrappedArguments);\n      } // Attempt to invoke user-land function\n      // NOTE: If you are a Sentry user, and you are seeing this stack frame, it\n      //       means the sentry.javascript SDK caught an error invoking your application code. This\n      //       is expected behavior and NOT indicative of a bug with sentry.javascript.\n\n\n      return fn.apply(this, wrappedArguments);\n    } catch (ex) {\n      ignoreNextOnError();\n      withScope(function (scope) {\n        scope.addEventProcessor(function (event) {\n          var processedEvent = __assign({}, event);\n\n          if (options.mechanism) {\n            addExceptionTypeValue(processedEvent, undefined, undefined);\n            addExceptionMechanism(processedEvent, options.mechanism);\n          }\n\n          processedEvent.extra = __assign(__assign({}, processedEvent.extra), {\n            arguments: args\n          });\n          return processedEvent;\n        });\n        captureException(ex);\n      });\n      throw ex;\n    }\n  };\n  /* eslint-enable prefer-rest-params */\n  // Accessing some objects may throw\n  // ref: https://github.com/getsentry/sentry-javascript/issues/1168\n\n\n  try {\n    for (var property in fn) {\n      if (Object.prototype.hasOwnProperty.call(fn, property)) {\n        sentryWrapped[property] = fn[property];\n      }\n    }\n  } catch (_oO) {} // eslint-disable-line no-empty\n\n\n  fn.prototype = fn.prototype || {};\n  sentryWrapped.prototype = fn.prototype;\n  Object.defineProperty(fn, '__sentry_wrapped__', {\n    enumerable: false,\n    value: sentryWrapped\n  }); // Signal that this function has been wrapped/filled already\n  // for both debugging and to prevent it to being wrapped/filled twice\n\n  Object.defineProperties(sentryWrapped, {\n    __sentry__: {\n      enumerable: false,\n      value: true\n    },\n    __sentry_original__: {\n      enumerable: false,\n      value: fn\n    }\n  }); // Restore original function name (not all browsers allow that)\n\n  try {\n    var descriptor = Object.getOwnPropertyDescriptor(sentryWrapped, 'name');\n\n    if (descriptor.configurable) {\n      Object.defineProperty(sentryWrapped, 'name', {\n        get: function () {\n          return fn.name;\n        }\n      });\n    } // eslint-disable-next-line no-empty\n\n  } catch (_oO) {}\n\n  return sentryWrapped;\n}\n/**\n * Injects the Report Dialog script\n * @hidden\n */\n\nexport function injectReportDialog(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (!options.eventId) {\n    logger.error(\"Missing eventId option in showReportDialog call\");\n    return;\n  }\n\n  if (!options.dsn) {\n    logger.error(\"Missing dsn option in showReportDialog call\");\n    return;\n  }\n\n  var script = document.createElement('script');\n  script.async = true;\n  script.src = new API(options.dsn).getReportDialogEndpoint(options);\n\n  if (options.onLoad) {\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    script.onload = options.onLoad;\n  }\n\n  (document.head || document.body).appendChild(script);\n} //# sourceMappingURL=helpers.js.map","map":{"version":3,"sources":["C:/Users/mechi/Developer/novelish/node_modules/@sentry/browser/esm/helpers.js"],"names":["__assign","API","captureException","withScope","addExceptionMechanism","addExceptionTypeValue","logger","ignoreOnError","shouldIgnoreOnError","ignoreNextOnError","setTimeout","wrap","fn","options","before","__sentry__","__sentry_wrapped__","e","sentryWrapped","args","Array","prototype","slice","call","arguments","apply","wrappedArguments","map","arg","handleEvent","ex","scope","addEventProcessor","event","processedEvent","mechanism","undefined","extra","property","Object","hasOwnProperty","_oO","defineProperty","enumerable","value","defineProperties","__sentry_original__","descriptor","getOwnPropertyDescriptor","configurable","get","name","injectReportDialog","eventId","error","dsn","script","document","createElement","async","src","getReportDialogEndpoint","onLoad","onload","head","body","appendChild"],"mappings":"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","sourcesContent":["import { __assign } from \"tslib\";\nimport { API, captureException, withScope } from '@sentry/core';\nimport { addExceptionMechanism, addExceptionTypeValue, logger } from '@sentry/utils';\nvar ignoreOnError = 0;\n/**\n * @hidden\n */\nexport function shouldIgnoreOnError() {\n    return ignoreOnError > 0;\n}\n/**\n * @hidden\n */\nexport function ignoreNextOnError() {\n    // onerror should trigger before setTimeout\n    ignoreOnError += 1;\n    setTimeout(function () {\n        ignoreOnError -= 1;\n    });\n}\n/**\n * Instruments the given function and sends an event to Sentry every time the\n * function throws an exception.\n *\n * @param fn A function to wrap.\n * @returns The wrapped function.\n * @hidden\n */\nexport function wrap(fn, options, before) {\n    if (options === void 0) { options = {}; }\n    if (typeof fn !== 'function') {\n        return fn;\n    }\n    try {\n        // We don't wanna wrap it twice\n        if (fn.__sentry__) {\n            return fn;\n        }\n        // If this has already been wrapped in the past, return that wrapped function\n        if (fn.__sentry_wrapped__) {\n            return fn.__sentry_wrapped__;\n        }\n    }\n    catch (e) {\n        // Just accessing custom props in some Selenium environments\n        // can cause a \"Permission denied\" exception (see raven-js#495).\n        // Bail on wrapping and return the function as-is (defers to window.onerror).\n        return fn;\n    }\n    /* eslint-disable prefer-rest-params */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var sentryWrapped = function () {\n        var args = Array.prototype.slice.call(arguments);\n        try {\n            if (before && typeof before === 'function') {\n                before.apply(this, arguments);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n            var wrappedArguments = args.map(function (arg) { return wrap(arg, options); });\n            if (fn.handleEvent) {\n                // Attempt to invoke user-land function\n                // NOTE: If you are a Sentry user, and you are seeing this stack frame, it\n                //       means the sentry.javascript SDK caught an error invoking your application code. This\n                //       is expected behavior and NOT indicative of a bug with sentry.javascript.\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                return fn.handleEvent.apply(this, wrappedArguments);\n            }\n            // Attempt to invoke user-land function\n            // NOTE: If you are a Sentry user, and you are seeing this stack frame, it\n            //       means the sentry.javascript SDK caught an error invoking your application code. This\n            //       is expected behavior and NOT indicative of a bug with sentry.javascript.\n            return fn.apply(this, wrappedArguments);\n        }\n        catch (ex) {\n            ignoreNextOnError();\n            withScope(function (scope) {\n                scope.addEventProcessor(function (event) {\n                    var processedEvent = __assign({}, event);\n                    if (options.mechanism) {\n                        addExceptionTypeValue(processedEvent, undefined, undefined);\n                        addExceptionMechanism(processedEvent, options.mechanism);\n                    }\n                    processedEvent.extra = __assign(__assign({}, processedEvent.extra), { arguments: args });\n                    return processedEvent;\n                });\n                captureException(ex);\n            });\n            throw ex;\n        }\n    };\n    /* eslint-enable prefer-rest-params */\n    // Accessing some objects may throw\n    // ref: https://github.com/getsentry/sentry-javascript/issues/1168\n    try {\n        for (var property in fn) {\n            if (Object.prototype.hasOwnProperty.call(fn, property)) {\n                sentryWrapped[property] = fn[property];\n            }\n        }\n    }\n    catch (_oO) { } // eslint-disable-line no-empty\n    fn.prototype = fn.prototype || {};\n    sentryWrapped.prototype = fn.prototype;\n    Object.defineProperty(fn, '__sentry_wrapped__', {\n        enumerable: false,\n        value: sentryWrapped,\n    });\n    // Signal that this function has been wrapped/filled already\n    // for both debugging and to prevent it to being wrapped/filled twice\n    Object.defineProperties(sentryWrapped, {\n        __sentry__: {\n            enumerable: false,\n            value: true,\n        },\n        __sentry_original__: {\n            enumerable: false,\n            value: fn,\n        },\n    });\n    // Restore original function name (not all browsers allow that)\n    try {\n        var descriptor = Object.getOwnPropertyDescriptor(sentryWrapped, 'name');\n        if (descriptor.configurable) {\n            Object.defineProperty(sentryWrapped, 'name', {\n                get: function () {\n                    return fn.name;\n                },\n            });\n        }\n        // eslint-disable-next-line no-empty\n    }\n    catch (_oO) { }\n    return sentryWrapped;\n}\n/**\n * Injects the Report Dialog script\n * @hidden\n */\nexport function injectReportDialog(options) {\n    if (options === void 0) { options = {}; }\n    if (!options.eventId) {\n        logger.error(\"Missing eventId option in showReportDialog call\");\n        return;\n    }\n    if (!options.dsn) {\n        logger.error(\"Missing dsn option in showReportDialog call\");\n        return;\n    }\n    var script = document.createElement('script');\n    script.async = true;\n    script.src = new API(options.dsn).getReportDialogEndpoint(options);\n    if (options.onLoad) {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        script.onload = options.onLoad;\n    }\n    (document.head || document.body).appendChild(script);\n}\n//# sourceMappingURL=helpers.js.map"]},"metadata":{},"sourceType":"module"}